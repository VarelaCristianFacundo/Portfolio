var pN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var n0e=pN((me,Tr)=>{function AN(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function m4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var rT={exports:{}},o2={},sT={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),gN=Symbol.for("react.portal"),vN=Symbol.for("react.fragment"),yN=Symbol.for("react.strict_mode"),xN=Symbol.for("react.profiler"),CN=Symbol.for("react.provider"),EN=Symbol.for("react.context"),SN=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),IN=Symbol.for("react.memo"),_N=Symbol.for("react.lazy"),KC=Symbol.iterator;function MN(t){return t===null||typeof t!="object"?null:(t=KC&&t[KC]||t["@@iterator"],typeof t=="function"?t:null)}var oT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aT=Object.assign,lT={};function df(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}df.prototype.isReactComponent={};df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cT(){}cT.prototype=df.prototype;function g4(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}var v4=g4.prototype=new cT;v4.constructor=g4;aT(v4,df.prototype);v4.isPureReactComponent=!0;var YC=Array.isArray,uT=Object.prototype.hasOwnProperty,y4={current:null},hT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uT.call(e,i)&&!hT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:c0,type:t,key:s,ref:o,props:r,_owner:y4.current}}function TN(t,e){return{$$typeof:c0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x4(t){return typeof t=="object"&&t!==null&&t.$$typeof===c0}function BN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XC=/\/+/g;function k5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BN(""+t.key):e.toString(36)}function Mm(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case c0:case gN:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+k5(o,0):i,YC(r)?(n="",t!=null&&(n=t.replace(XC,"$&/")+"/"),Mm(r,e,n,"",function(c){return c})):r!=null&&(x4(r)&&(r=TN(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(XC,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",YC(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+k5(s,a);o+=Mm(s,e,n,l,r)}else if(l=MN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+k5(s,a++),o+=Mm(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nA(t,e,n){if(t==null)return t;var i=[],r=0;return Mm(t,i,"","",function(s){return e.call(n,s,r++)}),i}function bN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Tm={transition:null},RN={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Tm,ReactCurrentOwner:y4};kt.Children={map:nA,forEach:function(t,e,n){nA(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nA(t,function(){e++}),e},toArray:function(t){return nA(t,function(e){return e})||[]},only:function(t){if(!x4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=df;kt.Fragment=vN;kt.Profiler=xN;kt.PureComponent=g4;kt.StrictMode=yN;kt.Suspense=wN;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=aT({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=y4.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uT.call(e,l)&&!hT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:c0,type:t.type,key:r,ref:s,props:i,_owner:o}};kt.createContext=function(t){return t={$$typeof:EN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CN,_context:t},t.Consumer=t};kt.createElement=fT;kt.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:SN,render:t}};kt.isValidElement=x4;kt.lazy=function(t){return{$$typeof:_N,_payload:{_status:-1,_result:t},_init:bN}};kt.memo=function(t,e){return{$$typeof:IN,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=Tm.transition;Tm.transition={};try{t()}finally{Tm.transition=e}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(t,e){return er.current.useCallback(t,e)};kt.useContext=function(t){return er.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return er.current.useDeferredValue(t)};kt.useEffect=function(t,e){return er.current.useEffect(t,e)};kt.useId=function(){return er.current.useId()};kt.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};kt.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return er.current.useMemo(t,e)};kt.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};kt.useRef=function(t){return er.current.useRef(t)};kt.useState=function(t){return er.current.useState(t)};kt.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};kt.useTransition=function(){return er.current.useTransition()};kt.version="18.2.0";sT.exports=kt;var V=sT.exports;const a2=m4(V),PN=AN({__proto__:null,default:a2},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=V,LN=Symbol.for("react.element"),FN=Symbol.for("react.fragment"),kN=Object.prototype.hasOwnProperty,NN=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ON={key:!0,ref:!0,__self:!0,__source:!0};function dT(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)kN.call(e,i)&&!ON.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:LN,type:t,key:s,ref:o,props:r,_owner:NN.current}}o2.Fragment=FN;o2.jsx=dT;o2.jsxs=dT;rT.exports=o2;var C4=rT.exports;const E4=C4.Fragment,xe=C4.jsx,ut=C4.jsxs;var G6={},pT={exports:{}},Ur={},AT={exports:{}},mT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,j){var W=k.length;k.push(j);e:for(;0<W;){var $=W-1>>>1,z=k[$];if(0<r(z,j))k[$]=j,k[W]=z,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],W=k.pop();if(W!==j){k[0]=W;e:for(var $=0,z=k.length,ne=z>>>1;$<ne;){var pe=2*($+1)-1,ye=k[pe],q=pe+1,Te=k[q];if(0>r(ye,W))q<z&&0>r(Te,ye)?(k[$]=Te,k[q]=W,$=q):(k[$]=ye,k[pe]=W,$=pe);else if(q<z&&0>r(Te,W))k[$]=Te,k[q]=W,$=q;else break e}}return j}function r(k,j){var W=k.sortIndex-j.sortIndex;return W!==0?W:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,A=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=k)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(k){if(g=!1,x(k),!m)if(n(l)!==null)m=!0,Y(I);else{var j=n(c);j!==null&&ee(S,j.startTime-k)}}function I(k,j){m=!1,g&&(g=!1,C(_),_=-1),A=!0;var W=p;try{for(x(j),d=n(l);d!==null&&(!(d.expirationTime>j)||k&&!L());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var z=$(d.expirationTime<=j);j=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&i(l),x(j)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var pe=n(c);pe!==null&&ee(S,pe.startTime-j),ne=!1}return ne}finally{d=null,p=W,A=!1}}var T=!1,B=null,_=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function H(){if(B!==null){var k=t.unstable_now();P=k;var j=!0;try{j=B(!0,k)}finally{j?N():(T=!1,B=null)}}else T=!1}var N;if(typeof y=="function")N=function(){y(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=H,N=function(){J.postMessage(null)}}else N=function(){v(H,0)};function Y(k){B=k,T||(T=!0,N())}function ee(k,j){_=v(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){m||A||(m=!0,Y(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return k()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=p;p=k;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(k,j,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,k={id:u++,callback:j,priorityLevel:k,startTime:W,expirationTime:z,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(g?(C(_),_=-1):g=!0,ee(S,W-$))):(k.sortIndex=z,e(l,k),m||A||(m=!0,Y(I))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var j=p;return function(){var W=p;p=j;try{return k.apply(this,arguments)}finally{p=W}}}})(mT);AT.exports=mT;var UN=AT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=V,Pr=UN;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vT=new Set,hp={};function uu(t,e){Qh(t,e),Qh(t+"Capture",e)}function Qh(t,e){for(hp[t]=e,t=0;t<e.length;t++)vT.add(e[t])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q6=Object.prototype.hasOwnProperty,GN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qC={},ZC={};function QN(t){return Q6.call(ZC,t)?!0:Q6.call(qC,t)?!1:GN.test(t)?ZC[t]=!0:(qC[t]=!0,!1)}function HN(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zN(t,e,n,i){if(e===null||typeof e>"u"||HN(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_i[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_i[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_i[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_i[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_i[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_i[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_i[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_i[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_i[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var S4=/[\-:]([a-z])/g;function w4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S4,w4);_i[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S4,w4);_i[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S4,w4);_i[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_i[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});_i.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_i[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function I4(t,e,n,i){var r=_i.hasOwnProperty(e)?_i[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zN(e,n,r,i)&&(n=null),i||r===null?QN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ia=gT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iA=Symbol.for("react.element"),oh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),H6=Symbol.for("react.profiler"),yT=Symbol.for("react.provider"),xT=Symbol.for("react.context"),M4=Symbol.for("react.forward_ref"),z6=Symbol.for("react.suspense"),V6=Symbol.for("react.suspense_list"),T4=Symbol.for("react.memo"),tl=Symbol.for("react.lazy"),CT=Symbol.for("react.offscreen"),$C=Symbol.iterator;function Xf(t){return t===null||typeof t!="object"?null:(t=$C&&t[$C]||t["@@iterator"],typeof t=="function"?t:null)}var bn=Object.assign,N5;function bd(t){if(N5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N5=e&&e[1]||""}return`
`+N5+t}var O5=!1;function U5(t,e){if(!t||O5)return"";O5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{O5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bd(t):""}function VN(t){switch(t.tag){case 5:return bd(t.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return t=U5(t.type,!1),t;case 11:return t=U5(t.type.render,!1),t;case 1:return t=U5(t.type,!0),t;default:return""}}function W6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ah:return"Fragment";case oh:return"Portal";case H6:return"Profiler";case _4:return"StrictMode";case z6:return"Suspense";case V6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xT:return(t.displayName||"Context")+".Consumer";case yT:return(t._context.displayName||"Context")+".Provider";case M4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T4:return e=t.displayName||null,e!==null?e:W6(t.type)||"Memo";case tl:e=t._payload,t=t._init;try{return W6(t(e))}catch{}}return null}function WN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W6(e);case 8:return e===_4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ET(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JN(t){var e=ET(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rA(t){t._valueTracker||(t._valueTracker=JN(t))}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ET(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ng(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J6(t,e){var n=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eE(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Sl(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wT(t,e){e=e.checked,e!=null&&I4(t,"checked",e,!1)}function j6(t,e){wT(t,e);var n=Sl(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?K6(t,e.type,n):e.hasOwnProperty("defaultValue")&&K6(t,e.type,Sl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function K6(t,e,n){(e!=="number"||ng(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rd=Array.isArray;function Mh(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Sl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Y6(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Rd(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sl(n)}}function IT(t,e){var n=Sl(e.value),i=Sl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function iE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _T(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X6(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_T(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sA,MT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sA=sA||document.createElement("div"),sA.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sA.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jN=["Webkit","ms","Moz","O"];Object.keys(Qd).forEach(function(t){jN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qd[e]=Qd[t]})});function TT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qd.hasOwnProperty(t)&&Qd[t]?(""+e).trim():e+"px"}function BT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=TT(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var KN=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function q6(t,e){if(e){if(KN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function Z6(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $6=null;function B4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ey=null,Th=null,Bh=null;function rE(t){if(t=f0(t)){if(typeof ey!="function")throw Error(be(280));var e=t.stateNode;e&&(e=f2(e),ey(t.stateNode,t.type,e))}}function bT(t){Th?Bh?Bh.push(t):Bh=[t]:Th=t}function RT(){if(Th){var t=Th,e=Bh;if(Bh=Th=null,rE(t),e)for(t=0;t<e.length;t++)rE(e[t])}}function PT(t,e){return t(e)}function DT(){}var G5=!1;function LT(t,e,n){if(G5)return t(e,n);G5=!0;try{return PT(t,e,n)}finally{G5=!1,(Th!==null||Bh!==null)&&(DT(),RT())}}function dp(t,e){var n=t.stateNode;if(n===null)return null;var i=f2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var ty=!1;if(va)try{var qf={};Object.defineProperty(qf,"passive",{get:function(){ty=!0}}),window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{ty=!1}function YN(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Hd=!1,ig=null,rg=!1,ny=null,XN={onError:function(t){Hd=!0,ig=t}};function qN(t,e,n,i,r,s,o,a,l){Hd=!1,ig=null,YN.apply(XN,arguments)}function ZN(t,e,n,i,r,s,o,a,l){if(qN.apply(this,arguments),Hd){if(Hd){var c=ig;Hd=!1,ig=null}else throw Error(be(198));rg||(rg=!0,ny=c)}}function hu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sE(t){if(hu(t)!==t)throw Error(be(188))}function $N(t){var e=t.alternate;if(!e){if(e=hu(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return sE(r),t;if(s===i)return sE(r),e;s=s.sibling}throw Error(be(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==i)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function kT(t){return t=$N(t),t!==null?NT(t):null}function NT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NT(t);if(e!==null)return e;t=t.sibling}return null}var OT=Pr.unstable_scheduleCallback,oE=Pr.unstable_cancelCallback,eO=Pr.unstable_shouldYield,tO=Pr.unstable_requestPaint,zn=Pr.unstable_now,nO=Pr.unstable_getCurrentPriorityLevel,b4=Pr.unstable_ImmediatePriority,UT=Pr.unstable_UserBlockingPriority,sg=Pr.unstable_NormalPriority,iO=Pr.unstable_LowPriority,GT=Pr.unstable_IdlePriority,l2=null,Co=null;function rO(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(l2,t,void 0,(t.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:aO,sO=Math.log,oO=Math.LN2;function aO(t){return t>>>=0,t===0?32:31-(sO(t)/oO|0)|0}var oA=64,aA=4194304;function Pd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function og(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Pd(a):(s&=o,s!==0&&(i=Pd(s)))}else o=n&~r,o!==0?i=Pd(o):s!==0&&(i=Pd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Us(e),r=1<<n,i|=t[n],e&=~r;return i}function lO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Us(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=lO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QT(){var t=oA;return oA<<=1,!(oA&4194240)&&(oA=64),t}function Q5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function u0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Us(e),t[e]=n}function uO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Us(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function R4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Us(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var en=0;function HT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zT,P4,VT,WT,JT,ry=!1,lA=[],hl=null,fl=null,dl=null,pp=new Map,Ap=new Map,sl=[],hO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aE(t,e){switch(t){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":pp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(e.pointerId)}}function Zf(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=f0(e),e!==null&&P4(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fO(t,e,n,i,r){switch(e){case"focusin":return hl=Zf(hl,t,e,n,i,r),!0;case"dragenter":return fl=Zf(fl,t,e,n,i,r),!0;case"mouseover":return dl=Zf(dl,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return pp.set(s,Zf(pp.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ap.set(s,Zf(Ap.get(s)||null,t,e,n,i,r)),!0}return!1}function jT(t){var e=Rc(t.target);if(e!==null){var n=hu(e);if(n!==null){if(e=n.tag,e===13){if(e=FT(n),e!==null){t.blockedOn=e,JT(t.priority,function(){VT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);$6=i,n.target.dispatchEvent(i),$6=null}else return e=f0(n),e!==null&&P4(e),t.blockedOn=n,!1;e.shift()}return!0}function lE(t,e,n){Bm(t)&&n.delete(e)}function dO(){ry=!1,hl!==null&&Bm(hl)&&(hl=null),fl!==null&&Bm(fl)&&(fl=null),dl!==null&&Bm(dl)&&(dl=null),pp.forEach(lE),Ap.forEach(lE)}function $f(t,e){t.blockedOn===e&&(t.blockedOn=null,ry||(ry=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,dO)))}function mp(t){function e(r){return $f(r,t)}if(0<lA.length){$f(lA[0],t);for(var n=1;n<lA.length;n++){var i=lA[n];i.blockedOn===t&&(i.blockedOn=null)}}for(hl!==null&&$f(hl,t),fl!==null&&$f(fl,t),dl!==null&&$f(dl,t),pp.forEach(e),Ap.forEach(e),n=0;n<sl.length;n++)i=sl[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<sl.length&&(n=sl[0],n.blockedOn===null);)jT(n),n.blockedOn===null&&sl.shift()}var bh=Ia.ReactCurrentBatchConfig,ag=!0;function pO(t,e,n,i){var r=en,s=bh.transition;bh.transition=null;try{en=1,D4(t,e,n,i)}finally{en=r,bh.transition=s}}function AO(t,e,n,i){var r=en,s=bh.transition;bh.transition=null;try{en=4,D4(t,e,n,i)}finally{en=r,bh.transition=s}}function D4(t,e,n,i){if(ag){var r=sy(t,e,n,i);if(r===null)q5(t,e,i,lg,n),aE(t,i);else if(fO(r,t,e,n,i))i.stopPropagation();else if(aE(t,i),e&4&&-1<hO.indexOf(t)){for(;r!==null;){var s=f0(r);if(s!==null&&zT(s),s=sy(t,e,n,i),s===null&&q5(t,e,i,lg,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else q5(t,e,i,null,n)}}var lg=null;function sy(t,e,n,i){if(lg=null,t=B4(i),t=Rc(t),t!==null)if(e=hu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lg=t,null}function KT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nO()){case b4:return 1;case UT:return 4;case sg:case iO:return 16;case GT:return 536870912;default:return 16}default:return 16}}var al=null,L4=null,bm=null;function YT(){if(bm)return bm;var t,e=L4,n=e.length,i,r="value"in al?al.value:al.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return bm=r.slice(t,1<i?1-i:void 0)}function Rm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cA(){return!0}function cE(){return!1}function Gr(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cA:cE,this.isPropagationStopped=cE,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cA)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cA)},persist:function(){},isPersistent:cA}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F4=Gr(pf),h0=bn({},pf,{view:0,detail:0}),mO=Gr(h0),H5,z5,ed,c2=bn({},h0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ed&&(ed&&t.type==="mousemove"?(H5=t.screenX-ed.screenX,z5=t.screenY-ed.screenY):z5=H5=0,ed=t),H5)},movementY:function(t){return"movementY"in t?t.movementY:z5}}),uE=Gr(c2),gO=bn({},c2,{dataTransfer:0}),vO=Gr(gO),yO=bn({},h0,{relatedTarget:0}),V5=Gr(yO),xO=bn({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),CO=Gr(xO),EO=bn({},pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SO=Gr(EO),wO=bn({},pf,{data:0}),hE=Gr(wO),IO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MO[t])?!!e[t]:!1}function k4(){return TO}var BO=bn({},h0,{key:function(t){if(t.key){var e=IO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k4,charCode:function(t){return t.type==="keypress"?Rm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bO=Gr(BO),RO=bn({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=Gr(RO),PO=bn({},h0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k4}),DO=Gr(PO),LO=bn({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FO=Gr(LO),kO=bn({},c2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NO=Gr(kO),OO=[9,13,27,32],N4=va&&"CompositionEvent"in window,zd=null;va&&"documentMode"in document&&(zd=document.documentMode);var UO=va&&"TextEvent"in window&&!zd,XT=va&&(!N4||zd&&8<zd&&11>=zd),dE=String.fromCharCode(32),pE=!1;function qT(t,e){switch(t){case"keyup":return OO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lh=!1;function GO(t,e){switch(t){case"compositionend":return ZT(e);case"keypress":return e.which!==32?null:(pE=!0,dE);case"textInput":return t=e.data,t===dE&&pE?null:t;default:return null}}function QO(t,e){if(lh)return t==="compositionend"||!N4&&qT(t,e)?(t=YT(),bm=L4=al=null,lh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XT&&e.locale!=="ko"?null:e.data;default:return null}}var HO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HO[t.type]:e==="textarea"}function $T(t,e,n,i){bT(i),e=cg(e,"onChange"),0<e.length&&(n=new F4("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Vd=null,gp=null;function zO(t){uB(t,0)}function u2(t){var e=hh(t);if(ST(e))return t}function VO(t,e){if(t==="change")return e}var eB=!1;if(va){var W5;if(va){var J5="oninput"in document;if(!J5){var mE=document.createElement("div");mE.setAttribute("oninput","return;"),J5=typeof mE.oninput=="function"}W5=J5}else W5=!1;eB=W5&&(!document.documentMode||9<document.documentMode)}function gE(){Vd&&(Vd.detachEvent("onpropertychange",tB),gp=Vd=null)}function tB(t){if(t.propertyName==="value"&&u2(gp)){var e=[];$T(e,gp,t,B4(t)),LT(zO,e)}}function WO(t,e,n){t==="focusin"?(gE(),Vd=e,gp=n,Vd.attachEvent("onpropertychange",tB)):t==="focusout"&&gE()}function JO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u2(gp)}function jO(t,e){if(t==="click")return u2(e)}function KO(t,e){if(t==="input"||t==="change")return u2(e)}function YO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vs=typeof Object.is=="function"?Object.is:YO;function vp(t,e){if(Vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Q6.call(e,r)||!Vs(t[r],e[r]))return!1}return!0}function vE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yE(t,e){var n=vE(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vE(n)}}function nB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iB(){for(var t=window,e=ng();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ng(t.document)}return e}function O4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XO(t){var e=iB(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nB(n.ownerDocument.documentElement,n)){if(i!==null&&O4(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=yE(n,s);var o=yE(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qO=va&&"documentMode"in document&&11>=document.documentMode,ch=null,oy=null,Wd=null,ay=!1;function xE(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ay||ch==null||ch!==ng(i)||(i=ch,"selectionStart"in i&&O4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wd&&vp(Wd,i)||(Wd=i,i=cg(oy,"onSelect"),0<i.length&&(e=new F4("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ch)))}function uA(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uh={animationend:uA("Animation","AnimationEnd"),animationiteration:uA("Animation","AnimationIteration"),animationstart:uA("Animation","AnimationStart"),transitionend:uA("Transition","TransitionEnd")},j5={},rB={};va&&(rB=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function h2(t){if(j5[t])return j5[t];if(!uh[t])return t;var e=uh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rB)return j5[t]=e[n];return t}var sB=h2("animationend"),oB=h2("animationiteration"),aB=h2("animationstart"),lB=h2("transitionend"),cB=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(t,e){cB.set(t,e),uu(e,[t])}for(var K5=0;K5<CE.length;K5++){var Y5=CE[K5],ZO=Y5.toLowerCase(),$O=Y5[0].toUpperCase()+Y5.slice(1);Nl(ZO,"on"+$O)}Nl(sB,"onAnimationEnd");Nl(oB,"onAnimationIteration");Nl(aB,"onAnimationStart");Nl("dblclick","onDoubleClick");Nl("focusin","onFocus");Nl("focusout","onBlur");Nl(lB,"onTransitionEnd");Qh("onMouseEnter",["mouseout","mouseover"]);Qh("onMouseLeave",["mouseout","mouseover"]);Qh("onPointerEnter",["pointerout","pointerover"]);Qh("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dd));function EE(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ZN(i,e,void 0,t),t.currentTarget=null}function uB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;EE(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;EE(r,a,c),s=l}}}if(rg)throw t=ny,rg=!1,ny=null,t}function dn(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var i=t+"__bubble";n.has(i)||(hB(e,t,2,!1),n.add(i))}function X5(t,e,n){var i=0;e&&(i|=4),hB(n,t,i,e)}var hA="_reactListening"+Math.random().toString(36).slice(2);function yp(t){if(!t[hA]){t[hA]=!0,vT.forEach(function(n){n!=="selectionchange"&&(eU.has(n)||X5(n,!1,t),X5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hA]||(e[hA]=!0,X5("selectionchange",!1,e))}}function hB(t,e,n,i){switch(KT(e)){case 1:var r=pO;break;case 4:r=AO;break;default:r=D4}n=r.bind(null,e,n,t),r=void 0,!ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function q5(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Rc(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}LT(function(){var c=s,u=B4(n),d=[];e:{var p=cB.get(t);if(p!==void 0){var A=F4,m=t;switch(t){case"keypress":if(Rm(n)===0)break e;case"keydown":case"keyup":A=bO;break;case"focusin":m="focus",A=V5;break;case"focusout":m="blur",A=V5;break;case"beforeblur":case"afterblur":A=V5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=uE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=vO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=DO;break;case sB:case oB:case aB:A=CO;break;case lB:A=FO;break;case"scroll":A=mO;break;case"wheel":A=NO;break;case"copy":case"cut":case"paste":A=SO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=fE}var g=(e&4)!==0,v=!g&&t==="scroll",C=g?p!==null?p+"Capture":null:p;g=[];for(var y=c,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,C!==null&&(S=dp(y,C),S!=null&&g.push(xp(y,S,x)))),v)break;y=y.return}0<g.length&&(p=new A(p,m,null,n,u),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",p&&n!==$6&&(m=n.relatedTarget||n.fromElement)&&(Rc(m)||m[ya]))break e;if((A||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,A?(m=n.relatedTarget||n.toElement,A=c,m=m?Rc(m):null,m!==null&&(v=hu(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(A=null,m=c),A!==m)){if(g=uE,S="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=fE,S="onPointerLeave",C="onPointerEnter",y="pointer"),v=A==null?p:hh(A),x=m==null?p:hh(m),p=new g(S,y+"leave",A,n,u),p.target=v,p.relatedTarget=x,S=null,Rc(u)===c&&(g=new g(C,y+"enter",m,n,u),g.target=x,g.relatedTarget=v,S=g),v=S,A&&m)t:{for(g=A,C=m,y=0,x=g;x;x=ku(x))y++;for(x=0,S=C;S;S=ku(S))x++;for(;0<y-x;)g=ku(g),y--;for(;0<x-y;)C=ku(C),x--;for(;y--;){if(g===C||C!==null&&g===C.alternate)break t;g=ku(g),C=ku(C)}g=null}else g=null;A!==null&&SE(d,p,A,g,!1),m!==null&&v!==null&&SE(d,v,m,g,!0)}}e:{if(p=c?hh(c):window,A=p.nodeName&&p.nodeName.toLowerCase(),A==="select"||A==="input"&&p.type==="file")var I=VO;else if(AE(p))if(eB)I=KO;else{I=JO;var T=WO}else(A=p.nodeName)&&A.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=jO);if(I&&(I=I(t,c))){$T(d,I,n,u);break e}T&&T(t,p,c),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&K6(p,"number",p.value)}switch(T=c?hh(c):window,t){case"focusin":(AE(T)||T.contentEditable==="true")&&(ch=T,oy=c,Wd=null);break;case"focusout":Wd=oy=ch=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,xE(d,n,u);break;case"selectionchange":if(qO)break;case"keydown":case"keyup":xE(d,n,u)}var B;if(N4)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else lh?qT(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(XT&&n.locale!=="ko"&&(lh||_!=="onCompositionStart"?_==="onCompositionEnd"&&lh&&(B=YT()):(al=u,L4="value"in al?al.value:al.textContent,lh=!0)),T=cg(c,_),0<T.length&&(_=new hE(_,t,null,n,u),d.push({event:_,listeners:T}),B?_.data=B:(B=ZT(n),B!==null&&(_.data=B)))),(B=UO?GO(t,n):QO(t,n))&&(c=cg(c,"onBeforeInput"),0<c.length&&(u=new hE("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=B))}uB(d,e)})}function xp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cg(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=dp(t,n),s!=null&&i.unshift(xp(t,s,r)),s=dp(t,e),s!=null&&i.push(xp(t,s,r))),t=t.return}return i}function ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SE(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=dp(n,s),l!=null&&o.unshift(xp(n,l,a))):r||(l=dp(n,s),l!=null&&o.push(xp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tU=/\r\n?/g,nU=/\u0000|\uFFFD/g;function wE(t){return(typeof t=="string"?t:""+t).replace(tU,`
`).replace(nU,"")}function fA(t,e,n){if(e=wE(e),wE(t)!==e&&n)throw Error(be(425))}function ug(){}var ly=null,cy=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,iU=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(t){return IE.resolve(null).then(t).catch(sU)}:hy;function sU(t){setTimeout(function(){throw t})}function Z5(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),mp(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);mp(e)}function pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Af=Math.random().toString(36).slice(2),yo="__reactFiber$"+Af,Cp="__reactProps$"+Af,ya="__reactContainer$"+Af,fy="__reactEvents$"+Af,oU="__reactListeners$"+Af,aU="__reactHandles$"+Af;function Rc(t){var e=t[yo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[yo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_E(t);t!==null;){if(n=t[yo])return n;t=_E(t)}return e}t=n,n=t.parentNode}return null}function f0(t){return t=t[yo]||t[ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function f2(t){return t[Cp]||null}var dy=[],fh=-1;function Ol(t){return{current:t}}function mn(t){0>fh||(t.current=dy[fh],dy[fh]=null,fh--)}function un(t,e){fh++,dy[fh]=t.current,t.current=e}var wl={},Ni=Ol(wl),hr=Ol(!1),qc=wl;function Hh(t,e){var n=t.type.contextTypes;if(!n)return wl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function fr(t){return t=t.childContextTypes,t!=null}function hg(){mn(hr),mn(Ni)}function ME(t,e,n){if(Ni.current!==wl)throw Error(be(168));un(Ni,e),un(hr,n)}function fB(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(be(108,WN(t)||"Unknown",r));return bn({},n,i)}function fg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wl,qc=Ni.current,un(Ni,t),un(hr,hr.current),!0}function TE(t,e,n){var i=t.stateNode;if(!i)throw Error(be(169));n?(t=fB(t,e,qc),i.__reactInternalMemoizedMergedChildContext=t,mn(hr),mn(Ni),un(Ni,t)):mn(hr),un(hr,n)}var oa=null,d2=!1,$5=!1;function dB(t){oa===null?oa=[t]:oa.push(t)}function lU(t){d2=!0,dB(t)}function Ul(){if(!$5&&oa!==null){$5=!0;var t=0,e=en;try{var n=oa;for(en=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}oa=null,d2=!1}catch(r){throw oa!==null&&(oa=oa.slice(t+1)),OT(b4,Ul),r}finally{en=e,$5=!1}}return null}var dh=[],ph=0,dg=null,pg=0,os=[],as=0,Zc=null,la=1,ca="";function vc(t,e){dh[ph++]=pg,dh[ph++]=dg,dg=t,pg=e}function pB(t,e,n){os[as++]=la,os[as++]=ca,os[as++]=Zc,Zc=t;var i=la;t=ca;var r=32-Us(i)-1;i&=~(1<<r),n+=1;var s=32-Us(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,la=1<<32-Us(e)+r|n<<r|i,ca=s+t}else la=1<<s|n<<r|i,ca=t}function U4(t){t.return!==null&&(vc(t,1),pB(t,1,0))}function G4(t){for(;t===dg;)dg=dh[--ph],dh[ph]=null,pg=dh[--ph],dh[ph]=null;for(;t===Zc;)Zc=os[--as],os[as]=null,ca=os[--as],os[as]=null,la=os[--as],os[as]=null}var Br=null,Mr=null,Cn=!1,ks=null;function AB(t,e){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Mr=pl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zc!==null?{id:la,overflow:ca}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Br=t,Mr=null,!0):!1;default:return!1}}function py(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ay(t){if(Cn){var e=Mr;if(e){var n=e;if(!BE(t,e)){if(py(t))throw Error(be(418));e=pl(n.nextSibling);var i=Br;e&&BE(t,e)?AB(i,n):(t.flags=t.flags&-4097|2,Cn=!1,Br=t)}}else{if(py(t))throw Error(be(418));t.flags=t.flags&-4097|2,Cn=!1,Br=t}}}function bE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function dA(t){if(t!==Br)return!1;if(!Cn)return bE(t),Cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=Mr)){if(py(t))throw mB(),Error(be(418));for(;e;)AB(t,e),e=pl(e.nextSibling)}if(bE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mr=pl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mr=null}}else Mr=Br?pl(t.stateNode.nextSibling):null;return!0}function mB(){for(var t=Mr;t;)t=pl(t.nextSibling)}function zh(){Mr=Br=null,Cn=!1}function Q4(t){ks===null?ks=[t]:ks.push(t)}var cU=Ia.ReactCurrentBatchConfig;function Ds(t,e){if(t&&t.defaultProps){e=bn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ag=Ol(null),mg=null,Ah=null,H4=null;function z4(){H4=Ah=mg=null}function V4(t){var e=Ag.current;mn(Ag),t._currentValue=e}function my(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Rh(t,e){mg=t,H4=Ah=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function ms(t){var e=t._currentValue;if(H4!==t)if(t={context:t,memoizedValue:e,next:null},Ah===null){if(mg===null)throw Error(be(308));Ah=t,mg.dependencies={lanes:0,firstContext:t}}else Ah=Ah.next=t;return e}var Pc=null;function W4(t){Pc===null?Pc=[t]:Pc.push(t)}function gB(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,W4(e)):(n.next=r.next,r.next=n),e.interleaved=n,xa(t,i)}function xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nl=!1;function J4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Al(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Wt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,xa(t,n)}return r=i.interleaved,r===null?(e.next=e,W4(i)):(e.next=r.next,r.next=e),i.interleaved=e,xa(t,n)}function Pm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,R4(t,n)}}function RE(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gg(t,e,n,i){var r=t.updateQueue;nl=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,A=a.eventTime;if((i&p)===p){u!==null&&(u=u.next={eventTime:A,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(p=e,A=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(A,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(A,d,p):m,p==null)break e;d=bn({},d,p);break e;case 2:nl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else A={eventTime:A,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=A,l=d):u=u.next=A,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);eu|=o,t.lanes=o,t.memoizedState=d}}function PE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(be(191,r));r.call(i)}}}var yB=new gT.Component().refs;function gy(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p2={isMounted:function(t){return(t=t._reactInternals)?hu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Xi(),r=gl(t),s=pa(i,r);s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,r),e!==null&&(Gs(e,t,r,i),Pm(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Xi(),r=gl(t),s=pa(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Al(t,s,r),e!==null&&(Gs(e,t,r,i),Pm(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),i=gl(t),r=pa(n,i);r.tag=2,e!=null&&(r.callback=e),e=Al(t,r,i),e!==null&&(Gs(e,t,i,n),Pm(e,t,i))}};function DE(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!vp(n,i)||!vp(r,s):!0}function xB(t,e,n){var i=!1,r=wl,s=e.contextType;return typeof s=="object"&&s!==null?s=ms(s):(r=fr(e)?qc:Ni.current,i=e.contextTypes,s=(i=i!=null)?Hh(t,r):wl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=p2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function LE(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&p2.enqueueReplaceState(e,e.state,null)}function vy(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=yB,J4(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ms(s):(s=fr(e)?qc:Ni.current,r.context=Hh(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gy(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&p2.enqueueReplaceState(r,r.state,null),gg(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function td(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var i=n.stateNode}if(!i)throw Error(be(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===yB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function pA(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FE(t){var e=t._init;return e(t._payload)}function CB(t){function e(C,y){if(t){var x=C.deletions;x===null?(C.deletions=[y],C.flags|=16):x.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function i(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function r(C,y){return C=vl(C,y),C.index=0,C.sibling=null,C}function s(C,y,x){return C.index=x,t?(x=C.alternate,x!==null?(x=x.index,x<y?(C.flags|=2,y):x):(C.flags|=2,y)):(C.flags|=1048576,y)}function o(C){return t&&C.alternate===null&&(C.flags|=2),C}function a(C,y,x,S){return y===null||y.tag!==6?(y=ov(x,C.mode,S),y.return=C,y):(y=r(y,x),y.return=C,y)}function l(C,y,x,S){var I=x.type;return I===ah?u(C,y,x.props.children,S,x.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===tl&&FE(I)===y.type)?(S=r(y,x.props),S.ref=td(C,y,x),S.return=C,S):(S=Om(x.type,x.key,x.props,null,C.mode,S),S.ref=td(C,y,x),S.return=C,S)}function c(C,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=av(x,C.mode,S),y.return=C,y):(y=r(y,x.children||[]),y.return=C,y)}function u(C,y,x,S,I){return y===null||y.tag!==7?(y=Wc(x,C.mode,S,I),y.return=C,y):(y=r(y,x),y.return=C,y)}function d(C,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ov(""+y,C.mode,x),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iA:return x=Om(y.type,y.key,y.props,null,C.mode,x),x.ref=td(C,null,y),x.return=C,x;case oh:return y=av(y,C.mode,x),y.return=C,y;case tl:var S=y._init;return d(C,S(y._payload),x)}if(Rd(y)||Xf(y))return y=Wc(y,C.mode,x,null),y.return=C,y;pA(C,y)}return null}function p(C,y,x,S){var I=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:a(C,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iA:return x.key===I?l(C,y,x,S):null;case oh:return x.key===I?c(C,y,x,S):null;case tl:return I=x._init,p(C,y,I(x._payload),S)}if(Rd(x)||Xf(x))return I!==null?null:u(C,y,x,S,null);pA(C,x)}return null}function A(C,y,x,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return C=C.get(x)||null,a(y,C,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iA:return C=C.get(S.key===null?x:S.key)||null,l(y,C,S,I);case oh:return C=C.get(S.key===null?x:S.key)||null,c(y,C,S,I);case tl:var T=S._init;return A(C,y,x,T(S._payload),I)}if(Rd(S)||Xf(S))return C=C.get(x)||null,u(y,C,S,I,null);pA(y,S)}return null}function m(C,y,x,S){for(var I=null,T=null,B=y,_=y=0,R=null;B!==null&&_<x.length;_++){B.index>_?(R=B,B=null):R=B.sibling;var P=p(C,B,x[_],S);if(P===null){B===null&&(B=R);break}t&&B&&P.alternate===null&&e(C,B),y=s(P,y,_),T===null?I=P:T.sibling=P,T=P,B=R}if(_===x.length)return n(C,B),Cn&&vc(C,_),I;if(B===null){for(;_<x.length;_++)B=d(C,x[_],S),B!==null&&(y=s(B,y,_),T===null?I=B:T.sibling=B,T=B);return Cn&&vc(C,_),I}for(B=i(C,B);_<x.length;_++)R=A(B,C,_,x[_],S),R!==null&&(t&&R.alternate!==null&&B.delete(R.key===null?_:R.key),y=s(R,y,_),T===null?I=R:T.sibling=R,T=R);return t&&B.forEach(function(L){return e(C,L)}),Cn&&vc(C,_),I}function g(C,y,x,S){var I=Xf(x);if(typeof I!="function")throw Error(be(150));if(x=I.call(x),x==null)throw Error(be(151));for(var T=I=null,B=y,_=y=0,R=null,P=x.next();B!==null&&!P.done;_++,P=x.next()){B.index>_?(R=B,B=null):R=B.sibling;var L=p(C,B,P.value,S);if(L===null){B===null&&(B=R);break}t&&B&&L.alternate===null&&e(C,B),y=s(L,y,_),T===null?I=L:T.sibling=L,T=L,B=R}if(P.done)return n(C,B),Cn&&vc(C,_),I;if(B===null){for(;!P.done;_++,P=x.next())P=d(C,P.value,S),P!==null&&(y=s(P,y,_),T===null?I=P:T.sibling=P,T=P);return Cn&&vc(C,_),I}for(B=i(C,B);!P.done;_++,P=x.next())P=A(B,C,_,P.value,S),P!==null&&(t&&P.alternate!==null&&B.delete(P.key===null?_:P.key),y=s(P,y,_),T===null?I=P:T.sibling=P,T=P);return t&&B.forEach(function(H){return e(C,H)}),Cn&&vc(C,_),I}function v(C,y,x,S){if(typeof x=="object"&&x!==null&&x.type===ah&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case iA:e:{for(var I=x.key,T=y;T!==null;){if(T.key===I){if(I=x.type,I===ah){if(T.tag===7){n(C,T.sibling),y=r(T,x.props.children),y.return=C,C=y;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===tl&&FE(I)===T.type){n(C,T.sibling),y=r(T,x.props),y.ref=td(C,T,x),y.return=C,C=y;break e}n(C,T);break}else e(C,T);T=T.sibling}x.type===ah?(y=Wc(x.props.children,C.mode,S,x.key),y.return=C,C=y):(S=Om(x.type,x.key,x.props,null,C.mode,S),S.ref=td(C,y,x),S.return=C,C=S)}return o(C);case oh:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(C,y.sibling),y=r(y,x.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=av(x,C.mode,S),y.return=C,C=y}return o(C);case tl:return T=x._init,v(C,y,T(x._payload),S)}if(Rd(x))return m(C,y,x,S);if(Xf(x))return g(C,y,x,S);pA(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(C,y.sibling),y=r(y,x),y.return=C,C=y):(n(C,y),y=ov(x,C.mode,S),y.return=C,C=y),o(C)):n(C,y)}return v}var Vh=CB(!0),EB=CB(!1),d0={},Eo=Ol(d0),Ep=Ol(d0),Sp=Ol(d0);function Dc(t){if(t===d0)throw Error(be(174));return t}function j4(t,e){switch(un(Sp,e),un(Ep,t),un(Eo,d0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:X6(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=X6(e,t)}mn(Eo),un(Eo,e)}function Wh(){mn(Eo),mn(Ep),mn(Sp)}function SB(t){Dc(Sp.current);var e=Dc(Eo.current),n=X6(e,t.type);e!==n&&(un(Ep,t),un(Eo,n))}function K4(t){Ep.current===t&&(mn(Eo),mn(Ep))}var Sn=Ol(0);function vg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ev=[];function Y4(){for(var t=0;t<ev.length;t++)ev[t]._workInProgressVersionPrimary=null;ev.length=0}var Dm=Ia.ReactCurrentDispatcher,tv=Ia.ReactCurrentBatchConfig,$c=0,Tn=null,ti=null,mi=null,yg=!1,Jd=!1,wp=0,uU=0;function Pi(){throw Error(be(321))}function X4(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vs(t[n],e[n]))return!1;return!0}function q4(t,e,n,i,r,s){if($c=s,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dm.current=t===null||t.memoizedState===null?pU:AU,t=n(i,r),Jd){s=0;do{if(Jd=!1,wp=0,25<=s)throw Error(be(301));s+=1,mi=ti=null,e.updateQueue=null,Dm.current=mU,t=n(i,r)}while(Jd)}if(Dm.current=xg,e=ti!==null&&ti.next!==null,$c=0,mi=ti=Tn=null,yg=!1,e)throw Error(be(300));return t}function Z4(){var t=wp!==0;return wp=0,t}function Ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?Tn.memoizedState=mi=t:mi=mi.next=t,mi}function gs(){if(ti===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=ti.next;var e=mi===null?Tn.memoizedState:mi.next;if(e!==null)mi=e,ti=t;else{if(t===null)throw Error(be(310));ti=t,t={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},mi===null?Tn.memoizedState=mi=t:mi=mi.next=t}return mi}function Ip(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=gs(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var i=ti,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if(($c&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Tn.lanes|=u,eu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Vs(i,e.memoizedState)||(cr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Tn.lanes|=s,eu|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iv(t){var e=gs(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Vs(s,e.memoizedState)||(cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function wB(){}function IB(t,e){var n=Tn,i=gs(),r=e(),s=!Vs(i.memoizedState,r);if(s&&(i.memoizedState=r,cr=!0),i=i.queue,$4(TB.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,_p(9,MB.bind(null,n,i,r,e),void 0,null),yi===null)throw Error(be(349));$c&30||_B(n,e,r)}return r}function _B(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MB(t,e,n,i){e.value=n,e.getSnapshot=i,BB(e)&&bB(t)}function TB(t,e,n){return n(function(){BB(e)&&bB(t)})}function BB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vs(t,n)}catch{return!0}}function bB(t){var e=xa(t,1);e!==null&&Gs(e,t,1,-1)}function kE(t){var e=Ao();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:t},e.queue=t,t=t.dispatch=dU.bind(null,Tn,t),[e.memoizedState,t]}function _p(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function RB(){return gs().memoizedState}function Lm(t,e,n,i){var r=Ao();Tn.flags|=t,r.memoizedState=_p(1|e,n,void 0,i===void 0?null:i)}function A2(t,e,n,i){var r=gs();i=i===void 0?null:i;var s=void 0;if(ti!==null){var o=ti.memoizedState;if(s=o.destroy,i!==null&&X4(i,o.deps)){r.memoizedState=_p(e,n,s,i);return}}Tn.flags|=t,r.memoizedState=_p(1|e,n,s,i)}function NE(t,e){return Lm(8390656,8,t,e)}function $4(t,e){return A2(2048,8,t,e)}function PB(t,e){return A2(4,2,t,e)}function DB(t,e){return A2(4,4,t,e)}function LB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FB(t,e,n){return n=n!=null?n.concat([t]):null,A2(4,4,LB.bind(null,e,t),n)}function ex(){}function kB(t,e){var n=gs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&X4(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function NB(t,e){var n=gs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&X4(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function OB(t,e,n){return $c&21?(Vs(n,e)||(n=QT(),Tn.lanes|=n,eu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function hU(t,e){var n=en;en=n!==0&&4>n?n:4,t(!0);var i=tv.transition;tv.transition={};try{t(!1),e()}finally{en=n,tv.transition=i}}function UB(){return gs().memoizedState}function fU(t,e,n){var i=gl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},GB(t))QB(e,n);else if(n=gB(t,e,n,i),n!==null){var r=Xi();Gs(n,t,i,r),HB(n,e,i)}}function dU(t,e,n){var i=gl(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(GB(t))QB(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Vs(a,o)){var l=e.interleaved;l===null?(r.next=r,W4(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=gB(t,e,r,i),n!==null&&(r=Xi(),Gs(n,t,i,r),HB(n,e,i))}}function GB(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function QB(t,e){Jd=yg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HB(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,R4(t,n)}}var xg={readContext:ms,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},pU={readContext:ms,useCallback:function(t,e){return Ao().memoizedState=[t,e===void 0?null:e],t},useContext:ms,useEffect:NE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4194308,4,LB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lm(4,2,t,e)},useMemo:function(t,e){var n=Ao();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ao();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=fU.bind(null,Tn,t),[i.memoizedState,t]},useRef:function(t){var e=Ao();return t={current:t},e.memoizedState=t},useState:kE,useDebugValue:ex,useDeferredValue:function(t){return Ao().memoizedState=t},useTransition:function(){var t=kE(!1),e=t[0];return t=hU.bind(null,t[1]),Ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Tn,r=Ao();if(Cn){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),yi===null)throw Error(be(349));$c&30||_B(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,NE(TB.bind(null,i,s,t),[t]),i.flags|=2048,_p(9,MB.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Ao(),e=yi.identifierPrefix;if(Cn){var n=ca,i=la;n=(i&~(1<<32-Us(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AU={readContext:ms,useCallback:kB,useContext:ms,useEffect:$4,useImperativeHandle:FB,useInsertionEffect:PB,useLayoutEffect:DB,useMemo:NB,useReducer:nv,useRef:RB,useState:function(){return nv(Ip)},useDebugValue:ex,useDeferredValue:function(t){var e=gs();return OB(e,ti.memoizedState,t)},useTransition:function(){var t=nv(Ip)[0],e=gs().memoizedState;return[t,e]},useMutableSource:wB,useSyncExternalStore:IB,useId:UB,unstable_isNewReconciler:!1},mU={readContext:ms,useCallback:kB,useContext:ms,useEffect:$4,useImperativeHandle:FB,useInsertionEffect:PB,useLayoutEffect:DB,useMemo:NB,useReducer:iv,useRef:RB,useState:function(){return iv(Ip)},useDebugValue:ex,useDeferredValue:function(t){var e=gs();return ti===null?e.memoizedState=t:OB(e,ti.memoizedState,t)},useTransition:function(){var t=iv(Ip)[0],e=gs().memoizedState;return[t,e]},useMutableSource:wB,useSyncExternalStore:IB,useId:UB,unstable_isNewReconciler:!1};function Jh(t,e){try{var n="",i=e;do n+=VN(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function rv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gU=typeof WeakMap=="function"?WeakMap:Map;function zB(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Eg||(Eg=!0,By=i),yy(t,e)},n}function VB(t,e,n){n=pa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){yy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yy(t,e),typeof i!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function OE(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new gU;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=RU.bind(null,t,e,n),e.then(t,t))}function UE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GE(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,Al(n,e,1))),n.lanes|=1),t)}var vU=Ia.ReactCurrentOwner,cr=!1;function Ki(t,e,n,i){e.child=t===null?EB(e,null,n,i):Vh(e,t.child,n,i)}function QE(t,e,n,i,r){n=n.render;var s=e.ref;return Rh(e,r),i=q4(t,e,n,i,s,r),n=Z4(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ca(t,e,r)):(Cn&&n&&U4(e),e.flags|=1,Ki(t,e,i,r),e.child)}function HE(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!lx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,WB(t,e,s,i,r)):(t=Om(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vp,n(o,i)&&t.ref===e.ref)return Ca(t,e,r)}return e.flags|=1,t=vl(s,i),t.ref=e.ref,t.return=e,e.child=t}function WB(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(vp(s,i)&&t.ref===e.ref)if(cr=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,Ca(t,e,r)}return xy(t,e,n,i,r)}function JB(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(gh,wr),wr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,un(gh,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,un(gh,wr),wr|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,un(gh,wr),wr|=i;return Ki(t,e,r,n),e.child}function jB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xy(t,e,n,i,r){var s=fr(n)?qc:Ni.current;return s=Hh(e,s),Rh(e,r),n=q4(t,e,n,i,s,r),i=Z4(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ca(t,e,r)):(Cn&&i&&U4(e),e.flags|=1,Ki(t,e,n,r),e.child)}function zE(t,e,n,i,r){if(fr(n)){var s=!0;fg(e)}else s=!1;if(Rh(e,r),e.stateNode===null)Fm(t,e),xB(e,n,i),vy(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ms(c):(c=fr(n)?qc:Ni.current,c=Hh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&LE(e,o,i,c),nl=!1;var p=e.memoizedState;o.state=p,gg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||hr.current||nl?(typeof u=="function"&&(gy(e,n,u,i),l=e.memoizedState),(a=nl||DE(e,n,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,vB(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ds(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ms(l):(l=fr(n)?qc:Ni.current,l=Hh(e,l));var A=n.getDerivedStateFromProps;(u=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&LE(e,o,i,l),nl=!1,p=e.memoizedState,o.state=p,gg(e,i,o,r);var m=e.memoizedState;a!==d||p!==m||hr.current||nl?(typeof A=="function"&&(gy(e,n,A,i),m=e.memoizedState),(c=nl||DE(e,n,c,i,p,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Cy(t,e,n,i,s,r)}function Cy(t,e,n,i,r,s){jB(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&TE(e,n,!1),Ca(t,e,s);i=e.stateNode,vU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Vh(e,t.child,null,s),e.child=Vh(e,null,a,s)):Ki(t,e,a,s),e.memoizedState=i.state,r&&TE(e,n,!0),e.child}function KB(t){var e=t.stateNode;e.pendingContext?ME(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ME(t,e.context,!1),j4(t,e.containerInfo)}function VE(t,e,n,i,r){return zh(),Q4(r),e.flags|=256,Ki(t,e,n,i),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function Sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function YB(t,e,n){var i=e.pendingProps,r=Sn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),un(Sn,r&1),t===null)return Ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=v2(o,i,0,null),t=Wc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sy(n),e.memoizedState=Ey,t):tx(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return yU(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=vl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=vl(a,s):(s=Wc(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Sy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ey,i}return s=t.child,t=s.sibling,i=vl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function tx(t,e){return e=v2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function AA(t,e,n,i){return i!==null&&Q4(i),Vh(e,t.child,null,n),t=tx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=rv(Error(be(422))),AA(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=v2({mode:"visible",children:i.children},r,0,null),s=Wc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Vh(e,t.child,null,o),e.child.memoizedState=Sy(o),e.memoizedState=Ey,s);if(!(e.mode&1))return AA(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(be(419)),i=rv(s,i,void 0),AA(t,e,o,i)}if(a=(o&t.childLanes)!==0,cr||a){if(i=yi,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,xa(t,r),Gs(i,t,r,-1))}return ax(),i=rv(Error(be(421))),AA(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=PU.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Mr=pl(r.nextSibling),Br=e,Cn=!0,ks=null,t!==null&&(os[as++]=la,os[as++]=ca,os[as++]=Zc,la=t.id,ca=t.overflow,Zc=e),e=tx(e,i.children),e.flags|=4096,e)}function WE(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),my(t.return,e,n)}function sv(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function XB(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ki(t,e,i.children,n),i=Sn.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WE(t,n,e);else if(t.tag===19)WE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(un(Sn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&vg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),sv(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&vg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}sv(e,!0,n,null,s);break;case"together":sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ca(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=vl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xU(t,e,n){switch(e.tag){case 3:KB(e),zh();break;case 5:SB(e);break;case 1:fr(e.type)&&fg(e);break;case 4:j4(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;un(Ag,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(un(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?YB(t,e,n):(un(Sn,Sn.current&1),t=Ca(t,e,n),t!==null?t.sibling:null);un(Sn,Sn.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return XB(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),un(Sn,Sn.current),i)break;return null;case 22:case 23:return e.lanes=0,JB(t,e,n)}return Ca(t,e,n)}var qB,wy,ZB,$B;qB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wy=function(){};ZB=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Dc(Eo.current);var s=null;switch(n){case"input":r=J6(t,r),i=J6(t,i),s=[];break;case"select":r=bn({},r,{value:void 0}),i=bn({},i,{value:void 0}),s=[];break;case"textarea":r=Y6(t,r),i=Y6(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ug)}q6(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$B=function(t,e,n,i){n!==i&&(e.flags|=4)};function nd(t,e){if(!Cn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Di(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function CU(t,e,n){var i=e.pendingProps;switch(G4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(e),null;case 1:return fr(e.type)&&hg(),Di(e),null;case 3:return i=e.stateNode,Wh(),mn(hr),mn(Ni),Y4(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(dA(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(Py(ks),ks=null))),wy(t,e),Di(e),null;case 5:K4(e);var r=Dc(Sp.current);if(n=e.type,t!==null&&e.stateNode!=null)ZB(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(be(166));return Di(e),null}if(t=Dc(Eo.current),dA(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[yo]=e,i[Cp]=s,t=(e.mode&1)!==0,n){case"dialog":dn("cancel",i),dn("close",i);break;case"iframe":case"object":case"embed":dn("load",i);break;case"video":case"audio":for(r=0;r<Dd.length;r++)dn(Dd[r],i);break;case"source":dn("error",i);break;case"img":case"image":case"link":dn("error",i),dn("load",i);break;case"details":dn("toggle",i);break;case"input":eE(i,s),dn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},dn("invalid",i);break;case"textarea":nE(i,s),dn("invalid",i)}q6(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&fA(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fA(i.textContent,a,t),r=["children",""+a]):hp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dn("scroll",i)}switch(n){case"input":rA(i),tE(i,s,!0);break;case"textarea":rA(i),iE(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ug)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_T(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[yo]=e,t[Cp]=i,qB(t,e,!1,!1),e.stateNode=t;e:{switch(o=Z6(n,i),n){case"dialog":dn("cancel",t),dn("close",t),r=i;break;case"iframe":case"object":case"embed":dn("load",t),r=i;break;case"video":case"audio":for(r=0;r<Dd.length;r++)dn(Dd[r],t);r=i;break;case"source":dn("error",t),r=i;break;case"img":case"image":case"link":dn("error",t),dn("load",t),r=i;break;case"details":dn("toggle",t),r=i;break;case"input":eE(t,i),r=J6(t,i),dn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=bn({},i,{value:void 0}),dn("invalid",t);break;case"textarea":nE(t,i),r=Y6(t,i),dn("invalid",t);break;default:r=i}q6(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fp(t,l):typeof l=="number"&&fp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dn("scroll",t):l!=null&&I4(t,s,l,o))}switch(n){case"input":rA(t),tE(t,i,!1);break;case"textarea":rA(t),iE(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Sl(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Mh(t,!!i.multiple,s,!1):i.defaultValue!=null&&Mh(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ug)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Di(e),null;case 6:if(t&&e.stateNode!=null)$B(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(be(166));if(n=Dc(Sp.current),Dc(Eo.current),dA(e)){if(i=e.stateNode,n=e.memoizedProps,i[yo]=e,(s=i.nodeValue!==n)&&(t=Br,t!==null))switch(t.tag){case 3:fA(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fA(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[yo]=e,e.stateNode=i}return Di(e),null;case 13:if(mn(Sn),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Cn&&Mr!==null&&e.mode&1&&!(e.flags&128))mB(),zh(),e.flags|=98560,s=!1;else if(s=dA(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[yo]=e}else zh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Di(e),s=!1}else ks!==null&&(Py(ks),ks=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?ri===0&&(ri=3):ax())),e.updateQueue!==null&&(e.flags|=4),Di(e),null);case 4:return Wh(),wy(t,e),t===null&&yp(e.stateNode.containerInfo),Di(e),null;case 10:return V4(e.type._context),Di(e),null;case 17:return fr(e.type)&&hg(),Di(e),null;case 19:if(mn(Sn),s=e.memoizedState,s===null)return Di(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)nd(s,!1);else{if(ri!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vg(t),o!==null){for(e.flags|=128,nd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return un(Sn,Sn.current&1|2),e.child}t=t.sibling}s.tail!==null&&zn()>jh&&(e.flags|=128,i=!0,nd(s,!1),e.lanes=4194304)}else{if(!i)if(t=vg(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Cn)return Di(e),null}else 2*zn()-s.renderingStartTime>jh&&n!==1073741824&&(e.flags|=128,i=!0,nd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zn(),e.sibling=null,n=Sn.current,un(Sn,i?n&1|2:n&1),e):(Di(e),null);case 22:case 23:return ox(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?wr&1073741824&&(Di(e),e.subtreeFlags&6&&(e.flags|=8192)):Di(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function EU(t,e){switch(G4(e),e.tag){case 1:return fr(e.type)&&hg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wh(),mn(hr),mn(Ni),Y4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return K4(e),null;case 13:if(mn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));zh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mn(Sn),null;case 4:return Wh(),null;case 10:return V4(e.type._context),null;case 22:case 23:return ox(),null;case 24:return null;default:return null}}var mA=!1,ki=!1,SU=typeof WeakSet=="function"?WeakSet:Set,je=null;function mh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Fn(t,e,i)}else n.current=null}function Iy(t,e,n){try{n()}catch(i){Fn(t,e,i)}}var JE=!1;function wU(t,e){if(ly=ag,t=iB(),O4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,p=null;t:for(;;){for(var A;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(A=d.firstChild)!==null;)p=d,d=A;for(;;){if(d===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++u===i&&(l=o),(A=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=A}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cy={focusedElem:t,selectionRange:n},ag=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ds(e.type,g),v);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(S){Fn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return m=JE,JE=!1,m}function jd(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Iy(e,n,s)}r=r.next}while(r!==i)}}function m2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function _y(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eb(t){var e=t.alternate;e!==null&&(t.alternate=null,eb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yo],delete e[Cp],delete e[fy],delete e[oU],delete e[aU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tb(t){return t.tag===5||t.tag===3||t.tag===4}function jE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function My(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ug));else if(i!==4&&(t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}function Ty(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ty(t,e,n),t=t.sibling;t!==null;)Ty(t,e,n),t=t.sibling}var Ei=null,Ls=!1;function Ga(t,e,n){for(n=n.child;n!==null;)nb(t,e,n),n=n.sibling}function nb(t,e,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(l2,n)}catch{}switch(n.tag){case 5:ki||mh(n,e);case 6:var i=Ei,r=Ls;Ei=null,Ga(t,e,n),Ei=i,Ls=r,Ei!==null&&(Ls?(t=Ei,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ei.removeChild(n.stateNode));break;case 18:Ei!==null&&(Ls?(t=Ei,n=n.stateNode,t.nodeType===8?Z5(t.parentNode,n):t.nodeType===1&&Z5(t,n),mp(t)):Z5(Ei,n.stateNode));break;case 4:i=Ei,r=Ls,Ei=n.stateNode.containerInfo,Ls=!0,Ga(t,e,n),Ei=i,Ls=r;break;case 0:case 11:case 14:case 15:if(!ki&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Iy(n,e,o),r=r.next}while(r!==i)}Ga(t,e,n);break;case 1:if(!ki&&(mh(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Fn(n,e,a)}Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:n.mode&1?(ki=(i=ki)||n.memoizedState!==null,Ga(t,e,n),ki=i):Ga(t,e,n);break;default:Ga(t,e,n)}}function KE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SU),e.forEach(function(i){var r=DU.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Bs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ei=a.stateNode,Ls=!1;break e;case 3:Ei=a.stateNode.containerInfo,Ls=!0;break e;case 4:Ei=a.stateNode.containerInfo,Ls=!0;break e}a=a.return}if(Ei===null)throw Error(be(160));nb(s,o,r),Ei=null,Ls=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Fn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ib(e,t),e=e.sibling}function ib(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),fo(t),i&4){try{jd(3,t,t.return),m2(3,t)}catch(g){Fn(t,t.return,g)}try{jd(5,t,t.return)}catch(g){Fn(t,t.return,g)}}break;case 1:Bs(e,t),fo(t),i&512&&n!==null&&mh(n,n.return);break;case 5:if(Bs(e,t),fo(t),i&512&&n!==null&&mh(n,n.return),t.flags&32){var r=t.stateNode;try{fp(r,"")}catch(g){Fn(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&wT(r,s),Z6(a,o);var c=Z6(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?BT(r,d):u==="dangerouslySetInnerHTML"?MT(r,d):u==="children"?fp(r,d):I4(r,u,d,c)}switch(a){case"input":j6(r,s);break;case"textarea":IT(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var A=s.value;A!=null?Mh(r,!!s.multiple,A,!1):p!==!!s.multiple&&(s.defaultValue!=null?Mh(r,!!s.multiple,s.defaultValue,!0):Mh(r,!!s.multiple,s.multiple?[]:"",!1))}r[Cp]=s}catch(g){Fn(t,t.return,g)}}break;case 6:if(Bs(e,t),fo(t),i&4){if(t.stateNode===null)throw Error(be(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){Fn(t,t.return,g)}}break;case 3:if(Bs(e,t),fo(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{mp(e.containerInfo)}catch(g){Fn(t,t.return,g)}break;case 4:Bs(e,t),fo(t);break;case 13:Bs(e,t),fo(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(rx=zn())),i&4&&KE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ki=(c=ki)||u,Bs(e,t),ki=c):Bs(e,t),fo(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(je=t,u=t.child;u!==null;){for(d=je=u;je!==null;){switch(p=je,A=p.child,p.tag){case 0:case 11:case 14:case 15:jd(4,p,p.return);break;case 1:mh(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Fn(i,n,g)}}break;case 5:mh(p,p.return);break;case 22:if(p.memoizedState!==null){XE(d);continue}}A!==null?(A.return=p,je=A):XE(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TT("display",o))}catch(g){Fn(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Fn(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bs(e,t),fo(t),i&4&&KE(t);break;case 21:break;default:Bs(e,t),fo(t)}}function fo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tb(n)){var i=n;break e}n=n.return}throw Error(be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(fp(r,""),i.flags&=-33);var s=jE(t);Ty(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=jE(t);My(t,a,o);break;default:throw Error(be(161))}}catch(l){Fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IU(t,e,n){je=t,rb(t)}function rb(t,e,n){for(var i=(t.mode&1)!==0;je!==null;){var r=je,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||mA;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ki;a=mA;var c=ki;if(mA=o,(ki=l)&&!c)for(je=r;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?qE(r):l!==null?(l.return=o,je=l):qE(r);for(;s!==null;)je=s,rb(s),s=s.sibling;je=r,mA=a,ki=c}YE(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,je=s):YE(t)}}function YE(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ki||m2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ki)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ds(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PE(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&mp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}ki||e.flags&512&&_y(e)}catch(p){Fn(e,e.return,p)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function XE(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function qE(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{m2(4,e)}catch(l){Fn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Fn(e,r,l)}}var s=e.return;try{_y(e)}catch(l){Fn(e,s,l)}break;case 5:var o=e.return;try{_y(e)}catch(l){Fn(e,o,l)}}}catch(l){Fn(e,e.return,l)}if(e===t){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var _U=Math.ceil,Cg=Ia.ReactCurrentDispatcher,nx=Ia.ReactCurrentOwner,hs=Ia.ReactCurrentBatchConfig,Wt=0,yi=null,Xn=null,Ii=0,wr=0,gh=Ol(0),ri=0,Mp=null,eu=0,g2=0,ix=0,Kd=null,lr=null,rx=0,jh=1/0,sa=null,Eg=!1,By=null,ml=null,gA=!1,ll=null,Sg=0,Yd=0,by=null,km=-1,Nm=0;function Xi(){return Wt&6?zn():km!==-1?km:km=zn()}function gl(t){return t.mode&1?Wt&2&&Ii!==0?Ii&-Ii:cU.transition!==null?(Nm===0&&(Nm=QT()),Nm):(t=en,t!==0||(t=window.event,t=t===void 0?16:KT(t.type)),t):1}function Gs(t,e,n,i){if(50<Yd)throw Yd=0,by=null,Error(be(185));u0(t,n,i),(!(Wt&2)||t!==yi)&&(t===yi&&(!(Wt&2)&&(g2|=n),ri===4&&ol(t,Ii)),dr(t,i),n===1&&Wt===0&&!(e.mode&1)&&(jh=zn()+500,d2&&Ul()))}function dr(t,e){var n=t.callbackNode;cO(t,e);var i=og(t,t===yi?Ii:0);if(i===0)n!==null&&oE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&oE(n),e===1)t.tag===0?lU(ZE.bind(null,t)):dB(ZE.bind(null,t)),rU(function(){!(Wt&6)&&Ul()}),n=null;else{switch(HT(i)){case 1:n=b4;break;case 4:n=UT;break;case 16:n=sg;break;case 536870912:n=GT;break;default:n=sg}n=fb(n,sb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sb(t,e){if(km=-1,Nm=0,Wt&6)throw Error(be(327));var n=t.callbackNode;if(Ph()&&t.callbackNode!==n)return null;var i=og(t,t===yi?Ii:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=wg(t,i);else{e=i;var r=Wt;Wt|=2;var s=ab();(yi!==t||Ii!==e)&&(sa=null,jh=zn()+500,Vc(t,e));do try{BU();break}catch(a){ob(t,a)}while(1);z4(),Cg.current=s,Wt=r,Xn!==null?e=0:(yi=null,Ii=0,e=ri)}if(e!==0){if(e===2&&(r=iy(t),r!==0&&(i=r,e=Ry(t,r))),e===1)throw n=Mp,Vc(t,0),ol(t,i),dr(t,zn()),n;if(e===6)ol(t,i);else{if(r=t.current.alternate,!(i&30)&&!MU(r)&&(e=wg(t,i),e===2&&(s=iy(t),s!==0&&(i=s,e=Ry(t,s))),e===1))throw n=Mp,Vc(t,0),ol(t,i),dr(t,zn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(be(345));case 2:yc(t,lr,sa);break;case 3:if(ol(t,i),(i&130023424)===i&&(e=rx+500-zn(),10<e)){if(og(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Xi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=hy(yc.bind(null,t,lr,sa),e);break}yc(t,lr,sa);break;case 4:if(ol(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Us(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=zn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_U(i/1960))-i,10<i){t.timeoutHandle=hy(yc.bind(null,t,lr,sa),i);break}yc(t,lr,sa);break;case 5:yc(t,lr,sa);break;default:throw Error(be(329))}}}return dr(t,zn()),t.callbackNode===n?sb.bind(null,t):null}function Ry(t,e){var n=Kd;return t.current.memoizedState.isDehydrated&&(Vc(t,e).flags|=256),t=wg(t,e),t!==2&&(e=lr,lr=n,e!==null&&Py(e)),t}function Py(t){lr===null?lr=t:lr.push.apply(lr,t)}function MU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Vs(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ol(t,e){for(e&=~ix,e&=~g2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Us(e),i=1<<n;t[n]=-1,e&=~i}}function ZE(t){if(Wt&6)throw Error(be(327));Ph();var e=og(t,0);if(!(e&1))return dr(t,zn()),null;var n=wg(t,e);if(t.tag!==0&&n===2){var i=iy(t);i!==0&&(e=i,n=Ry(t,i))}if(n===1)throw n=Mp,Vc(t,0),ol(t,e),dr(t,zn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yc(t,lr,sa),dr(t,zn()),null}function sx(t,e){var n=Wt;Wt|=1;try{return t(e)}finally{Wt=n,Wt===0&&(jh=zn()+500,d2&&Ul())}}function tu(t){ll!==null&&ll.tag===0&&!(Wt&6)&&Ph();var e=Wt;Wt|=1;var n=hs.transition,i=en;try{if(hs.transition=null,en=1,t)return t()}finally{en=i,hs.transition=n,Wt=e,!(Wt&6)&&Ul()}}function ox(){wr=gh.current,mn(gh)}function Vc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iU(n)),Xn!==null)for(n=Xn.return;n!==null;){var i=n;switch(G4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&hg();break;case 3:Wh(),mn(hr),mn(Ni),Y4();break;case 5:K4(i);break;case 4:Wh();break;case 13:mn(Sn);break;case 19:mn(Sn);break;case 10:V4(i.type._context);break;case 22:case 23:ox()}n=n.return}if(yi=t,Xn=t=vl(t.current,null),Ii=wr=e,ri=0,Mp=null,ix=g2=eu=0,lr=Kd=null,Pc!==null){for(e=0;e<Pc.length;e++)if(n=Pc[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Pc=null}return t}function ob(t,e){do{var n=Xn;try{if(z4(),Dm.current=xg,yg){for(var i=Tn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}yg=!1}if($c=0,mi=ti=Tn=null,Jd=!1,wp=0,nx.current=null,n===null||n.return===null){ri=1,Mp=e,Xn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ii,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var A=UE(o);if(A!==null){A.flags&=-257,GE(A,o,a,s,e),A.mode&1&&OE(s,c,e),e=A,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){OE(s,c,e),ax();break e}l=Error(be(426))}}else if(Cn&&a.mode&1){var v=UE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),GE(v,o,a,s,e),Q4(Jh(l,a));break e}}s=l=Jh(l,a),ri!==4&&(ri=2),Kd===null?Kd=[s]:Kd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=zB(s,l,e);RE(s,C);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ml===null||!ml.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=VB(s,a,e);RE(s,S);break e}}s=s.return}while(s!==null)}cb(n)}catch(I){e=I,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(1)}function ab(){var t=Cg.current;return Cg.current=xg,t===null?xg:t}function ax(){(ri===0||ri===3||ri===2)&&(ri=4),yi===null||!(eu&268435455)&&!(g2&268435455)||ol(yi,Ii)}function wg(t,e){var n=Wt;Wt|=2;var i=ab();(yi!==t||Ii!==e)&&(sa=null,Vc(t,e));do try{TU();break}catch(r){ob(t,r)}while(1);if(z4(),Wt=n,Cg.current=i,Xn!==null)throw Error(be(261));return yi=null,Ii=0,ri}function TU(){for(;Xn!==null;)lb(Xn)}function BU(){for(;Xn!==null&&!eO();)lb(Xn)}function lb(t){var e=hb(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?cb(t):Xn=e,nx.current=null}function cb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EU(n,e),n!==null){n.flags&=32767,Xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ri=6,Xn=null;return}}else if(n=CU(n,e,wr),n!==null){Xn=n;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);ri===0&&(ri=5)}function yc(t,e,n){var i=en,r=hs.transition;try{hs.transition=null,en=1,bU(t,e,n,i)}finally{hs.transition=r,en=i}return null}function bU(t,e,n,i){do Ph();while(ll!==null);if(Wt&6)throw Error(be(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(uO(t,s),t===yi&&(Xn=yi=null,Ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gA||(gA=!0,fb(sg,function(){return Ph(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hs.transition,hs.transition=null;var o=en;en=1;var a=Wt;Wt|=4,nx.current=null,wU(t,n),ib(n,t),XO(cy),ag=!!ly,cy=ly=null,t.current=n,IU(n),tO(),Wt=a,en=o,hs.transition=s}else t.current=n;if(gA&&(gA=!1,ll=t,Sg=r),s=t.pendingLanes,s===0&&(ml=null),rO(n.stateNode),dr(t,zn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Eg)throw Eg=!1,t=By,By=null,t;return Sg&1&&t.tag!==0&&Ph(),s=t.pendingLanes,s&1?t===by?Yd++:(Yd=0,by=t):Yd=0,Ul(),null}function Ph(){if(ll!==null){var t=HT(Sg),e=hs.transition,n=en;try{if(hs.transition=null,en=16>t?16:t,ll===null)var i=!1;else{if(t=ll,ll=null,Sg=0,Wt&6)throw Error(be(331));var r=Wt;for(Wt|=4,je=t.current;je!==null;){var s=je,o=s.child;if(je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var u=je;switch(u.tag){case 0:case 11:case 15:jd(8,u,s)}var d=u.child;if(d!==null)d.return=u,je=d;else for(;je!==null;){u=je;var p=u.sibling,A=u.return;if(eb(u),u===c){je=null;break}if(p!==null){p.return=A,je=p;break}je=A}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jd(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,je=C;break e}je=s.return}}var y=t.current;for(je=y;je!==null;){o=je;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,je=x;else e:for(o=y;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:m2(9,a)}}catch(I){Fn(a,a.return,I)}if(a===o){je=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,je=S;break e}je=a.return}}if(Wt=r,Ul(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(l2,t)}catch{}i=!0}return i}finally{en=n,hs.transition=e}}return!1}function $E(t,e,n){e=Jh(n,e),e=zB(t,e,1),t=Al(t,e,1),e=Xi(),t!==null&&(u0(t,1,e),dr(t,e))}function Fn(t,e,n){if(t.tag===3)$E(t,t,n);else for(;e!==null;){if(e.tag===3){$E(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ml===null||!ml.has(i))){t=Jh(n,t),t=VB(e,t,1),e=Al(e,t,1),t=Xi(),e!==null&&(u0(e,1,t),dr(e,t));break}}e=e.return}}function RU(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Xi(),t.pingedLanes|=t.suspendedLanes&n,yi===t&&(Ii&n)===n&&(ri===4||ri===3&&(Ii&130023424)===Ii&&500>zn()-rx?Vc(t,0):ix|=n),dr(t,e)}function ub(t,e){e===0&&(t.mode&1?(e=aA,aA<<=1,!(aA&130023424)&&(aA=4194304)):e=1);var n=Xi();t=xa(t,e),t!==null&&(u0(t,e,n),dr(t,n))}function PU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ub(t,n)}function DU(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(be(314))}i!==null&&i.delete(e),ub(t,n)}var hb;hb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,xU(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Cn&&e.flags&1048576&&pB(e,pg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Fm(t,e),t=e.pendingProps;var r=Hh(e,Ni.current);Rh(e,n),r=q4(null,e,i,t,r,n);var s=Z4();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(i)?(s=!0,fg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,J4(e),r.updater=p2,e.stateNode=r,r._reactInternals=e,vy(e,i,t,n),e=Cy(null,e,i,!0,s,n)):(e.tag=0,Cn&&s&&U4(e),Ki(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Fm(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=FU(i),t=Ds(i,t),r){case 0:e=xy(null,e,i,t,n);break e;case 1:e=zE(null,e,i,t,n);break e;case 11:e=QE(null,e,i,t,n);break e;case 14:e=HE(null,e,i,Ds(i.type,t),n);break e}throw Error(be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ds(i,r),xy(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ds(i,r),zE(t,e,i,r,n);case 3:e:{if(KB(e),t===null)throw Error(be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,vB(t,e),gg(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Jh(Error(be(423)),e),e=VE(t,e,i,n,r);break e}else if(i!==r){r=Jh(Error(be(424)),e),e=VE(t,e,i,n,r);break e}else for(Mr=pl(e.stateNode.containerInfo.firstChild),Br=e,Cn=!0,ks=null,n=EB(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zh(),i===r){e=Ca(t,e,n);break e}Ki(t,e,i,n)}e=e.child}return e;case 5:return SB(e),t===null&&Ay(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,uy(i,r)?o=null:s!==null&&uy(i,s)&&(e.flags|=32),jB(t,e),Ki(t,e,o,n),e.child;case 6:return t===null&&Ay(e),null;case 13:return YB(t,e,n);case 4:return j4(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vh(e,null,i,n):Ki(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ds(i,r),QE(t,e,i,r,n);case 7:return Ki(t,e,e.pendingProps,n),e.child;case 8:return Ki(t,e,e.pendingProps.children,n),e.child;case 12:return Ki(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,un(Ag,i._currentValue),i._currentValue=o,s!==null)if(Vs(s.value,o)){if(s.children===r.children&&!hr.current){e=Ca(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=pa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),my(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),my(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ki(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Rh(e,n),r=ms(r),i=i(r),e.flags|=1,Ki(t,e,i,n),e.child;case 14:return i=e.type,r=Ds(i,e.pendingProps),r=Ds(i.type,r),HE(t,e,i,r,n);case 15:return WB(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ds(i,r),Fm(t,e),e.tag=1,fr(i)?(t=!0,fg(e)):t=!1,Rh(e,n),xB(e,i,r),vy(e,i,r,n),Cy(null,e,i,!0,t,n);case 19:return XB(t,e,n);case 22:return JB(t,e,n)}throw Error(be(156,e.tag))};function fb(t,e){return OT(t,e)}function LU(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,n,i){return new LU(t,e,n,i)}function lx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FU(t){if(typeof t=="function")return lx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M4)return 11;if(t===T4)return 14}return 2}function vl(t,e){var n=t.alternate;return n===null?(n=us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Om(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")lx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ah:return Wc(n.children,r,s,e);case _4:o=8,r|=8;break;case H6:return t=us(12,n,e,r|2),t.elementType=H6,t.lanes=s,t;case z6:return t=us(13,n,e,r),t.elementType=z6,t.lanes=s,t;case V6:return t=us(19,n,e,r),t.elementType=V6,t.lanes=s,t;case CT:return v2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yT:o=10;break e;case xT:o=9;break e;case M4:o=11;break e;case T4:o=14;break e;case tl:o=16,i=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=us(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Wc(t,e,n,i){return t=us(7,t,i,e),t.lanes=n,t}function v2(t,e,n,i){return t=us(22,t,i,e),t.elementType=CT,t.lanes=n,t.stateNode={isHidden:!1},t}function ov(t,e,n){return t=us(6,t,null,e),t.lanes=n,t}function av(t,e,n){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kU(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q5(0),this.expirationTimes=Q5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q5(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cx(t,e,n,i,r,s,o,a,l){return t=new kU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=us(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J4(s),t}function NU(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oh,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function db(t){if(!t)return wl;t=t._reactInternals;e:{if(hu(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(fr(n))return fB(t,n,e)}return e}function pb(t,e,n,i,r,s,o,a,l){return t=cx(n,i,!0,t,r,s,o,a,l),t.context=db(null),n=t.current,i=Xi(),r=gl(n),s=pa(i,r),s.callback=e??null,Al(n,s,r),t.current.lanes=r,u0(t,r,i),dr(t,i),t}function y2(t,e,n,i){var r=e.current,s=Xi(),o=gl(r);return n=db(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Al(r,e,o),t!==null&&(Gs(t,r,o,s),Pm(t,r,o)),o}function Ig(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ux(t,e){eS(t,e),(t=t.alternate)&&eS(t,e)}function OU(){return null}var Ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function hx(t){this._internalRoot=t}x2.prototype.render=hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));y2(t,e,null,null)};x2.prototype.unmount=hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tu(function(){y2(null,t,null,null)}),e[ya]=null}};function x2(t){this._internalRoot=t}x2.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sl.length&&e!==0&&e<sl[n].priority;n++);sl.splice(n,0,t),n===0&&jT(t)}};function fx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function C2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tS(){}function UU(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Ig(o);s.call(c)}}var o=pb(e,i,t,0,null,!1,!1,"",tS);return t._reactRootContainer=o,t[ya]=o.current,yp(t.nodeType===8?t.parentNode:t),tu(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Ig(l);a.call(c)}}var l=cx(t,0,!1,null,null,!1,!1,"",tS);return t._reactRootContainer=l,t[ya]=l.current,yp(t.nodeType===8?t.parentNode:t),tu(function(){y2(e,l,n,i)}),l}function E2(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Ig(o);a.call(l)}}y2(e,o,t,r)}else o=UU(n,e,t,r,i);return Ig(o)}zT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pd(e.pendingLanes);n!==0&&(R4(e,n|1),dr(e,zn()),!(Wt&6)&&(jh=zn()+500,Ul()))}break;case 13:tu(function(){var i=xa(t,1);if(i!==null){var r=Xi();Gs(i,t,1,r)}}),ux(t,1)}};P4=function(t){if(t.tag===13){var e=xa(t,134217728);if(e!==null){var n=Xi();Gs(e,t,134217728,n)}ux(t,134217728)}};VT=function(t){if(t.tag===13){var e=gl(t),n=xa(t,e);if(n!==null){var i=Xi();Gs(n,t,e,i)}ux(t,e)}};WT=function(){return en};JT=function(t,e){var n=en;try{return en=t,e()}finally{en=n}};ey=function(t,e,n){switch(e){case"input":if(j6(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=f2(i);if(!r)throw Error(be(90));ST(i),j6(i,r)}}}break;case"textarea":IT(t,n);break;case"select":e=n.value,e!=null&&Mh(t,!!n.multiple,e,!1)}};PT=sx;DT=tu;var GU={usingClientEntryPoint:!1,Events:[f0,hh,f2,bT,RT,sx]},id={findFiberByHostInstance:Rc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QU={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kT(t),t===null?null:t.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||OU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vA.isDisabled&&vA.supportsFiber)try{l2=vA.inject(QU),Co=vA}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fx(e))throw Error(be(200));return NU(t,e,null,n)};Ur.createRoot=function(t,e){if(!fx(t))throw Error(be(299));var n=!1,i="",r=Ab;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=cx(t,1,!1,null,null,n,!1,i,r),t[ya]=e.current,yp(t.nodeType===8?t.parentNode:t),new hx(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=kT(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return tu(t)};Ur.hydrate=function(t,e,n){if(!C2(e))throw Error(be(200));return E2(null,t,e,!0,n)};Ur.hydrateRoot=function(t,e,n){if(!fx(t))throw Error(be(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Ab;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pb(e,null,t,1,n??null,r,!1,s,o),t[ya]=e.current,yp(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new x2(e)};Ur.render=function(t,e,n){if(!C2(e))throw Error(be(200));return E2(null,t,e,!1,n)};Ur.unmountComponentAtNode=function(t){if(!C2(t))throw Error(be(40));return t._reactRootContainer?(tu(function(){E2(null,null,t,!1,function(){t._reactRootContainer=null,t[ya]=null})}),!0):!1};Ur.unstable_batchedUpdates=sx;Ur.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!C2(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return E2(t,e,n,!1,i)};Ur.version="18.2.0-next-9e3b772b8-20220608";function mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mb)}catch(t){console.error(t)}}mb(),pT.exports=Ur;var gb=pT.exports,vb,nS=gb;vb=G6.createRoot=nS.createRoot,G6.hydrateRoot=nS.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tp.apply(this,arguments)}var Lc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lc||(Lc={}));const iS="popstate";function HU(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Dy("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:_g(r)}return VU(e,n,null,t)}function Qs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zU(){return Math.random().toString(36).substr(2,8)}function rS(t,e){return{usr:t.state,key:t.key,idx:e}}function Dy(t,e,n,i){return n===void 0&&(n=null),Tp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?S2(e):e,{state:n,key:e&&e.key||i||zU()})}function _g(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function S2(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function VU(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Lc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Tp({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Lc.Pop;let v=u(),C=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:C})}function p(v,C){a=Lc.Push;let y=Dy(g.location,v,C);n&&n(y,v),c=u()+1;let x=rS(y,c),S=g.createHref(y);try{o.pushState(x,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function A(v,C){a=Lc.Replace;let y=Dy(g.location,v,C);n&&n(y,v),c=u();let x=rS(y,c),S=g.createHref(y);o.replaceState(x,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function m(v){let C=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof v=="string"?v:_g(v);return Qs(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let g={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(iS,d),l=v,()=>{r.removeEventListener(iS,d),l=null}},createHref(v){return e(r,v)},createURL:m,encodeLocation(v){let C=m(v);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:A,go(v){return o.go(v)}};return g}var sS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sS||(sS={}));function yb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function WU(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?S2(t):t;return{pathname:n?n.startsWith("/")?n:JU(n,e):e,search:jU(i),hash:KU(r)}}function JU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function lv(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cb(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=S2(t):(r=Tp({},t),Qs(!r.pathname||!r.pathname.includes("?"),lv("?","pathname","search",r)),Qs(!r.pathname||!r.pathname.includes("#"),lv("#","pathname","hash",r)),Qs(!r.search||!r.search.includes("#"),lv("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=WU(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Eb=t=>t.join("/").replace(/\/\/+/g,"/"),jU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Sb=["post","put","patch","delete"];new Set(Sb);const YU=["get",...Sb];new Set(YU);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ly.apply(this,arguments)}const wb=V.createContext(null),p0=V.createContext(null),dx=V.createContext(null),w2=V.createContext({outlet:null,matches:[],isDataRoute:!1});function XU(t,e){let{relative:n}=e===void 0?{}:e;I2()||Qs(!1);let{basename:i,navigator:r}=V.useContext(p0),{hash:s,pathname:o,search:a}=_b(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Eb([i,o])),r.createHref({pathname:l,search:a,hash:s})}function I2(){return V.useContext(dx)!=null}function px(){return I2()||Qs(!1),V.useContext(dx).location}function Ib(t){V.useContext(p0).static||V.useLayoutEffect(t)}function qU(){let{isDataRoute:t}=V.useContext(w2);return t?nG():ZU()}function ZU(){I2()||Qs(!1);let t=V.useContext(wb),{basename:e,navigator:n}=V.useContext(p0),{matches:i}=V.useContext(w2),{pathname:r}=px(),s=JSON.stringify(xb(i).map(l=>l.pathnameBase)),o=V.useRef(!1);return Ib(()=>{o.current=!0}),V.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Cb(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Eb([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,r,t])}function _b(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=V.useContext(w2),{pathname:r}=px(),s=JSON.stringify(xb(i).map(o=>o.pathnameBase));return V.useMemo(()=>Cb(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}var Mb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mb||{}),Tb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tb||{});function $U(t){let e=V.useContext(wb);return e||Qs(!1),e}function eG(t){let e=V.useContext(w2);return e||Qs(!1),e}function tG(t){let e=eG(),n=e.matches[e.matches.length-1];return n.route.id||Qs(!1),n.route.id}function nG(){let{router:t}=$U(Mb.UseNavigateStable),e=tG(Tb.UseNavigateStable),n=V.useRef(!1);return Ib(()=>{n.current=!0}),V.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ly({fromRouteId:e},s)))},[t,e])}function iG(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Lc.Pop,navigator:s,static:o=!1}=t;I2()&&Qs(!1);let a=e.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=S2(i));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:A="default"}=i,m=V.useMemo(()=>{let g=yb(c,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:p,key:A},navigationType:r}},[a,c,u,d,p,A,r]);return m==null?null:V.createElement(p0.Provider,{value:l},V.createElement(dx.Provider,{children:n,value:m}))}new Promise(()=>{});/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fy.apply(this,arguments)}function rG(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function sG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oG(t,e){return t.button===0&&(!e||e==="_self")&&!sG(t)}const aG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],lG="startTransition",oS=PN[lG];function cG(t){let{basename:e,children:n,future:i,window:r}=t,s=V.useRef();s.current==null&&(s.current=HU({window:r,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=V.useCallback(d=>{c&&oS?oS(()=>l(d)):l(d)},[l,c]);return V.useLayoutEffect(()=>o.listen(u),[o,u]),V.createElement(iG,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const uG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fG=V.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=rG(e,aG),{basename:p}=V.useContext(p0),A,m=!1;if(typeof c=="string"&&hG.test(c)&&(A=c,uG))try{let y=new URL(window.location.href),x=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=yb(x.pathname,p);x.origin===y.origin&&S!=null?c=S+x.search+x.hash:m=!0}catch{}let g=XU(c,{relative:r}),v=dG(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r});function C(y){i&&i(y),y.defaultPrevented||v(y)}return V.createElement("a",Fy({},d,{href:A||g,onClick:m||s?i:C,ref:n,target:l}))});var aS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(aS||(aS={}));var lS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lS||(lS={}));function dG(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=qU(),l=px(),c=_b(t,{relative:o});return V.useCallback(u=>{if(oG(u,n)){u.preventDefault();let d=i!==void 0?i:_g(l)===_g(c);a(t,{replace:d,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,n,t,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ys="149",xc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Bb=0,ky=1,bb=2,pG=3,Rb=0,_2=1,Xd=2,Fc=3,Po=0,qi=1,Os=2,AG=2,Dt=0,So=1,Bp=2,Ny=3,Oy=4,bp=5,_r=100,Pb=101,Db=102,Uy=103,Gy=104,Kh=200,Lb=201,Fb=202,kb=203,Rp=204,Pp=205,M2=206,Nb=207,T2=208,Ob=209,Ub=210,Gb=0,Qb=1,Hb=2,Mg=3,zb=4,Vb=5,Wb=6,Jb=7,A0=0,jb=1,Kb=2,br=0,Yb=1,Xb=2,qb=3,Ax=4,Zb=5,B2=300,Il=301,_l=302,Dp=303,Lp=304,mf=306,vs=1e3,wn=1001,Yh=1002,mt=1003,Fp=1004,mG=1004,Dh=1005,gG=1005,sn=1006,b2=1007,vG=1007,ys=1008,yG=1008,gi=1009,$b=1010,eR=1011,gf=1012,tR=1013,cl=1014,ur=1015,Wn=1016,nR=1017,iR=1018,yl=1020,rR=1021,Nn=1023,mx=1024,sR=1025,xl=1026,Ml=1027,kc=1028,oR=1029,vh=1030,aR=1031,lR=1033,Lh=33776,Um=33777,Gm=33778,Fh=33779,kp=35840,Qy=35841,Np=35842,Hy=35843,R2=36196,Op=37492,Up=37496,Gp=37808,zy=37809,Vy=37810,Wy=37811,Jy=37812,jy=37813,Ky=37814,Yy=37815,Xy=37816,qy=37817,Zy=37818,$y=37819,e8=37820,t8=37821,kh=36492,cR=36283,n8=36284,i8=36285,r8=36286,uR=2200,hR=2201,fR=2202,Xh=2300,nu=2301,Qm=2302,Nc=2400,Oc=2401,Qp=2402,P2=2500,gx=2501,dR=0,vx=1,Tg=2,Tl=3e3,cn=3001,pR=3200,yx=3201,Gl=0,AR=1,xG="",Fs="srgb",qh="srgb-linear",CG=0,Hm=7680,EG=7681,SG=7682,wG=7683,IG=34055,_G=34056,MG=5386,TG=512,BG=513,bG=514,RG=515,PG=516,DG=517,LG=518,mR=519,Hp=35044,wo=35048,FG=35040,kG=35045,NG=35049,OG=35041,UG=35046,GG=35050,QG=35042,HG="100",s8="300 es",Bg=1035;class Do{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Li=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let cS=1234567;const Jc=Math.PI/180,zp=180/Math.PI;function Rr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Li[t&255]+Li[t>>8&255]+Li[t>>16&255]+Li[t>>24&255]+"-"+Li[e&255]+Li[e>>8&255]+"-"+Li[e>>16&15|64]+Li[e>>24&255]+"-"+Li[n&63|128]+Li[n>>8&255]+"-"+Li[n>>16&255]+Li[n>>24&255]+Li[i&255]+Li[i>>8&255]+Li[i>>16&255]+Li[i>>24&255]).toLowerCase()}function Vn(t,e,n){return Math.max(e,Math.min(n,t))}function xx(t,e){return(t%e+e)%e}function zG(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function VG(t,e,n){return t!==e?(n-t)/(e-t):0}function qd(t,e,n){return(1-n)*t+n*e}function WG(t,e,n,i){return qd(t,e,1-Math.exp(-n*i))}function JG(t,e=1){return e-Math.abs(xx(t,e*2)-e)}function jG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function KG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function YG(t,e){return t+Math.floor(Math.random()*(e-t+1))}function XG(t,e){return t+Math.random()*(e-t)}function qG(t){return t*(.5-Math.random())}function ZG(t){t!==void 0&&(cS=t);let e=cS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $G(t){return t*Jc}function eQ(t){return t*zp}function o8(t){return(t&t-1)===0&&t!==0}function gR(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function bg(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function tQ(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),u=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),A=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*m,l*A,a*c);break;case"YXY":t.set(l*A,a*u,l*m,a*c);break;case"ZYZ":t.set(l*m,l*A,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ua(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function rn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var jc=Object.freeze({__proto__:null,DEG2RAD:Jc,RAD2DEG:zp,ceilPowerOfTwo:gR,clamp:Vn,damp:WG,degToRad:$G,denormalize:ua,euclideanModulo:xx,floorPowerOfTwo:bg,generateUUID:Rr,inverseLerp:VG,isPowerOfTwo:o8,lerp:qd,mapLinear:zG,normalize:rn,pingpong:JG,radToDeg:eQ,randFloat:XG,randFloatSpread:qG,randInt:YG,seededRandom:ZG,setQuaternionFromProperEuler:tQ,smootherstep:KG,smoothstep:jG});class le{constructor(e=0,n=0){le.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yi{constructor(){Yi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],p=i[2],A=i[5],m=i[8],g=r[0],v=r[3],C=r[6],y=r[1],x=r[4],S=r[7],I=r[2],T=r[5],B=r[8];return s[0]=o*g+a*y+l*I,s[3]=o*v+a*x+l*T,s[6]=o*C+a*S+l*B,s[1]=c*g+u*y+d*I,s[4]=c*v+u*x+d*T,s[7]=c*C+u*S+d*B,s[2]=p*g+A*y+m*I,s[5]=p*v+A*x+m*T,s[8]=p*C+A*S+m*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,A=c*s-o*l,m=n*d+i*p+r*A;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=d*g,e[1]=(r*c-u*i)*g,e[2]=(a*i-r*o)*g,e[3]=p*g,e[4]=(u*n-r*l)*g,e[5]=(r*s-a*n)*g,e[6]=A*g,e[7]=(i*l-c*n)*g,e[8]=(o*n-i*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(cv.makeScale(e,n)),this}rotate(e){return this.premultiply(cv.makeRotation(-e)),this}translate(e,n){return this.premultiply(cv.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cv=new Yi;function vR(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const nQ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function yh(t,e){return new nQ[t](e)}function Vp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Kc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function zm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const uv={[Fs]:{[qh]:Kc},[qh]:{[Fs]:zm}},Fi={legacyMode:!0,get workingColorSpace(){return qh},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(uv[e]&&uv[e][n]!==void 0){const i=uv[e][n];return t.r=i(t.r),t.g=i(t.g),t.b=i(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},yR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$n={r:0,g:0,b:0},bs={h:0,s:0,l:0},yA={h:0,s:0,l:0};function hv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function xA(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Re{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Fs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fi.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Fi.workingColorSpace){return this.r=e,this.g=n,this.b=i,Fi.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Fi.workingColorSpace){if(e=xx(e,1),n=Vn(n,0,1),i=Vn(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=hv(o,s,e+1/3),this.g=hv(o,s,e),this.b=hv(o,s,e-1/3)}return Fi.toWorkingColorSpace(this,r),this}setStyle(e,n=Fs){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Fi.toWorkingColorSpace(this,n),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Fi.toWorkingColorSpace(this,n),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,u,n)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Fi.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Fi.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Fs){const i=yR[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kc(e.r),this.g=Kc(e.g),this.b=Kc(e.b),this}copyLinearToSRGB(e){return this.r=zm(e.r),this.g=zm(e.g),this.b=zm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fs){return Fi.fromWorkingColorSpace(xA(this,$n),e),Vn($n.r*255,0,255)<<16^Vn($n.g*255,0,255)<<8^Vn($n.b*255,0,255)<<0}getHexString(e=Fs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Fi.workingColorSpace){Fi.fromWorkingColorSpace(xA(this,$n),n);const i=$n.r,r=$n.g,s=$n.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Fi.workingColorSpace){return Fi.fromWorkingColorSpace(xA(this,$n),n),e.r=$n.r,e.g=$n.g,e.b=$n.b,e}getStyle(e=Fs){return Fi.fromWorkingColorSpace(xA(this,$n),e),e!==Fs?`color(${e} ${$n.r} ${$n.g} ${$n.b})`:`rgb(${$n.r*255|0},${$n.g*255|0},${$n.b*255|0})`}offsetHSL(e,n,i){return this.getHSL(bs),bs.h+=e,bs.s+=n,bs.l+=i,this.setHSL(bs.h,bs.s,bs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(bs),e.getHSL(yA);const i=qd(bs.h,yA.h,n),r=qd(bs.s,yA.s,n),s=qd(bs.l,yA.l,n);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Re.NAMES=yR;let Nu;class Cx{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Nu===void 0&&(Nu=Vp("canvas")),Nu.width=e.width,Nu.height=e.height;const i=Nu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Nu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Vp("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Kc(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Kc(n[i]/255)*255):n[i]=Kc(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Uc{constructor(e=null){this.isSource=!0,this.uuid=Rr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(fv(r[o].image)):s.push(fv(r[o]))}else s=fv(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function fv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Cx.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let iQ=0;class gn extends Do{constructor(e=gn.DEFAULT_IMAGE,n=gn.DEFAULT_MAPPING,i=wn,r=wn,s=sn,o=ys,a=Nn,l=gi,c=gn.DEFAULT_ANISOTROPY,u=Tl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:iQ++}),this.uuid=Rr(),this.name="",this.source=new Uc(e),this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new le(0,0),this.repeat=new le(1,1),this.center=new le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==B2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vs:e.x=e.x-Math.floor(e.x);break;case wn:e.x=e.x<0?0:1;break;case Yh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vs:e.y=e.y-Math.floor(e.y);break;case wn:e.y=e.y<0?0:1;break;case Yh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}gn.DEFAULT_IMAGE=null;gn.DEFAULT_MAPPING=B2;gn.DEFAULT_ANISOTROPY=1;class Gt{constructor(e=0,n=0,i=0,r=1){Gt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],A=l[5],m=l[9],g=l[2],v=l[6],C=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-g)<.01&&Math.abs(m-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+g)<.1&&Math.abs(m+v)<.1&&Math.abs(c+A+C-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,S=(A+1)/2,I=(C+1)/2,T=(u+p)/4,B=(d+g)/4,_=(m+v)/4;return x>S&&x>I?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=T/i,s=B/i):S>I?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=T/r,s=_/r):I<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(I),i=B/s,r=_/s),this.set(i,r,s,n),this}let y=Math.sqrt((v-m)*(v-m)+(d-g)*(d-g)+(p-u)*(p-u));return Math.abs(y)<.001&&(y=1),this.x=(v-m)/y,this.y=(d-g)/y,this.z=(p-u)/y,this.w=Math.acos((c+A+C-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class an extends Do{constructor(e=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Gt(0,0,e,n),this.scissorTest=!1,this.viewport=new Gt(0,0,e,n);const r={width:e,height:n,depth:1};this.texture=new gn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:sn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Uc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class D2 extends gn{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=mt,this.minFilter=mt,this.wrapR=wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rQ extends an{constructor(e=1,n=1,i=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new D2(null,e,n,i),this.texture.isRenderTargetTexture=!0}}let Ex=class extends gn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=mt,this.minFilter=mt,this.wrapR=wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class sQ extends an{constructor(e=1,n=1,i=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Ex(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class oQ extends an{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class si{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const p=s[o+0],A=s[o+1],m=s[o+2],g=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=A,e[n+2]=m,e[n+3]=g;return}if(d!==g||l!==p||c!==A||u!==m){let v=1-a;const C=l*p+c*A+u*m+d*g,y=C>=0?1:-1,x=1-C*C;if(x>Number.EPSILON){const I=Math.sqrt(x),T=Math.atan2(I,C*y);v=Math.sin(v*T)/I,a=Math.sin(a*T)/I}const S=a*y;if(l=l*v+p*S,c=c*v+A*S,u=u*v+m*S,d=d*v+g*S,v===1-a){const I=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=I,c*=I,u*=I,d*=I}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],p=s[o+1],A=s[o+2],m=s[o+3];return e[n]=a*m+u*d+l*A-c*p,e[n+1]=l*m+u*p+c*d-a*A,e[n+2]=c*m+u*A+a*p-l*d,e[n+3]=u*m-a*d-l*p-c*A,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),p=l(i/2),A=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*A*m,this._y=c*A*d-p*u*m,this._z=c*u*m+p*A*d,this._w=c*u*d-p*A*m;break;case"YXZ":this._x=p*u*d+c*A*m,this._y=c*A*d-p*u*m,this._z=c*u*m-p*A*d,this._w=c*u*d+p*A*m;break;case"ZXY":this._x=p*u*d-c*A*m,this._y=c*A*d+p*u*m,this._z=c*u*m+p*A*d,this._w=c*u*d-p*A*m;break;case"ZYX":this._x=p*u*d-c*A*m,this._y=c*A*d+p*u*m,this._z=c*u*m-p*A*d,this._w=c*u*d+p*A*m;break;case"YZX":this._x=p*u*d+c*A*m,this._y=c*A*d+p*u*m,this._z=c*u*m-p*A*d,this._w=c*u*d-p*A*m;break;case"XZY":this._x=p*u*d-c*A*m,this._y=c*A*d-p*u*m,this._z=c*u*m+p*A*d,this._w=c*u*d+p*A*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],p=i+a+d;if(p>0){const A=.5/Math.sqrt(p+1);this._w=.25/A,this._x=(u-l)*A,this._y=(s-c)*A,this._z=(o-r)*A}else if(i>a&&i>d){const A=2*Math.sqrt(1+i-a-d);this._w=(u-l)/A,this._x=.25*A,this._y=(r+o)/A,this._z=(s+c)/A}else if(a>d){const A=2*Math.sqrt(1+a-i-d);this._w=(s-c)/A,this._x=(r+o)/A,this._y=.25*A,this._z=(l+u)/A}else{const A=2*Math.sqrt(1+d-i-a);this._w=(o-r)/A,this._x=(s+c)/A,this._y=(l+u)/A,this._z=.25*A}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const A=1-n;return this._w=A*o+n*this._w,this._x=A*i+n*this._x,this._y=A*r+n*this._y,this._z=A*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,n=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(uS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(uS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*r-a*i,u=l*i+a*n-s*r,d=l*r+s*i-o*n,p=-s*n-o*i-a*r;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return dv.copy(this).projectOnVector(e),this.sub(dv)}reflect(e){return this.sub(dv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dv=new D,uS=new si;class Ql{constructor(e=new D(1/0,1/0,1/0),n=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],p=e[l+2];u<n&&(n=u),d<i&&(i=d),p<r&&(r=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<n&&(n=u),d<i&&(i=d),p<r&&(r=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(n,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=oc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(n&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)oc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(oc)}else i.boundingBox===null&&i.computeBoundingBox(),pv.copy(i.boundingBox),pv.applyMatrix4(e.matrixWorld),this.union(pv);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,oc),oc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rd),CA.subVectors(this.max,rd),Ou.subVectors(e.a,rd),Uu.subVectors(e.b,rd),Gu.subVectors(e.c,rd),Qa.subVectors(Uu,Ou),Ha.subVectors(Gu,Uu),ac.subVectors(Ou,Gu);let n=[0,-Qa.z,Qa.y,0,-Ha.z,Ha.y,0,-ac.z,ac.y,Qa.z,0,-Qa.x,Ha.z,0,-Ha.x,ac.z,0,-ac.x,-Qa.y,Qa.x,0,-Ha.y,Ha.x,0,-ac.y,ac.x,0];return!Av(n,Ou,Uu,Gu,CA)||(n=[1,0,0,0,1,0,0,0,1],!Av(n,Ou,Uu,Gu,CA))?!1:(EA.crossVectors(Qa,Ha),n=[EA.x,EA.y,EA.z],Av(n,Ou,Uu,Gu,CA))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return oc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(oc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zo=[new D,new D,new D,new D,new D,new D,new D,new D],oc=new D,pv=new Ql,Ou=new D,Uu=new D,Gu=new D,Qa=new D,Ha=new D,ac=new D,rd=new D,CA=new D,EA=new D,lc=new D;function Av(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){lc.fromArray(t,s);const a=r.x*Math.abs(lc.x)+r.y*Math.abs(lc.y)+r.z*Math.abs(lc.z),l=e.dot(lc),c=n.dot(lc),u=i.dot(lc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const aQ=new Ql,sd=new D,mv=new D;class Hl{constructor(e=new D,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):aQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sd.subVectors(e,this.center);const n=sd.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(sd,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sd.copy(e.center).add(mv)),this.expandByPoint(sd.copy(e.center).sub(mv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $o=new D,gv=new D,SA=new D,za=new D,vv=new D,wA=new D,yv=new D;class m0{constructor(e=new D,n=new D(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$o)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=$o.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):($o.copy(this.direction).multiplyScalar(n).add(this.origin),$o.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){gv.copy(e).add(n).multiplyScalar(.5),SA.copy(n).sub(e).normalize(),za.copy(this.origin).sub(gv);const s=e.distanceTo(n)*.5,o=-this.direction.dot(SA),a=za.dot(this.direction),l=-za.dot(SA),c=za.lengthSq(),u=Math.abs(1-o*o);let d,p,A,m;if(u>0)if(d=o*l-a,p=o*a-l,m=s*u,d>=0)if(p>=-m)if(p<=m){const g=1/u;d*=g,p*=g,A=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),A=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),A=-d*d+p*(p+2*l)+c;else p<=-m?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),A=-d*d+p*(p+2*l)+c):p<=m?(d=0,p=Math.min(Math.max(-s,-l),s),A=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),A=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),A=-d*d+p*(p+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(SA).multiplyScalar(p).add(gv),A}intersectSphere(e,n){$o.subVectors(e.center,this.origin);const i=$o.dot(this.direction),r=$o.dot($o)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,$o)!==null}intersectTriangle(e,n,i,r,s){vv.subVectors(n,e),wA.subVectors(i,e),yv.crossVectors(vv,wA);let o=this.direction.dot(yv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;za.subVectors(this.origin,e);const l=a*this.direction.dot(wA.crossVectors(za,wA));if(l<0)return null;const c=a*this.direction.dot(vv.cross(za));if(c<0||l+c>o)return null;const u=-a*za.dot(yv);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ke{constructor(){Ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,i,r,s,o,a,l,c,u,d,p,A,m,g,v){const C=this.elements;return C[0]=e,C[4]=n,C[8]=i,C[12]=r,C[1]=s,C[5]=o,C[9]=a,C[13]=l,C[2]=c,C[6]=u,C[10]=d,C[14]=p,C[3]=A,C[7]=m,C[11]=g,C[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ke().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Qu.setFromMatrixColumn(e,0).length(),s=1/Qu.setFromMatrixColumn(e,1).length(),o=1/Qu.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,A=o*d,m=a*u,g=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=A+m*c,n[5]=p-g*c,n[9]=-a*l,n[2]=g-p*c,n[6]=m+A*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,A=l*d,m=c*u,g=c*d;n[0]=p+g*a,n[4]=m*a-A,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=A*a-m,n[6]=g+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,A=l*d,m=c*u,g=c*d;n[0]=p-g*a,n[4]=-o*d,n[8]=m+A*a,n[1]=A+m*a,n[5]=o*u,n[9]=g-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,A=o*d,m=a*u,g=a*d;n[0]=l*u,n[4]=m*c-A,n[8]=p*c+g,n[1]=l*d,n[5]=g*c+p,n[9]=A*c-m,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,A=o*c,m=a*l,g=a*c;n[0]=l*u,n[4]=g-p*d,n[8]=m*d+A,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=A*d+m,n[10]=p-g*d}else if(e.order==="XZY"){const p=o*l,A=o*c,m=a*l,g=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=p*d+g,n[5]=o*u,n[9]=A*d-m,n[2]=m*d-A,n[6]=a*u,n[10]=g*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lQ,e,cQ)}lookAt(e,n,i){const r=this.elements;return Er.subVectors(e,n),Er.lengthSq()===0&&(Er.z=1),Er.normalize(),Va.crossVectors(i,Er),Va.lengthSq()===0&&(Math.abs(i.z)===1?Er.x+=1e-4:Er.z+=1e-4,Er.normalize(),Va.crossVectors(i,Er)),Va.normalize(),IA.crossVectors(Er,Va),r[0]=Va.x,r[4]=IA.x,r[8]=Er.x,r[1]=Va.y,r[5]=IA.y,r[9]=Er.y,r[2]=Va.z,r[6]=IA.z,r[10]=Er.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],p=i[9],A=i[13],m=i[2],g=i[6],v=i[10],C=i[14],y=i[3],x=i[7],S=i[11],I=i[15],T=r[0],B=r[4],_=r[8],R=r[12],P=r[1],L=r[5],H=r[9],N=r[13],U=r[2],J=r[6],Y=r[10],ee=r[14],k=r[3],j=r[7],W=r[11],$=r[15];return s[0]=o*T+a*P+l*U+c*k,s[4]=o*B+a*L+l*J+c*j,s[8]=o*_+a*H+l*Y+c*W,s[12]=o*R+a*N+l*ee+c*$,s[1]=u*T+d*P+p*U+A*k,s[5]=u*B+d*L+p*J+A*j,s[9]=u*_+d*H+p*Y+A*W,s[13]=u*R+d*N+p*ee+A*$,s[2]=m*T+g*P+v*U+C*k,s[6]=m*B+g*L+v*J+C*j,s[10]=m*_+g*H+v*Y+C*W,s[14]=m*R+g*N+v*ee+C*$,s[3]=y*T+x*P+S*U+I*k,s[7]=y*B+x*L+S*J+I*j,s[11]=y*_+x*H+S*Y+I*W,s[15]=y*R+x*N+S*ee+I*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],A=e[14],m=e[3],g=e[7],v=e[11],C=e[15];return m*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*A-i*l*A)+g*(+n*l*A-n*c*p+s*o*p-r*o*A+r*c*u-s*l*u)+v*(+n*c*d-n*a*A-s*o*d+i*o*A+s*a*u-i*c*u)+C*(-r*a*u-n*l*d+n*a*p+r*o*d-i*o*p+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],A=e[11],m=e[12],g=e[13],v=e[14],C=e[15],y=d*v*c-g*p*c+g*l*A-a*v*A-d*l*C+a*p*C,x=m*p*c-u*v*c-m*l*A+o*v*A+u*l*C-o*p*C,S=u*g*c-m*d*c+m*a*A-o*g*A-u*a*C+o*d*C,I=m*d*l-u*g*l-m*a*p+o*g*p+u*a*v-o*d*v,T=n*y+i*x+r*S+s*I;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=y*B,e[1]=(g*p*s-d*v*s-g*r*A+i*v*A+d*r*C-i*p*C)*B,e[2]=(a*v*s-g*l*s+g*r*c-i*v*c-a*r*C+i*l*C)*B,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*A-i*l*A)*B,e[4]=x*B,e[5]=(u*v*s-m*p*s+m*r*A-n*v*A-u*r*C+n*p*C)*B,e[6]=(m*l*s-o*v*s-m*r*c+n*v*c+o*r*C-n*l*C)*B,e[7]=(o*p*s-u*l*s+u*r*c-n*p*c-o*r*A+n*l*A)*B,e[8]=S*B,e[9]=(m*d*s-u*g*s-m*i*A+n*g*A+u*i*C-n*d*C)*B,e[10]=(o*g*s-m*a*s+m*i*c-n*g*c-o*i*C+n*a*C)*B,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*A-n*a*A)*B,e[12]=I*B,e[13]=(u*g*r-m*d*r+m*i*p-n*g*p-u*i*v+n*d*v)*B,e[14]=(m*a*r-o*g*r-m*i*l+n*g*l+o*i*v-n*a*v)*B,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*p+n*a*p)*B,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,p=s*c,A=s*u,m=s*d,g=o*u,v=o*d,C=a*d,y=l*c,x=l*u,S=l*d,I=i.x,T=i.y,B=i.z;return r[0]=(1-(g+C))*I,r[1]=(A+S)*I,r[2]=(m-x)*I,r[3]=0,r[4]=(A-S)*T,r[5]=(1-(p+C))*T,r[6]=(v+y)*T,r[7]=0,r[8]=(m+x)*B,r[9]=(v-y)*B,r[10]=(1-(p+g))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Qu.set(r[0],r[1],r[2]).length();const o=Qu.set(r[4],r[5],r[6]).length(),a=Qu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Rs.copy(this);const c=1/s,u=1/o,d=1/a;return Rs.elements[0]*=c,Rs.elements[1]*=c,Rs.elements[2]*=c,Rs.elements[4]*=u,Rs.elements[5]*=u,Rs.elements[6]*=u,Rs.elements[8]*=d,Rs.elements[9]*=d,Rs.elements[10]*=d,n.setFromRotationMatrix(Rs),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o){const a=this.elements,l=2*s/(n-e),c=2*s/(i-r),u=(n+e)/(n-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),A=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=A,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,i,r,s,o){const a=this.elements,l=1/(n-e),c=1/(i-r),u=1/(o-s),d=(n+e)*l,p=(i+r)*c,A=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-A,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Qu=new D,Rs=new Ke,lQ=new D(0,0,0),cQ=new D(1,1,1),Va=new D,IA=new D,Er=new D,hS=new Ke,fS=new si;class fu{constructor(e=0,n=0,i=0,r=fu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],p=r[6],A=r[10];switch(n){case"XYZ":this._y=Math.asin(Vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,A),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,A),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,A),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Vn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,A),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,A));break;case"XZY":this._z=Math.asin(-Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return hS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(hS,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return fS.setFromEuler(this),this.setFromQuaternion(fS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fu.DEFAULT_ORDER="XYZ";class Yc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uQ=0;const dS=new D,Hu=new si,ea=new Ke,_A=new D,od=new D,hQ=new D,fQ=new si,pS=new D(1,0,0),AS=new D(0,1,0),mS=new D(0,0,1),dQ={type:"added"},gS={type:"removed"};class Qt extends Do{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uQ++}),this.uuid=Rr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Qt.DEFAULT_UP.clone();const e=new D,n=new fu,i=new si,r=new D(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ke},normalMatrix:{value:new Yi}}),this.matrix=new Ke,this.matrixWorld=new Ke,this.matrixAutoUpdate=Qt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Yc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Hu.setFromAxisAngle(e,n),this.quaternion.multiply(Hu),this}rotateOnWorldAxis(e,n){return Hu.setFromAxisAngle(e,n),this.quaternion.premultiply(Hu),this}rotateX(e){return this.rotateOnAxis(pS,e)}rotateY(e){return this.rotateOnAxis(AS,e)}rotateZ(e){return this.rotateOnAxis(mS,e)}translateOnAxis(e,n){return dS.copy(e).applyQuaternion(this.quaternion),this.position.add(dS.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(pS,e)}translateY(e){return this.translateOnAxis(AS,e)}translateZ(e){return this.translateOnAxis(mS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ea.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?_A.copy(e):_A.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),od.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ea.lookAt(od,_A,this.up):ea.lookAt(_A,od,this.up),this.quaternion.setFromRotationMatrix(ea),r&&(ea.extractRotation(r.matrixWorld),Hu.setFromRotationMatrix(ea),this.quaternion.premultiply(Hu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(dQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(gS)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(gS)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ea.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ea.multiply(e.parent.matrixWorld)),e.applyMatrix4(ea),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,n);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(od,e,hQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(od,fQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),A=o(e.animations),m=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),A.length>0&&(i.animations=A),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Qt.DEFAULT_UP=new D(0,1,0);Qt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ps=new D,ta=new D,xv=new D,na=new D,zu=new D,Vu=new D,vS=new D,Cv=new D,Ev=new D,Sv=new D;class cs{constructor(e=new D,n=new D,i=new D){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ps.subVectors(e,n),r.cross(Ps);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ps.subVectors(r,n),ta.subVectors(i,n),xv.subVectors(e,n);const o=Ps.dot(Ps),a=Ps.dot(ta),l=Ps.dot(xv),c=ta.dot(ta),u=ta.dot(xv),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,A=(c*l-a*u)*p,m=(o*u-a*l)*p;return s.set(1-A-m,m,A)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,na),na.x>=0&&na.y>=0&&na.x+na.y<=1}static getUV(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,na),l.set(0,0),l.addScaledVector(s,na.x),l.addScaledVector(o,na.y),l.addScaledVector(a,na.z),l}static isFrontFacing(e,n,i,r){return Ps.subVectors(i,n),ta.subVectors(e,n),Ps.cross(ta).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ps.subVectors(this.c,this.b),ta.subVectors(this.a,this.b),Ps.cross(ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return cs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return cs.getUV(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;zu.subVectors(r,i),Vu.subVectors(s,i),Cv.subVectors(e,i);const l=zu.dot(Cv),c=Vu.dot(Cv);if(l<=0&&c<=0)return n.copy(i);Ev.subVectors(e,r);const u=zu.dot(Ev),d=Vu.dot(Ev);if(u>=0&&d<=u)return n.copy(r);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(zu,o);Sv.subVectors(e,s);const A=zu.dot(Sv),m=Vu.dot(Sv);if(m>=0&&A<=m)return n.copy(s);const g=A*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),n.copy(i).addScaledVector(Vu,a);const v=u*m-A*d;if(v<=0&&d-u>=0&&A-m>=0)return vS.subVectors(s,r),a=(d-u)/(d-u+(A-m)),n.copy(r).addScaledVector(vS,a);const C=1/(v+g+p);return o=g*C,a=p*C,n.copy(i).addScaledVector(zu,o).addScaledVector(Vu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let pQ=0;class qn extends Do{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pQ++}),this.uuid=Rr(),this.name="",this.type="Material",this.blending=So,this.side=Po,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Rp,this.blendDst=Pp,this.blendEquation=_r,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Mg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=mR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hm,this.stencilZFail=Hm,this.stencilZPass=Hm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const r=this[n];if(r===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==So&&(i.blending=this.blending),this.side!==Po&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Si extends qn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=A0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kn=new D,MA=new le;class qt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)MA.fromBufferAttribute(this,n),MA.applyMatrix3(e),this.setXY(n,MA.x,MA.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Kn.fromBufferAttribute(this,n),Kn.applyMatrix3(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Kn.fromBufferAttribute(this,n),Kn.applyMatrix4(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Kn.fromBufferAttribute(this,n),Kn.applyNormalMatrix(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Kn.fromBufferAttribute(this,n),Kn.transformDirection(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ua(n,this.array)),n}setX(e,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ua(n,this.array)),n}setY(e,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ua(n,this.array)),n}setZ(e,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ua(n,this.array)),n}setW(e,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array),r=rn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array),r=rn(r,this.array),s=rn(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Hp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class AQ extends qt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class mQ extends qt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class gQ extends qt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class vQ extends qt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class Sx extends qt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class yQ extends qt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class L2 extends qt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class xQ extends qt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}}class Ye extends qt{constructor(e,n,i){super(new Float32Array(e),n,i)}}class CQ extends qt{constructor(e,n,i){super(new Float64Array(e),n,i)}}let EQ=0;const ts=new Ke,wv=new Qt,Wu=new D,Sr=new Ql,ad=new Ql,Ai=new D;class gt extends Do{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:EQ++}),this.uuid=Rr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(vR(e)?L2:Sx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Yi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ts.makeRotationFromQuaternion(e),this.applyMatrix4(ts),this}rotateX(e){return ts.makeRotationX(e),this.applyMatrix4(ts),this}rotateY(e){return ts.makeRotationY(e),this.applyMatrix4(ts),this}rotateZ(e){return ts.makeRotationZ(e),this.applyMatrix4(ts),this}translate(e,n,i){return ts.makeTranslation(e,n,i),this.applyMatrix4(ts),this}scale(e,n,i){return ts.makeScale(e,n,i),this.applyMatrix4(ts),this}lookAt(e){return wv.lookAt(e),wv.updateMatrix(),this.applyMatrix4(wv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wu).negate(),this.translate(Wu.x,Wu.y,Wu.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ye(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ql);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Sr.setFromBufferAttribute(s),this.morphTargetsRelative?(Ai.addVectors(this.boundingBox.min,Sr.min),this.boundingBox.expandByPoint(Ai),Ai.addVectors(this.boundingBox.max,Sr.max),this.boundingBox.expandByPoint(Ai)):(this.boundingBox.expandByPoint(Sr.min),this.boundingBox.expandByPoint(Sr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(Sr.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ad.setFromBufferAttribute(a),this.morphTargetsRelative?(Ai.addVectors(Sr.min,ad.min),Sr.expandByPoint(Ai),Ai.addVectors(Sr.max,ad.max),Sr.expandByPoint(Ai)):(Sr.expandByPoint(ad.min),Sr.expandByPoint(ad.max))}Sr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Ai.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ai));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ai.fromBufferAttribute(a,c),l&&(Wu.fromBufferAttribute(e,c),Ai.add(Wu)),r=Math.max(r,i.distanceToSquared(Ai))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new D,u[P]=new D;const d=new D,p=new D,A=new D,m=new le,g=new le,v=new le,C=new D,y=new D;function x(P,L,H){d.fromArray(r,P*3),p.fromArray(r,L*3),A.fromArray(r,H*3),m.fromArray(o,P*2),g.fromArray(o,L*2),v.fromArray(o,H*2),p.sub(d),A.sub(d),g.sub(m),v.sub(m);const N=1/(g.x*v.y-v.x*g.y);isFinite(N)&&(C.copy(p).multiplyScalar(v.y).addScaledVector(A,-g.y).multiplyScalar(N),y.copy(A).multiplyScalar(g.x).addScaledVector(p,-v.x).multiplyScalar(N),c[P].add(C),c[L].add(C),c[H].add(C),u[P].add(y),u[L].add(y),u[H].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let P=0,L=S.length;P<L;++P){const H=S[P],N=H.start,U=H.count;for(let J=N,Y=N+U;J<Y;J+=3)x(i[J+0],i[J+1],i[J+2])}const I=new D,T=new D,B=new D,_=new D;function R(P){B.fromArray(s,P*3),_.copy(B);const L=c[P];I.copy(L),I.sub(B.multiplyScalar(B.dot(L))).normalize(),T.crossVectors(_,L);const N=T.dot(u[P])<0?-1:1;l[P*4]=I.x,l[P*4+1]=I.y,l[P*4+2]=I.z,l[P*4+3]=N}for(let P=0,L=S.length;P<L;++P){const H=S[P],N=H.start,U=H.count;for(let J=N,Y=N+U;J<Y;J+=3)R(i[J+0]),R(i[J+1]),R(i[J+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,A=i.count;p<A;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,c=new D,u=new D,d=new D;if(e)for(let p=0,A=e.count;p<A;p+=3){const m=e.getX(p+0),g=e.getX(p+1),v=e.getX(p+2);r.fromBufferAttribute(n,m),s.fromBufferAttribute(n,g),o.fromBufferAttribute(n,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,A=n.count;p<A;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(p+0,u.x,u.y,u.z),i.setXYZ(p+1,u.x,u.y,u.z),i.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ai.fromBufferAttribute(e,n),Ai.normalize(),e.setXYZ(n,Ai.x,Ai.y,Ai.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let A=0,m=0;for(let g=0,v=l.length;g<v;g++){a.isInterleavedBufferAttribute?A=l[g]*a.data.stride+a.offset:A=l[g]*u;for(let C=0;C<u;C++)p[m++]=c[A++]}return new qt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new gt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],A=e(p,i);l.push(A)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const A=c[d];u.push(A.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,A=d.length;p<A;p++)u.push(d[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const yS=new Ke,Ju=new m0,Iv=new Hl,ld=new D,cd=new D,ud=new D,_v=new D,TA=new D,BA=new le,bA=new le,RA=new le,Mv=new D,PA=new D;class $t extends Qt{constructor(e=new gt,n=new Si){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){TA.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(_v.fromBufferAttribute(d,e),o?TA.addScaledVector(_v,u):TA.addScaledVector(_v.sub(n),u))}n.add(TA)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Iv.copy(i.boundingSphere),Iv.applyMatrix4(s),e.ray.intersectsSphere(Iv)===!1)||(yS.copy(s).invert(),Ju.copy(e.ray).applyMatrix4(yS),i.boundingBox!==null&&Ju.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,u=i.attributes.uv2,d=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let A=0,m=d.length;A<m;A++){const g=d[A],v=r[g.materialIndex],C=Math.max(g.start,p.start),y=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let x=C,S=y;x<S;x+=3){const I=a.getX(x),T=a.getX(x+1),B=a.getX(x+2);o=DA(this,v,e,Ju,c,u,I,T,B),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const A=Math.max(0,p.start),m=Math.min(a.count,p.start+p.count);for(let g=A,v=m;g<v;g+=3){const C=a.getX(g),y=a.getX(g+1),x=a.getX(g+2);o=DA(this,r,e,Ju,c,u,C,y,x),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let A=0,m=d.length;A<m;A++){const g=d[A],v=r[g.materialIndex],C=Math.max(g.start,p.start),y=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let x=C,S=y;x<S;x+=3){const I=x,T=x+1,B=x+2;o=DA(this,v,e,Ju,c,u,I,T,B),o&&(o.faceIndex=Math.floor(x/3),o.face.materialIndex=g.materialIndex,n.push(o))}}else{const A=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);for(let g=A,v=m;g<v;g+=3){const C=g,y=g+1,x=g+2;o=DA(this,r,e,Ju,c,u,C,y,x),o&&(o.faceIndex=Math.floor(g/3),n.push(o))}}}}function SQ(t,e,n,i,r,s,o,a){let l;if(e.side===qi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Po,a),l===null)return null;PA.copy(a),PA.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(PA);return c<n.near||c>n.far?null:{distance:c,point:PA.clone(),object:t}}function DA(t,e,n,i,r,s,o,a,l){t.getVertexPosition(o,ld),t.getVertexPosition(a,cd),t.getVertexPosition(l,ud);const c=SQ(t,e,n,i,ld,cd,ud,Mv);if(c){r&&(BA.fromBufferAttribute(r,o),bA.fromBufferAttribute(r,a),RA.fromBufferAttribute(r,l),c.uv=cs.getUV(Mv,ld,cd,ud,BA,bA,RA,new le)),s&&(BA.fromBufferAttribute(s,o),bA.fromBufferAttribute(s,a),RA.fromBufferAttribute(s,l),c.uv2=cs.getUV(Mv,ld,cd,ud,BA,bA,RA,new le));const u={a:o,b:a,c:l,normal:new D,materialIndex:0};cs.getNormal(ld,cd,ud,u.normal),c.face=u}return c}class _a extends gt{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,A=0;m("z","y","x",-1,-1,i,n,e,o,s,0),m("z","y","x",1,-1,i,n,-e,o,s,1),m("x","z","y",1,1,e,i,n,r,o,2),m("x","z","y",1,-1,e,i,-n,r,o,3),m("x","y","z",1,-1,e,n,i,r,s,4),m("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ye(c,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(d,2));function m(g,v,C,y,x,S,I,T,B,_,R){const P=S/B,L=I/_,H=S/2,N=I/2,U=T/2,J=B+1,Y=_+1;let ee=0,k=0;const j=new D;for(let W=0;W<Y;W++){const $=W*L-N;for(let z=0;z<J;z++){const ne=z*P-H;j[g]=ne*y,j[v]=$*x,j[C]=U,c.push(j.x,j.y,j.z),j[g]=0,j[v]=0,j[C]=T>0?1:-1,u.push(j.x,j.y,j.z),d.push(z/B),d.push(1-W/_),ee+=1}}for(let W=0;W<_;W++)for(let $=0;$<B;$++){const z=p+$+J*W,ne=p+$+J*(W+1),pe=p+($+1)+J*(W+1),ye=p+($+1)+J*W;l.push(z,ne,ye),l.push(ne,pe,ye),k+=6}a.addGroup(A,k,R),A+=k,p+=ee}}static fromJSON(e){return new _a(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Zh(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ji(t){const e={};for(let n=0;n<t.length;n++){const i=Zh(t[n]);for(const r in i)e[r]=i[r]}return e}function wQ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function xR(t){return t.getRenderTarget()===null&&t.outputEncoding===cn?Fs:qh}const In={clone:Zh,merge:Ji};var IQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_Q=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jt extends qn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IQ,this.fragmentShader=_Q,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zh(e.uniforms),this.uniformsGroups=wQ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class g0 extends Qt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ke,this.projectionMatrix=new Ke,this.projectionMatrixInverse=new Ke}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class on extends g0{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=zp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return zp*2*Math.atan(Math.tan(Jc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Jc*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ju=-90,Ku=1;class wx extends Qt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new on(ju,Ku,e,n);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new on(ju,Ku,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new on(ju,Ku,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new on(ju,Ku,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new on(ju,Ku,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new on(ju,Ku,e,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=br,e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,s),e.setRenderTarget(i,2),e.render(n,o),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=A,e.setRenderTarget(i,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class v0 extends gn{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Il,super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ix extends an{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new v0(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:sn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _a(5,5,5),s=new Jt({name:"CubemapFromEquirect",uniforms:Zh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:qi,blending:Dt});s.uniforms.tEquirect.value=n;const o=new $t(r,s),a=n.minFilter;return n.minFilter===ys&&(n.minFilter=sn),new wx(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const Tv=new D,MQ=new D,TQ=new Yi;class ls{constructor(e=new D(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Tv.subVectors(i,n).cross(MQ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(Tv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||TQ.getNormalMatrix(e),r=this.coplanarPoint(Tv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Yu=new Hl,LA=new D;class F2{constructor(e=new ls,n=new ls,i=new ls,r=new ls,s=new ls,o=new ls){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],p=i[8],A=i[9],m=i[10],g=i[11],v=i[12],C=i[13],y=i[14],x=i[15];return n[0].setComponents(a-r,d-l,g-p,x-v).normalize(),n[1].setComponents(a+r,d+l,g+p,x+v).normalize(),n[2].setComponents(a+s,d+c,g+A,x+C).normalize(),n[3].setComponents(a-s,d-c,g-A,x-C).normalize(),n[4].setComponents(a-o,d-u,g-m,x-y).normalize(),n[5].setComponents(a+o,d+u,g+m,x+y).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Yu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Yu)}intersectsSprite(e){return Yu.center.set(0,0,0),Yu.radius=.7071067811865476,Yu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yu)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(LA.x=r.normal.x>0?e.max.x:e.min.x,LA.y=r.normal.y>0?e.max.y:e.min.y,LA.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(LA)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function CR(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function BQ(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const d=c.array,p=c.usage,A=t.createBuffer();t.bindBuffer(u,A),t.bufferData(u,d,p),c.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:A,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,A=u.updateRange;t.bindBuffer(d,c),A.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,A.offset*p.BYTES_PER_ELEMENT,p,A.offset,A.count):t.bufferSubData(d,A.offset*p.BYTES_PER_ELEMENT,p.subarray(A.offset,A.offset+A.count)),A.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class du extends gt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,p=n/l,A=[],m=[],g=[],v=[];for(let C=0;C<u;C++){const y=C*p-o;for(let x=0;x<c;x++){const S=x*d-s;m.push(S,-y,0),g.push(0,0,1),v.push(x/a),v.push(1-C/l)}}for(let C=0;C<l;C++)for(let y=0;y<a;y++){const x=y+c*C,S=y+c*(C+1),I=y+1+c*(C+1),T=y+1+c*C;A.push(x,S,T),A.push(S,I,T)}this.setIndex(A),this.setAttribute("position",new Ye(m,3)),this.setAttribute("normal",new Ye(g,3)),this.setAttribute("uv",new Ye(v,2))}static fromJSON(e){return new du(e.width,e.height,e.widthSegments,e.heightSegments)}}var bQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,RQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PQ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,DQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,LQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kQ="vec3 transformed = vec3( position );",NQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OQ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,UQ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,GQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,QQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,HQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,JQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,KQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,YQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,XQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$Q=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,eH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,tH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,nH="gl_FragColor = linearToOutputTexel( gl_FragColor );",iH=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,rH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,aH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,lH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,cH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,uH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,hH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,pH=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,AH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,gH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,vH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yH=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,xH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,CH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,EH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,SH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,IH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_H=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,MH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,TH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,BH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,PH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,DH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,LH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,FH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,kH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,UH=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,GH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,QH=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,HH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,zH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,VH=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,KH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,YH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,XH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,qH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,ZH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$H=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ez=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,tz=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,nz=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iz=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,rz=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,sz=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,oz=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,az=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,lz=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cz=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,uz=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hz=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fz=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,dz=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,pz=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Az=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mz=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gz=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,vz=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,xz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Cz=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Ez=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Sz=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,wz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Iz=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,_z=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Mz=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Tz=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Bz=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rz=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Pz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Dz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Lz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Fz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,kz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Nz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Oz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Uz=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Gz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,jz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Yz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Xz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zz=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$z=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rV=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,oV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,aV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tt={alphamap_fragment:bQ,alphamap_pars_fragment:RQ,alphatest_fragment:PQ,alphatest_pars_fragment:DQ,aomap_fragment:LQ,aomap_pars_fragment:FQ,begin_vertex:kQ,beginnormal_vertex:NQ,bsdfs:OQ,iridescence_fragment:UQ,bumpmap_pars_fragment:GQ,clipping_planes_fragment:QQ,clipping_planes_pars_fragment:HQ,clipping_planes_pars_vertex:zQ,clipping_planes_vertex:VQ,color_fragment:WQ,color_pars_fragment:JQ,color_pars_vertex:jQ,color_vertex:KQ,common:YQ,cube_uv_reflection_fragment:XQ,defaultnormal_vertex:qQ,displacementmap_pars_vertex:ZQ,displacementmap_vertex:$Q,emissivemap_fragment:eH,emissivemap_pars_fragment:tH,encodings_fragment:nH,encodings_pars_fragment:iH,envmap_fragment:rH,envmap_common_pars_fragment:sH,envmap_pars_fragment:oH,envmap_pars_vertex:aH,envmap_physical_pars_fragment:yH,envmap_vertex:lH,fog_vertex:cH,fog_pars_vertex:uH,fog_fragment:hH,fog_pars_fragment:fH,gradientmap_pars_fragment:dH,lightmap_fragment:pH,lightmap_pars_fragment:AH,lights_lambert_fragment:mH,lights_lambert_pars_fragment:gH,lights_pars_begin:vH,lights_toon_fragment:xH,lights_toon_pars_fragment:CH,lights_phong_fragment:EH,lights_phong_pars_fragment:SH,lights_physical_fragment:wH,lights_physical_pars_fragment:IH,lights_fragment_begin:_H,lights_fragment_maps:MH,lights_fragment_end:TH,logdepthbuf_fragment:BH,logdepthbuf_pars_fragment:bH,logdepthbuf_pars_vertex:RH,logdepthbuf_vertex:PH,map_fragment:DH,map_pars_fragment:LH,map_particle_fragment:FH,map_particle_pars_fragment:kH,metalnessmap_fragment:NH,metalnessmap_pars_fragment:OH,morphcolor_vertex:UH,morphnormal_vertex:GH,morphtarget_pars_vertex:QH,morphtarget_vertex:HH,normal_fragment_begin:zH,normal_fragment_maps:VH,normal_pars_fragment:WH,normal_pars_vertex:JH,normal_vertex:jH,normalmap_pars_fragment:KH,clearcoat_normal_fragment_begin:YH,clearcoat_normal_fragment_maps:XH,clearcoat_pars_fragment:qH,iridescence_pars_fragment:ZH,output_fragment:$H,packing:ez,premultiplied_alpha_fragment:tz,project_vertex:nz,dithering_fragment:iz,dithering_pars_fragment:rz,roughnessmap_fragment:sz,roughnessmap_pars_fragment:oz,shadowmap_pars_fragment:az,shadowmap_pars_vertex:lz,shadowmap_vertex:cz,shadowmask_pars_fragment:uz,skinbase_vertex:hz,skinning_pars_vertex:fz,skinning_vertex:dz,skinnormal_vertex:pz,specularmap_fragment:Az,specularmap_pars_fragment:mz,tonemapping_fragment:gz,tonemapping_pars_fragment:vz,transmission_fragment:yz,transmission_pars_fragment:xz,uv_pars_fragment:Cz,uv_pars_vertex:Ez,uv_vertex:Sz,uv2_pars_fragment:wz,uv2_pars_vertex:Iz,uv2_vertex:_z,worldpos_vertex:Mz,background_vert:Tz,background_frag:Bz,backgroundCube_vert:bz,backgroundCube_frag:Rz,cube_vert:Pz,cube_frag:Dz,depth_vert:Lz,depth_frag:Fz,distanceRGBA_vert:kz,distanceRGBA_frag:Nz,equirect_vert:Oz,equirect_frag:Uz,linedashed_vert:Gz,linedashed_frag:Qz,meshbasic_vert:Hz,meshbasic_frag:zz,meshlambert_vert:Vz,meshlambert_frag:Wz,meshmatcap_vert:Jz,meshmatcap_frag:jz,meshnormal_vert:Kz,meshnormal_frag:Yz,meshphong_vert:Xz,meshphong_frag:qz,meshphysical_vert:Zz,meshphysical_frag:$z,meshtoon_vert:eV,meshtoon_frag:tV,points_vert:nV,points_frag:iV,shadow_vert:rV,shadow_frag:sV,sprite_vert:oV,sprite_frag:aV},Qe={common:{diffuse:{value:new Re(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yi},uv2Transform:{value:new Yi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yi}},sprite:{diffuse:{value:new Re(16777215)},opacity:{value:1},center:{value:new le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Yi}}},Ns={basic:{uniforms:Ji([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.fog]),vertexShader:Tt.meshbasic_vert,fragmentShader:Tt.meshbasic_frag},lambert:{uniforms:Ji([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new Re(0)}}]),vertexShader:Tt.meshlambert_vert,fragmentShader:Tt.meshlambert_frag},phong:{uniforms:Ji([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:Tt.meshphong_vert,fragmentShader:Tt.meshphong_frag},standard:{uniforms:Ji([Qe.common,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.roughnessmap,Qe.metalnessmap,Qe.fog,Qe.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag},toon:{uniforms:Ji([Qe.common,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.gradientmap,Qe.fog,Qe.lights,{emissive:{value:new Re(0)}}]),vertexShader:Tt.meshtoon_vert,fragmentShader:Tt.meshtoon_frag},matcap:{uniforms:Ji([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,{matcap:{value:null}}]),vertexShader:Tt.meshmatcap_vert,fragmentShader:Tt.meshmatcap_frag},points:{uniforms:Ji([Qe.points,Qe.fog]),vertexShader:Tt.points_vert,fragmentShader:Tt.points_frag},dashed:{uniforms:Ji([Qe.common,Qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tt.linedashed_vert,fragmentShader:Tt.linedashed_frag},depth:{uniforms:Ji([Qe.common,Qe.displacementmap]),vertexShader:Tt.depth_vert,fragmentShader:Tt.depth_frag},normal:{uniforms:Ji([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,{opacity:{value:1}}]),vertexShader:Tt.meshnormal_vert,fragmentShader:Tt.meshnormal_frag},sprite:{uniforms:Ji([Qe.sprite,Qe.fog]),vertexShader:Tt.sprite_vert,fragmentShader:Tt.sprite_frag},background:{uniforms:{uvTransform:{value:new Yi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tt.background_vert,fragmentShader:Tt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Tt.backgroundCube_vert,fragmentShader:Tt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tt.cube_vert,fragmentShader:Tt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tt.equirect_vert,fragmentShader:Tt.equirect_frag},distanceRGBA:{uniforms:Ji([Qe.common,Qe.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tt.distanceRGBA_vert,fragmentShader:Tt.distanceRGBA_frag},shadow:{uniforms:Ji([Qe.lights,Qe.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:Tt.shadow_vert,fragmentShader:Tt.shadow_frag}};Ns.physical={uniforms:Ji([Ns.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new le(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Re(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Re(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Re(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tt.meshphysical_vert,fragmentShader:Tt.meshphysical_frag};const FA={r:0,b:0,g:0};function lV(t,e,n,i,r,s,o){const a=new Re(0);let l=s===!0?0:1,c,u,d=null,p=0,A=null;function m(v,C){let y=!1,x=C.isScene===!0?C.background:null;x&&x.isTexture&&(x=(C.backgroundBlurriness>0?n:e).get(x));const S=t.xr,I=S.getSession&&S.getSession();I&&I.environmentBlendMode==="additive"&&(x=null),x===null?g(a,l):x&&x.isColor&&(g(x,1),y=!0),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===mf)?(u===void 0&&(u=new $t(new _a(1,1,1),new Jt({name:"BackgroundCubeMaterial",uniforms:Zh(Ns.backgroundCube.uniforms),vertexShader:Ns.backgroundCube.vertexShader,fragmentShader:Ns.backgroundCube.fragmentShader,side:qi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,B,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=x.encoding!==cn,(d!==x||p!==x.version||A!==t.toneMapping)&&(u.material.needsUpdate=!0,d=x,p=x.version,A=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new $t(new du(2,2),new Jt({name:"BackgroundMaterial",uniforms:Zh(Ns.background.uniforms),vertexShader:Ns.background.vertexShader,fragmentShader:Ns.background.fragmentShader,side:Po,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,c.material.toneMapped=x.encoding!==cn,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||p!==x.version||A!==t.toneMapping)&&(c.material.needsUpdate=!0,d=x,p=x.version,A=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,C){v.getRGB(FA,xR(t)),i.buffers.color.setClear(FA.r,FA.g,FA.b,C,o)}return{getClearColor:function(){return a},setClearColor:function(v,C=1){a.set(v),l=C,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:m}}function cV(t,e,n,i){const r=t.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function d(U,J,Y,ee,k){let j=!1;if(o){const W=g(ee,Y,J);c!==W&&(c=W,A(c.object)),j=C(U,ee,Y,k),j&&y(U,ee,Y,k)}else{const W=J.wireframe===!0;(c.geometry!==ee.id||c.program!==Y.id||c.wireframe!==W)&&(c.geometry=ee.id,c.program=Y.id,c.wireframe=W,j=!0)}k!==null&&n.update(k,34963),(j||u)&&(u=!1,_(U,J,Y,ee),k!==null&&t.bindBuffer(34963,n.get(k).buffer))}function p(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function A(U){return i.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function m(U){return i.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function g(U,J,Y){const ee=Y.wireframe===!0;let k=a[U.id];k===void 0&&(k={},a[U.id]=k);let j=k[J.id];j===void 0&&(j={},k[J.id]=j);let W=j[ee];return W===void 0&&(W=v(p()),j[ee]=W),W}function v(U){const J=[],Y=[],ee=[];for(let k=0;k<r;k++)J[k]=0,Y[k]=0,ee[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:Y,attributeDivisors:ee,object:U,attributes:{},index:null}}function C(U,J,Y,ee){const k=c.attributes,j=J.attributes;let W=0;const $=Y.getAttributes();for(const z in $)if($[z].location>=0){const pe=k[z];let ye=j[z];if(ye===void 0&&(z==="instanceMatrix"&&U.instanceMatrix&&(ye=U.instanceMatrix),z==="instanceColor"&&U.instanceColor&&(ye=U.instanceColor)),pe===void 0||pe.attribute!==ye||ye&&pe.data!==ye.data)return!0;W++}return c.attributesNum!==W||c.index!==ee}function y(U,J,Y,ee){const k={},j=J.attributes;let W=0;const $=Y.getAttributes();for(const z in $)if($[z].location>=0){let pe=j[z];pe===void 0&&(z==="instanceMatrix"&&U.instanceMatrix&&(pe=U.instanceMatrix),z==="instanceColor"&&U.instanceColor&&(pe=U.instanceColor));const ye={};ye.attribute=pe,pe&&pe.data&&(ye.data=pe.data),k[z]=ye,W++}c.attributes=k,c.attributesNum=W,c.index=ee}function x(){const U=c.newAttributes;for(let J=0,Y=U.length;J<Y;J++)U[J]=0}function S(U){I(U,0)}function I(U,J){const Y=c.newAttributes,ee=c.enabledAttributes,k=c.attributeDivisors;Y[U]=1,ee[U]===0&&(t.enableVertexAttribArray(U),ee[U]=1),k[U]!==J&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,J),k[U]=J)}function T(){const U=c.newAttributes,J=c.enabledAttributes;for(let Y=0,ee=J.length;Y<ee;Y++)J[Y]!==U[Y]&&(t.disableVertexAttribArray(Y),J[Y]=0)}function B(U,J,Y,ee,k,j){i.isWebGL2===!0&&(Y===5124||Y===5125)?t.vertexAttribIPointer(U,J,Y,k,j):t.vertexAttribPointer(U,J,Y,ee,k,j)}function _(U,J,Y,ee){if(i.isWebGL2===!1&&(U.isInstancedMesh||ee.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const k=ee.attributes,j=Y.getAttributes(),W=J.defaultAttributeValues;for(const $ in j){const z=j[$];if(z.location>=0){let ne=k[$];if(ne===void 0&&($==="instanceMatrix"&&U.instanceMatrix&&(ne=U.instanceMatrix),$==="instanceColor"&&U.instanceColor&&(ne=U.instanceColor)),ne!==void 0){const pe=ne.normalized,ye=ne.itemSize,q=n.get(ne);if(q===void 0)continue;const Te=q.buffer,Pe=q.type,Le=q.bytesPerElement;if(ne.isInterleavedBufferAttribute){const Ee=ne.data,Be=Ee.stride,ce=ne.offset;if(Ee.isInstancedInterleavedBuffer){for(let oe=0;oe<z.locationSize;oe++)I(z.location+oe,Ee.meshPerAttribute);U.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let oe=0;oe<z.locationSize;oe++)S(z.location+oe);t.bindBuffer(34962,Te);for(let oe=0;oe<z.locationSize;oe++)B(z.location+oe,ye/z.locationSize,Pe,pe,Be*Le,(ce+ye/z.locationSize*oe)*Le)}else{if(ne.isInstancedBufferAttribute){for(let Ee=0;Ee<z.locationSize;Ee++)I(z.location+Ee,ne.meshPerAttribute);U.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Ee=0;Ee<z.locationSize;Ee++)S(z.location+Ee);t.bindBuffer(34962,Te);for(let Ee=0;Ee<z.locationSize;Ee++)B(z.location+Ee,ye/z.locationSize,Pe,pe,ye*Le,ye/z.locationSize*Ee*Le)}}else if(W!==void 0){const pe=W[$];if(pe!==void 0)switch(pe.length){case 2:t.vertexAttrib2fv(z.location,pe);break;case 3:t.vertexAttrib3fv(z.location,pe);break;case 4:t.vertexAttrib4fv(z.location,pe);break;default:t.vertexAttrib1fv(z.location,pe)}}}}T()}function R(){H();for(const U in a){const J=a[U];for(const Y in J){const ee=J[Y];for(const k in ee)m(ee[k].object),delete ee[k];delete J[Y]}delete a[U]}}function P(U){if(a[U.id]===void 0)return;const J=a[U.id];for(const Y in J){const ee=J[Y];for(const k in ee)m(ee[k].object),delete ee[k];delete J[Y]}delete a[U.id]}function L(U){for(const J in a){const Y=a[J];if(Y[U.id]===void 0)continue;const ee=Y[U.id];for(const k in ee)m(ee[k].object),delete ee[k];delete Y[U.id]}}function H(){N(),u=!0,c!==l&&(c=l,A(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:H,resetDefaultState:N,dispose:R,releaseStatesOfGeometry:P,releaseStatesOfProgram:L,initAttributes:x,enableAttribute:S,disableUnusedAttributes:T}}function uV(t,e,n,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,A;if(r)p=t,A="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[A](s,c,u,d),n.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function hV(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(B){if(B==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),p=t.getParameter(35660),A=t.getParameter(3379),m=t.getParameter(34076),g=t.getParameter(34921),v=t.getParameter(36347),C=t.getParameter(36348),y=t.getParameter(36349),x=p>0,S=o||e.has("OES_texture_float"),I=x&&S,T=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:A,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:v,maxVaryings:C,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:S,floatVertexTextures:I,maxSamples:T}}function fV(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new ls,a=new Yi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const A=d.length!==0||p||i!==0||r;return r=p,i=d.length,A},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=u(d,p,0)},this.setState=function(d,p,A){const m=d.clippingPlanes,g=d.clipIntersection,v=d.clipShadows,C=t.get(d);if(!r||m===null||m.length===0||s&&!v)s?u(null):c();else{const y=s?0:i,x=y*4;let S=C.clippingState||null;l.value=S,S=u(m,p,x,A);for(let I=0;I!==x;++I)S[I]=n[I];C.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,p,A,m){const g=d!==null?d.length:0;let v=null;if(g!==0){if(v=l.value,m!==!0||v===null){const C=A+g*4,y=p.matrixWorldInverse;a.getNormalMatrix(y),(v===null||v.length<C)&&(v=new Float32Array(C));for(let x=0,S=A;x!==g;++x,S+=4)o.copy(d[x]).applyMatrix4(y,a),o.normal.toArray(v,S),v[S+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function dV(t){let e=new WeakMap;function n(o,a){return a===Dp?o.mapping=Il:a===Lp&&(o.mapping=_l),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Dp||a===Lp)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Ix(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class fs extends g0{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const xh=4,xS=[.125,.215,.35,.446,.526,.582],Bc=20,Bv=new fs,CS=new Re;let bv=null;const Ec=(1+Math.sqrt(5))/2,Xu=1/Ec,ES=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Ec,Xu),new D(0,Ec,-Xu),new D(Xu,0,Ec),new D(-Xu,0,Ec),new D(Ec,Xu,0),new D(-Ec,Xu,0)];class a8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){bv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=IS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(bv),e.scissorTest=!1,kA(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Il||e.mapping===_l?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),bv=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:sn,minFilter:sn,generateMipmaps:!1,type:Wn,format:Nn,encoding:Tl,depthBuffer:!1},r=SS(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SS(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=pV(s)),this._blurMaterial=AV(s,e,n)}return r}_compileMaterial(e){const n=new $t(this._lodPlanes[0],e);this._renderer.compile(n,Bv)}_sceneToCubeUV(e,n,i,r){const a=new on(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(CS),u.toneMapping=br,u.autoClear=!1;const A=new Si({name:"PMREM.Background",side:qi,depthWrite:!1,depthTest:!1}),m=new $t(new _a,A);let g=!1;const v=e.background;v?v.isColor&&(A.color.copy(v),e.background=null,g=!0):(A.color.copy(CS),g=!0);for(let C=0;C<6;C++){const y=C%3;y===0?(a.up.set(0,l[C],0),a.lookAt(c[C],0,0)):y===1?(a.up.set(0,0,l[C]),a.lookAt(0,c[C],0)):(a.up.set(0,l[C],0),a.lookAt(0,0,c[C]));const x=this._cubeSize;kA(r,y*x,C>2?x:0,x,x),u.setRenderTarget(r),g&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Il||e.mapping===_l;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=IS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wS());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new $t(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kA(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,Bv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ES[(r-1)%ES.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new $t(this._lodPlanes[r],c),p=c.uniforms,A=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*A):2*Math.PI/(2*Bc-1),g=s/m,v=isFinite(s)?1+Math.floor(u*g):Bc;v>Bc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Bc}`);const C=[];let y=0;for(let B=0;B<Bc;++B){const _=B/g,R=Math.exp(-_*_/2);C.push(R),B===0?y+=R:B<v&&(y+=2*R)}for(let B=0;B<C.length;B++)C[B]=C[B]/y;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=C,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:x}=this;p.dTheta.value=m,p.mipInt.value=x-i;const S=this._sizeLods[r],I=3*S*(r>x-xh?r-x+xh:0),T=4*(this._cubeSize-S);kA(n,I,T,3*S,2*S),l.setRenderTarget(n),l.render(d,Bv)}}function pV(t){const e=[],n=[],i=[];let r=t;const s=t-xh+1+xS.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-xh?l=xS[o-t+xh-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],A=6,m=6,g=3,v=2,C=1,y=new Float32Array(g*m*A),x=new Float32Array(v*m*A),S=new Float32Array(C*m*A);for(let T=0;T<A;T++){const B=T%3*2/3-1,_=T>2?0:-1,R=[B,_,0,B+2/3,_,0,B+2/3,_+1,0,B,_,0,B+2/3,_+1,0,B,_+1,0];y.set(R,g*m*T),x.set(p,v*m*T);const P=[T,T,T,T,T,T];S.set(P,C*m*T)}const I=new gt;I.setAttribute("position",new qt(y,g)),I.setAttribute("uv",new qt(x,v)),I.setAttribute("faceIndex",new qt(S,C)),e.push(I),r>xh&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function SS(t,e,n){const i=new an(t,e,n);return i.texture.mapping=mf,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function kA(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function AV(t,e,n){const i=new Float32Array(Bc),r=new D(0,1,0);return new Jt({name:"SphericalGaussianBlur",defines:{n:Bc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:_x(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Dt,depthTest:!1,depthWrite:!1})}function wS(){return new Jt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_x(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Dt,depthTest:!1,depthWrite:!1})}function IS(){return new Jt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_x(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Dt,depthTest:!1,depthWrite:!1})}function _x(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mV(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Dp||l===Lp,u=l===Il||l===_l;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new a8(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&r(d)){n===null&&(n=new a8(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function gV(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function vV(t,e,n,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const m in p.attributes)e.remove(p.attributes[m]);p.removeEventListener("dispose",o),delete r[p.id];const A=s.get(p);A&&(e.remove(A),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const m in p)e.update(p[m],34962);const A=d.morphAttributes;for(const m in A){const g=A[m];for(let v=0,C=g.length;v<C;v++)e.update(g[v],34962)}}function c(d){const p=[],A=d.index,m=d.attributes.position;let g=0;if(A!==null){const y=A.array;g=A.version;for(let x=0,S=y.length;x<S;x+=3){const I=y[x+0],T=y[x+1],B=y[x+2];p.push(I,T,T,B,B,I)}}else{const y=m.array;g=m.version;for(let x=0,S=y.length/3-1;x<S;x+=3){const I=x+0,T=x+1,B=x+2;p.push(I,T,T,B,B,I)}}const v=new(vR(p)?L2:Sx)(p,1);v.version=g;const C=s.get(d);C&&e.remove(C),s.set(d,v)}function u(d){const p=s.get(d);if(p){const A=d.index;A!==null&&p.version<A.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function yV(t,e,n,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,A){t.drawElements(s,A,a,p*l),n.update(A,s,1)}function d(p,A,m){if(m===0)return;let g,v;if(r)g=t,v="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,A,a,p*l,m),n.update(A,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function xV(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function CV(t,e){return t[0]-e[0]}function EV(t,e){return Math.abs(e[1])-Math.abs(t[1])}function SV(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new Gt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){const A=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let C=s.get(u);if(C===void 0||C.count!==v){let Y=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",Y)};var m=Y;C!==void 0&&C.texture.dispose();const S=u.morphAttributes.position!==void 0,I=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,B=u.morphAttributes.position||[],_=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let P=0;S===!0&&(P=1),I===!0&&(P=2),T===!0&&(P=3);let L=u.attributes.position.count*P,H=1;L>e.maxTextureSize&&(H=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const N=new Float32Array(L*H*4*v),U=new D2(N,L,H,v);U.type=ur,U.needsUpdate=!0;const J=P*4;for(let ee=0;ee<v;ee++){const k=B[ee],j=_[ee],W=R[ee],$=L*H*4*ee;for(let z=0;z<k.count;z++){const ne=z*J;S===!0&&(o.fromBufferAttribute(k,z),N[$+ne+0]=o.x,N[$+ne+1]=o.y,N[$+ne+2]=o.z,N[$+ne+3]=0),I===!0&&(o.fromBufferAttribute(j,z),N[$+ne+4]=o.x,N[$+ne+5]=o.y,N[$+ne+6]=o.z,N[$+ne+7]=0),T===!0&&(o.fromBufferAttribute(W,z),N[$+ne+8]=o.x,N[$+ne+9]=o.y,N[$+ne+10]=o.z,N[$+ne+11]=W.itemSize===4?o.w:1)}}C={count:v,texture:U,size:new le(L,H)},s.set(u,C),u.addEventListener("dispose",Y)}let y=0;for(let S=0;S<A.length;S++)y+=A[S];const x=u.morphTargetsRelative?1:1-y;p.getUniforms().setValue(t,"morphTargetBaseInfluence",x),p.getUniforms().setValue(t,"morphTargetInfluences",A),p.getUniforms().setValue(t,"morphTargetsTexture",C.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",C.size)}else{const g=A===void 0?0:A.length;let v=i[u.id];if(v===void 0||v.length!==g){v=[];for(let I=0;I<g;I++)v[I]=[I,0];i[u.id]=v}for(let I=0;I<g;I++){const T=v[I];T[0]=I,T[1]=A[I]}v.sort(EV);for(let I=0;I<8;I++)I<g&&v[I][1]?(a[I][0]=v[I][0],a[I][1]=v[I][1]):(a[I][0]=Number.MAX_SAFE_INTEGER,a[I][1]=0);a.sort(CV);const C=u.morphAttributes.position,y=u.morphAttributes.normal;let x=0;for(let I=0;I<8;I++){const T=a[I],B=T[0],_=T[1];B!==Number.MAX_SAFE_INTEGER&&_?(C&&u.getAttribute("morphTarget"+I)!==C[B]&&u.setAttribute("morphTarget"+I,C[B]),y&&u.getAttribute("morphNormal"+I)!==y[B]&&u.setAttribute("morphNormal"+I,y[B]),r[I]=_,x+=_):(C&&u.hasAttribute("morphTarget"+I)===!0&&u.deleteAttribute("morphTarget"+I),y&&u.hasAttribute("morphNormal"+I)===!0&&u.deleteAttribute("morphNormal"+I),r[I]=0)}const S=u.morphTargetsRelative?1:1-x;p.getUniforms().setValue(t,"morphTargetBaseInfluence",S),p.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function wV(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);return r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const ER=new gn,SR=new D2,wR=new Ex,IR=new v0,_S=[],MS=[],TS=new Float32Array(16),BS=new Float32Array(9),bS=new Float32Array(4);function vf(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=_S[r];if(s===void 0&&(s=new Float32Array(r),_S[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ai(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function li(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function k2(t,e){let n=MS[e];n===void 0&&(n=new Int32Array(e),MS[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function IV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function _V(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2fv(this.addr,e),li(n,e)}}function MV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ai(n,e))return;t.uniform3fv(this.addr,e),li(n,e)}}function TV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4fv(this.addr,e),li(n,e)}}function BV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ai(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),li(n,e)}else{if(ai(n,i))return;bS.set(i),t.uniformMatrix2fv(this.addr,!1,bS),li(n,i)}}function bV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ai(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),li(n,e)}else{if(ai(n,i))return;BS.set(i),t.uniformMatrix3fv(this.addr,!1,BS),li(n,i)}}function RV(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(ai(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),li(n,e)}else{if(ai(n,i))return;TS.set(i),t.uniformMatrix4fv(this.addr,!1,TS),li(n,i)}}function PV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function DV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2iv(this.addr,e),li(n,e)}}function LV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ai(n,e))return;t.uniform3iv(this.addr,e),li(n,e)}}function FV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4iv(this.addr,e),li(n,e)}}function kV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function NV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ai(n,e))return;t.uniform2uiv(this.addr,e),li(n,e)}}function OV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ai(n,e))return;t.uniform3uiv(this.addr,e),li(n,e)}}function UV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ai(n,e))return;t.uniform4uiv(this.addr,e),li(n,e)}}function GV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||ER,r)}function QV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||wR,r)}function HV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||IR,r)}function zV(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||SR,r)}function VV(t){switch(t){case 5126:return IV;case 35664:return _V;case 35665:return MV;case 35666:return TV;case 35674:return BV;case 35675:return bV;case 35676:return RV;case 5124:case 35670:return PV;case 35667:case 35671:return DV;case 35668:case 35672:return LV;case 35669:case 35673:return FV;case 5125:return kV;case 36294:return NV;case 36295:return OV;case 36296:return UV;case 35678:case 36198:case 36298:case 36306:case 35682:return GV;case 35679:case 36299:case 36307:return QV;case 35680:case 36300:case 36308:case 36293:return HV;case 36289:case 36303:case 36311:case 36292:return zV}}function WV(t,e){t.uniform1fv(this.addr,e)}function JV(t,e){const n=vf(e,this.size,2);t.uniform2fv(this.addr,n)}function jV(t,e){const n=vf(e,this.size,3);t.uniform3fv(this.addr,n)}function KV(t,e){const n=vf(e,this.size,4);t.uniform4fv(this.addr,n)}function YV(t,e){const n=vf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function XV(t,e){const n=vf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function qV(t,e){const n=vf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ZV(t,e){t.uniform1iv(this.addr,e)}function $V(t,e){t.uniform2iv(this.addr,e)}function eW(t,e){t.uniform3iv(this.addr,e)}function tW(t,e){t.uniform4iv(this.addr,e)}function nW(t,e){t.uniform1uiv(this.addr,e)}function iW(t,e){t.uniform2uiv(this.addr,e)}function rW(t,e){t.uniform3uiv(this.addr,e)}function sW(t,e){t.uniform4uiv(this.addr,e)}function oW(t,e,n){const i=this.cache,r=e.length,s=k2(n,r);ai(i,s)||(t.uniform1iv(this.addr,s),li(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||ER,s[o])}function aW(t,e,n){const i=this.cache,r=e.length,s=k2(n,r);ai(i,s)||(t.uniform1iv(this.addr,s),li(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||wR,s[o])}function lW(t,e,n){const i=this.cache,r=e.length,s=k2(n,r);ai(i,s)||(t.uniform1iv(this.addr,s),li(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||IR,s[o])}function cW(t,e,n){const i=this.cache,r=e.length,s=k2(n,r);ai(i,s)||(t.uniform1iv(this.addr,s),li(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||SR,s[o])}function uW(t){switch(t){case 5126:return WV;case 35664:return JV;case 35665:return jV;case 35666:return KV;case 35674:return YV;case 35675:return XV;case 35676:return qV;case 5124:case 35670:return ZV;case 35667:case 35671:return $V;case 35668:case 35672:return eW;case 35669:case 35673:return tW;case 5125:return nW;case 36294:return iW;case 36295:return rW;case 36296:return sW;case 35678:case 36198:case 36298:case 36306:case 35682:return oW;case 35679:case 36299:case 36307:return aW;case 35680:case 36300:case 36308:case 36293:return lW;case 36289:case 36303:case 36311:case 36292:return cW}}class hW{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=VV(n.type)}}class fW{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=uW(n.type)}}class dW{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const Rv=/(\w+)(\])?(\[|\.)?/g;function RS(t,e){t.seq.push(e),t.map[e.id]=e}function pW(t,e,n){const i=t.name,r=i.length;for(Rv.lastIndex=0;;){const s=Rv.exec(i),o=Rv.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){RS(n,c===void 0?new hW(a,t,e):new fW(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new dW(a),RS(n,d)),n=d}}}class Vm{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);pW(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function PS(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let AW=0;function mW(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function gW(t){switch(t){case Tl:return["Linear","( value )"];case cn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function DS(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+mW(t.getShaderSource(e),o)}else return r}function vW(t,e){const n=gW(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function yW(t,e){let n;switch(e){case Yb:n="Linear";break;case Xb:n="Reinhard";break;case qb:n="OptimizedCineon";break;case Ax:n="ACESFilmic";break;case Zb:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function xW(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ld).join(`
`)}function CW(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function EW(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ld(t){return t!==""}function LS(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function FS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const SW=/^[ \t]*#include +<([\w\d./]+)>/gm;function l8(t){return t.replace(SW,wW)}function wW(t,e){const n=Tt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return l8(n)}const IW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kS(t){return t.replace(IW,_W)}function _W(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function NS(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function MW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===_2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Xd?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Fc&&(e="SHADOWMAP_TYPE_VSM"),e}function TW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Il:case _l:e="ENVMAP_TYPE_CUBE";break;case mf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case _l:e="ENVMAP_MODE_REFRACTION";break}return e}function bW(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case A0:e="ENVMAP_BLENDING_MULTIPLY";break;case jb:e="ENVMAP_BLENDING_MIX";break;case Kb:e="ENVMAP_BLENDING_ADD";break}return e}function RW(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function PW(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=MW(n),c=TW(n),u=BW(n),d=bW(n),p=RW(n),A=n.isWebGL2?"":xW(n),m=CW(s),g=r.createProgram();let v,C,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[m].filter(Ld).join(`
`),v.length>0&&(v+=`
`),C=[A,m].filter(Ld).join(`
`),C.length>0&&(C+=`
`)):(v=[NS(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ld).join(`
`),C=[A,NS(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==br?"#define TONE_MAPPING":"",n.toneMapping!==br?Tt.tonemapping_pars_fragment:"",n.toneMapping!==br?yW("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Tt.encodings_pars_fragment,vW("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ld).join(`
`)),o=l8(o),o=LS(o,n),o=FS(o,n),a=l8(a),a=LS(a,n),a=FS(a,n),o=kS(o),a=kS(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,C=["#define varying in",n.glslVersion===s8?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===s8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+C);const x=y+v+o,S=y+C+a,I=PS(r,35633,x),T=PS(r,35632,S);if(r.attachShader(g,I),r.attachShader(g,T),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),t.debug.checkShaderErrors){const R=r.getProgramInfoLog(g).trim(),P=r.getShaderInfoLog(I).trim(),L=r.getShaderInfoLog(T).trim();let H=!0,N=!0;if(r.getProgramParameter(g,35714)===!1){H=!1;const U=DS(r,I,"vertex"),J=DS(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+R+`
`+U+`
`+J)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(P===""||L==="")&&(N=!1);N&&(this.diagnostics={runnable:H,programLog:R,vertexShader:{log:P,prefix:v},fragmentShader:{log:L,prefix:C}})}r.deleteShader(I),r.deleteShader(T);let B;this.getUniforms=function(){return B===void 0&&(B=new Vm(r,g)),B};let _;return this.getAttributes=function(){return _===void 0&&(_=EW(r,g)),_},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=AW++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=I,this.fragmentShader=T,this}let DW=0;class LW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new FW(e),n.set(e,i)),i}}class FW{constructor(e){this.id=DW++,this.code=e,this.usedTimes=0}}function kW(t,e,n,i,r,s,o){const a=new Yc,l=new LW,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let A=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(_,R,P,L,H){const N=L.fog,U=H.geometry,J=_.isMeshStandardMaterial?L.environment:null,Y=(_.isMeshStandardMaterial?n:e).get(_.envMap||J),ee=Y&&Y.mapping===mf?Y.image.height:null,k=m[_.type];_.precision!==null&&(A=r.getMaxPrecision(_.precision),A!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",A,"instead."));const j=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,W=j!==void 0?j.length:0;let $=0;U.morphAttributes.position!==void 0&&($=1),U.morphAttributes.normal!==void 0&&($=2),U.morphAttributes.color!==void 0&&($=3);let z,ne,pe,ye;if(k){const Be=Ns[k];z=Be.vertexShader,ne=Be.fragmentShader}else z=_.vertexShader,ne=_.fragmentShader,l.update(_),pe=l.getVertexShaderID(_),ye=l.getFragmentShaderID(_);const q=t.getRenderTarget(),Te=_.alphaTest>0,Pe=_.clearcoat>0,Le=_.iridescence>0;return{isWebGL2:u,shaderID:k,shaderName:_.type,vertexShader:z,fragmentShader:ne,defines:_.defines,customVertexShaderID:pe,customFragmentShaderID:ye,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:A,instancing:H.isInstancedMesh===!0,instancingColor:H.isInstancedMesh===!0&&H.instanceColor!==null,supportsVertexTextures:p,outputEncoding:q===null?t.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:Tl,map:!!_.map,matcap:!!_.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUVHeight:ee,lightMap:!!_.lightMap,aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,objectSpaceNormalMap:_.normalMapType===AR,tangentSpaceNormalMap:_.normalMapType===Gl,decodeVideoTexture:!!_.map&&_.map.isVideoTexture===!0&&_.map.encoding===cn,clearcoat:Pe,clearcoatMap:Pe&&!!_.clearcoatMap,clearcoatRoughnessMap:Pe&&!!_.clearcoatRoughnessMap,clearcoatNormalMap:Pe&&!!_.clearcoatNormalMap,iridescence:Le,iridescenceMap:Le&&!!_.iridescenceMap,iridescenceThicknessMap:Le&&!!_.iridescenceThicknessMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,specularIntensityMap:!!_.specularIntensityMap,specularColorMap:!!_.specularColorMap,opaque:_.transparent===!1&&_.blending===So,alphaMap:!!_.alphaMap,alphaTest:Te,gradientMap:!!_.gradientMap,sheen:_.sheen>0,sheenColorMap:!!_.sheenColorMap,sheenRoughnessMap:!!_.sheenRoughnessMap,transmission:_.transmission>0,transmissionMap:!!_.transmissionMap,thicknessMap:!!_.thicknessMap,combine:_.combine,vertexTangents:!!_.normalMap&&!!U.attributes.tangent,vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!_.map||!!_.bumpMap||!!_.normalMap||!!_.specularMap||!!_.alphaMap||!!_.emissiveMap||!!_.roughnessMap||!!_.metalnessMap||!!_.clearcoatMap||!!_.clearcoatRoughnessMap||!!_.clearcoatNormalMap||!!_.iridescenceMap||!!_.iridescenceThicknessMap||!!_.displacementMap||!!_.transmissionMap||!!_.thicknessMap||!!_.specularIntensityMap||!!_.specularColorMap||!!_.sheenColorMap||!!_.sheenRoughnessMap,uvsVertexOnly:!(_.map||_.bumpMap||_.normalMap||_.specularMap||_.alphaMap||_.emissiveMap||_.roughnessMap||_.metalnessMap||_.clearcoatNormalMap||_.iridescenceMap||_.iridescenceThicknessMap||_.transmission>0||_.transmissionMap||_.thicknessMap||_.specularIntensityMap||_.specularColorMap||_.sheen>0||_.sheenColorMap||_.sheenRoughnessMap)&&!!_.displacementMap,fog:!!N,useFog:_.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:d,skinning:H.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:$,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:_.toneMapped?t.toneMapping:br,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===Os,flipSided:_.side===qi,useDepthPacking:!!_.depthPacking,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionDerivatives:_.extensions&&_.extensions.derivatives,extensionFragDepth:_.extensions&&_.extensions.fragDepth,extensionDrawBuffers:_.extensions&&_.extensions.drawBuffers,extensionShaderTextureLOD:_.extensions&&_.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:_.customProgramCacheKey()}}function v(_){const R=[];if(_.shaderID?R.push(_.shaderID):(R.push(_.customVertexShaderID),R.push(_.customFragmentShaderID)),_.defines!==void 0)for(const P in _.defines)R.push(P),R.push(_.defines[P]);return _.isRawShaderMaterial===!1&&(C(R,_),y(R,_),R.push(t.outputEncoding)),R.push(_.customProgramCacheKey),R.join()}function C(_,R){_.push(R.precision),_.push(R.outputEncoding),_.push(R.envMapMode),_.push(R.envMapCubeUVHeight),_.push(R.combine),_.push(R.vertexUvs),_.push(R.fogExp2),_.push(R.sizeAttenuation),_.push(R.morphTargetsCount),_.push(R.morphAttributeCount),_.push(R.numDirLights),_.push(R.numPointLights),_.push(R.numSpotLights),_.push(R.numSpotLightMaps),_.push(R.numHemiLights),_.push(R.numRectAreaLights),_.push(R.numDirLightShadows),_.push(R.numPointLightShadows),_.push(R.numSpotLightShadows),_.push(R.numSpotLightShadowsWithMaps),_.push(R.shadowMapType),_.push(R.toneMapping),_.push(R.numClippingPlanes),_.push(R.numClipIntersection),_.push(R.depthPacking)}function y(_,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),_.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),_.push(a.mask)}function x(_){const R=m[_.type];let P;if(R){const L=Ns[R];P=In.clone(L.uniforms)}else P=_.uniforms;return P}function S(_,R){let P;for(let L=0,H=c.length;L<H;L++){const N=c[L];if(N.cacheKey===R){P=N,++P.usedTimes;break}}return P===void 0&&(P=new PW(t,R,_,s),c.push(P)),P}function I(_){if(--_.usedTimes===0){const R=c.indexOf(_);c[R]=c[c.length-1],c.pop(),_.destroy()}}function T(_){l.remove(_)}function B(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:x,acquireProgram:S,releaseProgram:I,releaseShaderCache:T,programs:c,dispose:B}}function NW(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function OW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function OS(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function US(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,p,A,m,g,v){let C=t[e];return C===void 0?(C={id:d.id,object:d,geometry:p,material:A,groupOrder:m,renderOrder:d.renderOrder,z:g,group:v},t[e]=C):(C.id=d.id,C.object=d,C.geometry=p,C.material=A,C.groupOrder=m,C.renderOrder=d.renderOrder,C.z=g,C.group=v),e++,C}function a(d,p,A,m,g,v){const C=o(d,p,A,m,g,v);A.transmission>0?i.push(C):A.transparent===!0?r.push(C):n.push(C)}function l(d,p,A,m,g,v){const C=o(d,p,A,m,g,v);A.transmission>0?i.unshift(C):A.transparent===!0?r.unshift(C):n.unshift(C)}function c(d,p){n.length>1&&n.sort(d||OW),i.length>1&&i.sort(p||OS),r.length>1&&r.sort(p||OS)}function u(){for(let d=e,p=t.length;d<p;d++){const A=t[d];if(A.id===null)break;A.id=null,A.object=null,A.geometry=null,A.material=null,A.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function UW(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new US,t.set(i,[o])):r>=s.length?(o=new US,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function GW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new D,color:new Re};break;case"SpotLight":n={position:new D,direction:new D,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new D,color:new Re,distance:0,decay:0};break;case"HemisphereLight":n={direction:new D,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":n={color:new Re,position:new D,halfWidth:new D,halfHeight:new D};break}return t[e.id]=n,n}}}function QW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let HW=0;function zW(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function VW(t,e){const n=new GW,i=QW(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new D);const s=new D,o=new Ke,a=new Ke;function l(u,d){let p=0,A=0,m=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,v=0,C=0,y=0,x=0,S=0,I=0,T=0,B=0,_=0;u.sort(zW);const R=d!==!0?Math.PI:1;for(let L=0,H=u.length;L<H;L++){const N=u[L],U=N.color,J=N.intensity,Y=N.distance,ee=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)p+=U.r*J*R,A+=U.g*J*R,m+=U.b*J*R;else if(N.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(N.sh.coefficients[k],J);else if(N.isDirectionalLight){const k=n.get(N);if(k.color.copy(N.color).multiplyScalar(N.intensity*R),N.castShadow){const j=N.shadow,W=i.get(N);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,r.directionalShadow[g]=W,r.directionalShadowMap[g]=ee,r.directionalShadowMatrix[g]=N.shadow.matrix,S++}r.directional[g]=k,g++}else if(N.isSpotLight){const k=n.get(N);k.position.setFromMatrixPosition(N.matrixWorld),k.color.copy(U).multiplyScalar(J*R),k.distance=Y,k.coneCos=Math.cos(N.angle),k.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),k.decay=N.decay,r.spot[C]=k;const j=N.shadow;if(N.map&&(r.spotLightMap[B]=N.map,B++,j.updateMatrices(N),N.castShadow&&_++),r.spotLightMatrix[C]=j.matrix,N.castShadow){const W=i.get(N);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,r.spotShadow[C]=W,r.spotShadowMap[C]=ee,T++}C++}else if(N.isRectAreaLight){const k=n.get(N);k.color.copy(U).multiplyScalar(J),k.halfWidth.set(N.width*.5,0,0),k.halfHeight.set(0,N.height*.5,0),r.rectArea[y]=k,y++}else if(N.isPointLight){const k=n.get(N);if(k.color.copy(N.color).multiplyScalar(N.intensity*R),k.distance=N.distance,k.decay=N.decay,N.castShadow){const j=N.shadow,W=i.get(N);W.shadowBias=j.bias,W.shadowNormalBias=j.normalBias,W.shadowRadius=j.radius,W.shadowMapSize=j.mapSize,W.shadowCameraNear=j.camera.near,W.shadowCameraFar=j.camera.far,r.pointShadow[v]=W,r.pointShadowMap[v]=ee,r.pointShadowMatrix[v]=N.shadow.matrix,I++}r.point[v]=k,v++}else if(N.isHemisphereLight){const k=n.get(N);k.skyColor.copy(N.color).multiplyScalar(J*R),k.groundColor.copy(N.groundColor).multiplyScalar(J*R),r.hemi[x]=k,x++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_FLOAT_1,r.rectAreaLTC2=Qe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Qe.LTC_HALF_1,r.rectAreaLTC2=Qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=A,r.ambient[2]=m;const P=r.hash;(P.directionalLength!==g||P.pointLength!==v||P.spotLength!==C||P.rectAreaLength!==y||P.hemiLength!==x||P.numDirectionalShadows!==S||P.numPointShadows!==I||P.numSpotShadows!==T||P.numSpotMaps!==B)&&(r.directional.length=g,r.spot.length=C,r.rectArea.length=y,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=I,r.pointShadowMap.length=I,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=I,r.spotLightMatrix.length=T+B-_,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=_,P.directionalLength=g,P.pointLength=v,P.spotLength=C,P.rectAreaLength=y,P.hemiLength=x,P.numDirectionalShadows=S,P.numPointShadows=I,P.numSpotShadows=T,P.numSpotMaps=B,r.version=HW++)}function c(u,d){let p=0,A=0,m=0,g=0,v=0;const C=d.matrixWorldInverse;for(let y=0,x=u.length;y<x;y++){const S=u[y];if(S.isDirectionalLight){const I=r.directional[p];I.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),p++}else if(S.isSpotLight){const I=r.spot[m];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),I.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(C),m++}else if(S.isRectAreaLight){const I=r.rectArea[g];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),a.identity(),o.copy(S.matrixWorld),o.premultiply(C),a.extractRotation(o),I.halfWidth.set(S.width*.5,0,0),I.halfHeight.set(0,S.height*.5,0),I.halfWidth.applyMatrix4(a),I.halfHeight.applyMatrix4(a),g++}else if(S.isPointLight){const I=r.point[A];I.position.setFromMatrixPosition(S.matrixWorld),I.position.applyMatrix4(C),A++}else if(S.isHemisphereLight){const I=r.hemi[v];I.direction.setFromMatrixPosition(S.matrixWorld),I.direction.transformDirection(C),v++}}}return{setup:l,setupView:c,state:r}}function GS(t,e){const n=new VW(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function c(d){n.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function WW(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new GS(t,e),n.set(s,[l])):o>=a.length?(l=new GS(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class N2 extends qn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Mx extends qn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const JW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,jW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function KW(t,e,n){let i=new F2;const r=new le,s=new le,o=new Gt,a=new N2({depthPacking:yx}),l=new Mx,c={},u=n.maxTextureSize,d={[Po]:qi,[qi]:Po,[Os]:Os},p=new Jt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new le},radius:{value:4}},vertexShader:JW,fragmentShader:jW}),A=p.clone();A.defines.HORIZONTAL_PASS=1;const m=new gt;m.setAttribute("position",new qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new $t(m,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_2,this.render=function(S,I,T){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||S.length===0)return;const B=t.getRenderTarget(),_=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),P=t.state;P.setBlending(Dt),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);for(let L=0,H=S.length;L<H;L++){const N=S[L],U=N.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;r.copy(U.mapSize);const J=U.getFrameExtents();if(r.multiply(J),s.copy(U.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/J.x),r.x=s.x*J.x,U.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/J.y),r.y=s.y*J.y,U.mapSize.y=s.y)),U.map===null){const ee=this.type!==Fc?{minFilter:mt,magFilter:mt}:{};U.map=new an(r.x,r.y,ee),U.map.texture.name=N.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const Y=U.getViewportCount();for(let ee=0;ee<Y;ee++){const k=U.getViewport(ee);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),P.viewport(o),U.updateMatrices(N,ee),i=U.getFrustum(),x(I,T,U.camera,N,this.type)}U.isPointLightShadow!==!0&&this.type===Fc&&C(U,T),U.needsUpdate=!1}v.needsUpdate=!1,t.setRenderTarget(B,_,R)};function C(S,I){const T=e.update(g);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,A.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,A.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new an(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(I,null,T,p,g,null),A.uniforms.shadow_pass.value=S.mapPass.texture,A.uniforms.resolution.value=S.mapSize,A.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(I,null,T,A,g,null)}function y(S,I,T,B,_,R){let P=null;const L=T.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(L!==void 0)P=L;else if(P=T.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const H=P.uuid,N=I.uuid;let U=c[H];U===void 0&&(U={},c[H]=U);let J=U[N];J===void 0&&(J=P.clone(),U[N]=J),P=J}return P.visible=I.visible,P.wireframe=I.wireframe,R===Fc?P.side=I.shadowSide!==null?I.shadowSide:I.side:P.side=I.shadowSide!==null?I.shadowSide:d[I.side],P.alphaMap=I.alphaMap,P.alphaTest=I.alphaTest,P.map=I.map,P.clipShadows=I.clipShadows,P.clippingPlanes=I.clippingPlanes,P.clipIntersection=I.clipIntersection,P.displacementMap=I.displacementMap,P.displacementScale=I.displacementScale,P.displacementBias=I.displacementBias,P.wireframeLinewidth=I.wireframeLinewidth,P.linewidth=I.linewidth,T.isPointLight===!0&&P.isMeshDistanceMaterial===!0&&(P.referencePosition.setFromMatrixPosition(T.matrixWorld),P.nearDistance=B,P.farDistance=_),P}function x(S,I,T,B,_){if(S.visible===!1)return;if(S.layers.test(I.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&_===Fc)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const L=e.update(S),H=S.material;if(Array.isArray(H)){const N=L.groups;for(let U=0,J=N.length;U<J;U++){const Y=N[U],ee=H[Y.materialIndex];if(ee&&ee.visible){const k=y(S,ee,B,T.near,T.far,_);t.renderBufferDirect(T,null,L,k,S,Y)}}}else if(H.visible){const N=y(S,H,B,T.near,T.far,_);t.renderBufferDirect(T,null,L,N,S,null)}}const P=S.children;for(let L=0,H=P.length;L<H;L++)x(P[L],I,T,B,_)}}function YW(t,e,n){const i=n.isWebGL2;function r(){let X=!1;const de=new Gt;let Se=null;const Ue=new Gt(0,0,0,0);return{setMask:function(it){Se!==it&&!X&&(t.colorMask(it,it,it,it),Se=it)},setLocked:function(it){X=it},setClear:function(it,Vt,Gn,ui,ro){ro===!0&&(it*=ui,Vt*=ui,Gn*=ui),de.set(it,Vt,Gn,ui),Ue.equals(de)===!1&&(t.clearColor(it,Vt,Gn,ui),Ue.copy(de))},reset:function(){X=!1,Se=null,Ue.set(-1,0,0,0)}}}function s(){let X=!1,de=null,Se=null,Ue=null;return{setTest:function(it){it?Te(2929):Pe(2929)},setMask:function(it){de!==it&&!X&&(t.depthMask(it),de=it)},setFunc:function(it){if(Se!==it){switch(it){case Gb:t.depthFunc(512);break;case Qb:t.depthFunc(519);break;case Hb:t.depthFunc(513);break;case Mg:t.depthFunc(515);break;case zb:t.depthFunc(514);break;case Vb:t.depthFunc(518);break;case Wb:t.depthFunc(516);break;case Jb:t.depthFunc(517);break;default:t.depthFunc(515)}Se=it}},setLocked:function(it){X=it},setClear:function(it){Ue!==it&&(t.clearDepth(it),Ue=it)},reset:function(){X=!1,de=null,Se=null,Ue=null}}}function o(){let X=!1,de=null,Se=null,Ue=null,it=null,Vt=null,Gn=null,ui=null,ro=null;return{setTest:function(tn){X||(tn?Te(2960):Pe(2960))},setMask:function(tn){de!==tn&&!X&&(t.stencilMask(tn),de=tn)},setFunc:function(tn,zr,ir){(Se!==tn||Ue!==zr||it!==ir)&&(t.stencilFunc(tn,zr,ir),Se=tn,Ue=zr,it=ir)},setOp:function(tn,zr,ir){(Vt!==tn||Gn!==zr||ui!==ir)&&(t.stencilOp(tn,zr,ir),Vt=tn,Gn=zr,ui=ir)},setLocked:function(tn){X=tn},setClear:function(tn){ro!==tn&&(t.clearStencil(tn),ro=tn)},reset:function(){X=!1,de=null,Se=null,Ue=null,it=null,Vt=null,Gn=null,ui=null,ro=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},A={},m=new WeakMap,g=[],v=null,C=!1,y=null,x=null,S=null,I=null,T=null,B=null,_=null,R=!1,P=null,L=null,H=null,N=null,U=null;const J=t.getParameter(35661);let Y=!1,ee=0;const k=t.getParameter(7938);k.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(k)[1]),Y=ee>=1):k.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),Y=ee>=2);let j=null,W={};const $=t.getParameter(3088),z=t.getParameter(2978),ne=new Gt().fromArray($),pe=new Gt().fromArray(z);function ye(X,de,Se){const Ue=new Uint8Array(4),it=t.createTexture();t.bindTexture(X,it),t.texParameteri(X,10241,9728),t.texParameteri(X,10240,9728);for(let Vt=0;Vt<Se;Vt++)t.texImage2D(de+Vt,0,6408,1,1,0,6408,5121,Ue);return it}const q={};q[3553]=ye(3553,3553,1),q[34067]=ye(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Te(2929),l.setFunc(Mg),Oe(!1),tt(ky),Te(2884),_e(Dt);function Te(X){p[X]!==!0&&(t.enable(X),p[X]=!0)}function Pe(X){p[X]!==!1&&(t.disable(X),p[X]=!1)}function Le(X,de){return A[X]!==de?(t.bindFramebuffer(X,de),A[X]=de,i&&(X===36009&&(A[36160]=de),X===36160&&(A[36009]=de)),!0):!1}function Ee(X,de){let Se=g,Ue=!1;if(X)if(Se=m.get(de),Se===void 0&&(Se=[],m.set(de,Se)),X.isWebGLMultipleRenderTargets){const it=X.texture;if(Se.length!==it.length||Se[0]!==36064){for(let Vt=0,Gn=it.length;Vt<Gn;Vt++)Se[Vt]=36064+Vt;Se.length=it.length,Ue=!0}}else Se[0]!==36064&&(Se[0]=36064,Ue=!0);else Se[0]!==1029&&(Se[0]=1029,Ue=!0);Ue&&(n.isWebGL2?t.drawBuffers(Se):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Se))}function Be(X){return v!==X?(t.useProgram(X),v=X,!0):!1}const ce={[_r]:32774,[Pb]:32778,[Db]:32779};if(i)ce[Uy]=32775,ce[Gy]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(ce[Uy]=X.MIN_EXT,ce[Gy]=X.MAX_EXT)}const oe={[Kh]:0,[Lb]:1,[Fb]:768,[Rp]:770,[Ub]:776,[T2]:774,[M2]:772,[kb]:769,[Pp]:771,[Ob]:775,[Nb]:773};function _e(X,de,Se,Ue,it,Vt,Gn,ui){if(X===Dt){C===!0&&(Pe(3042),C=!1);return}if(C===!1&&(Te(3042),C=!0),X!==bp){if(X!==y||ui!==R){if((x!==_r||T!==_r)&&(t.blendEquation(32774),x=_r,T=_r),ui)switch(X){case So:t.blendFuncSeparate(1,771,1,771);break;case Bp:t.blendFunc(1,1);break;case Ny:t.blendFuncSeparate(0,769,0,1);break;case Oy:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case So:t.blendFuncSeparate(770,771,1,771);break;case Bp:t.blendFunc(770,1);break;case Ny:t.blendFuncSeparate(0,769,0,1);break;case Oy:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}S=null,I=null,B=null,_=null,y=X,R=ui}return}it=it||de,Vt=Vt||Se,Gn=Gn||Ue,(de!==x||it!==T)&&(t.blendEquationSeparate(ce[de],ce[it]),x=de,T=it),(Se!==S||Ue!==I||Vt!==B||Gn!==_)&&(t.blendFuncSeparate(oe[Se],oe[Ue],oe[Vt],oe[Gn]),S=Se,I=Ue,B=Vt,_=Gn),y=X,R=!1}function Ve(X,de){X.side===Os?Pe(2884):Te(2884);let Se=X.side===qi;de&&(Se=!Se),Oe(Se),X.blending===So&&X.transparent===!1?_e(Dt):_e(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const Ue=X.stencilWrite;c.setTest(Ue),Ue&&(c.setMask(X.stencilWriteMask),c.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),c.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),Je(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?Te(32926):Pe(32926)}function Oe(X){P!==X&&(X?t.frontFace(2304):t.frontFace(2305),P=X)}function tt(X){X!==Bb?(Te(2884),X!==L&&(X===ky?t.cullFace(1029):X===bb?t.cullFace(1028):t.cullFace(1032))):Pe(2884),L=X}function et(X){X!==H&&(Y&&t.lineWidth(X),H=X)}function Je(X,de,Se){X?(Te(32823),(N!==de||U!==Se)&&(t.polygonOffset(de,Se),N=de,U=Se)):Pe(32823)}function St(X){X?Te(3089):Pe(3089)}function Bt(X){X===void 0&&(X=33984+J-1),j!==X&&(t.activeTexture(X),j=X)}function Q(X,de,Se){Se===void 0&&(j===null?Se=33984+J-1:Se=j);let Ue=W[Se];Ue===void 0&&(Ue={type:void 0,texture:void 0},W[Se]=Ue),(Ue.type!==X||Ue.texture!==de)&&(j!==Se&&(t.activeTexture(Se),j=Se),t.bindTexture(X,de||q[X]),Ue.type=X,Ue.texture=de)}function F(){const X=W[j];X!==void 0&&X.type!==void 0&&(t.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function ae(){try{t.compressedTexImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function De(){try{t.texSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ke(){try{t.texSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ot(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ge(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ge(){try{t.texStorage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function qe(){try{t.texStorage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function K(){try{t.texImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function he(){try{t.texImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Me(X){ne.equals(X)===!1&&(t.scissor(X.x,X.y,X.z,X.w),ne.copy(X))}function Ne(X){pe.equals(X)===!1&&(t.viewport(X.x,X.y,X.z,X.w),pe.copy(X))}function at(X,de){let Se=d.get(de);Se===void 0&&(Se=new WeakMap,d.set(de,Se));let Ue=Se.get(X);Ue===void 0&&(Ue=t.getUniformBlockIndex(de,X.name),Se.set(X,Ue))}function Pt(X,de){const Ue=d.get(de).get(X);u.get(de)!==Ue&&(t.uniformBlockBinding(de,Ue,X.__bindingPointIndex),u.set(de,Ue))}function Nt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},j=null,W={},A={},m=new WeakMap,g=[],v=null,C=!1,y=null,x=null,S=null,I=null,T=null,B=null,_=null,R=!1,P=null,L=null,H=null,N=null,U=null,ne.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Te,disable:Pe,bindFramebuffer:Le,drawBuffers:Ee,useProgram:Be,setBlending:_e,setMaterial:Ve,setFlipSided:Oe,setCullFace:tt,setLineWidth:et,setPolygonOffset:Je,setScissorTest:St,activeTexture:Bt,bindTexture:Q,unbindTexture:F,compressedTexImage2D:ae,compressedTexImage3D:Ie,texImage2D:K,texImage3D:he,updateUBOMapping:at,uniformBlockBinding:Pt,texStorage2D:ge,texStorage3D:qe,texSubImage2D:De,texSubImage3D:ke,compressedTexSubImage2D:ot,compressedTexSubImage3D:Ge,scissor:Me,viewport:Ne,reset:Nt}}function XW(t,e,n,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,A=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const v=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(Q,F){return C?new OffscreenCanvas(Q,F):Vp("canvas")}function x(Q,F,ae,Ie){let De=1;if((Q.width>Ie||Q.height>Ie)&&(De=Ie/Math.max(Q.width,Q.height)),De<1||F===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const ke=F?bg:Math.floor,ot=ke(De*Q.width),Ge=ke(De*Q.height);g===void 0&&(g=y(ot,Ge));const ge=ae?y(ot,Ge):g;return ge.width=ot,ge.height=Ge,ge.getContext("2d").drawImage(Q,0,0,ot,Ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+ot+"x"+Ge+")."),ge}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function S(Q){return o8(Q.width)&&o8(Q.height)}function I(Q){return a?!1:Q.wrapS!==wn||Q.wrapT!==wn||Q.minFilter!==mt&&Q.minFilter!==sn}function T(Q,F){return Q.generateMipmaps&&F&&Q.minFilter!==mt&&Q.minFilter!==sn}function B(Q){t.generateMipmap(Q)}function _(Q,F,ae,Ie,De=!1){if(a===!1)return F;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let ke=F;return F===6403&&(ae===5126&&(ke=33326),ae===5131&&(ke=33325),ae===5121&&(ke=33321)),F===33319&&(ae===5126&&(ke=33328),ae===5131&&(ke=33327),ae===5121&&(ke=33323)),F===6408&&(ae===5126&&(ke=34836),ae===5131&&(ke=34842),ae===5121&&(ke=Ie===cn&&De===!1?35907:32856),ae===32819&&(ke=32854),ae===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function R(Q,F,ae){return T(Q,ae)===!0||Q.isFramebufferTexture&&Q.minFilter!==mt&&Q.minFilter!==sn?Math.log2(Math.max(F.width,F.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?F.mipmaps.length:1}function P(Q){return Q===mt||Q===Fp||Q===Dh?9728:9729}function L(Q){const F=Q.target;F.removeEventListener("dispose",L),N(F),F.isVideoTexture&&m.delete(F)}function H(Q){const F=Q.target;F.removeEventListener("dispose",H),J(F)}function N(Q){const F=i.get(Q);if(F.__webglInit===void 0)return;const ae=Q.source,Ie=v.get(ae);if(Ie){const De=Ie[F.__cacheKey];De.usedTimes--,De.usedTimes===0&&U(Q),Object.keys(Ie).length===0&&v.delete(ae)}i.remove(Q)}function U(Q){const F=i.get(Q);t.deleteTexture(F.__webglTexture);const ae=Q.source,Ie=v.get(ae);delete Ie[F.__cacheKey],o.memory.textures--}function J(Q){const F=Q.texture,ae=i.get(Q),Ie=i.get(F);if(Ie.__webglTexture!==void 0&&(t.deleteTexture(Ie.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let De=0;De<6;De++)t.deleteFramebuffer(ae.__webglFramebuffer[De]),ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[De]);else{if(t.deleteFramebuffer(ae.__webglFramebuffer),ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let De=0;De<ae.__webglColorRenderbuffer.length;De++)ae.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[De]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let De=0,ke=F.length;De<ke;De++){const ot=i.get(F[De]);ot.__webglTexture&&(t.deleteTexture(ot.__webglTexture),o.memory.textures--),i.remove(F[De])}i.remove(F),i.remove(Q)}let Y=0;function ee(){Y=0}function k(){const Q=Y;return Q>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+l),Y+=1,Q}function j(Q){const F=[];return F.push(Q.wrapS),F.push(Q.wrapT),F.push(Q.wrapR||0),F.push(Q.magFilter),F.push(Q.minFilter),F.push(Q.anisotropy),F.push(Q.internalFormat),F.push(Q.format),F.push(Q.type),F.push(Q.generateMipmaps),F.push(Q.premultiplyAlpha),F.push(Q.flipY),F.push(Q.unpackAlignment),F.push(Q.encoding),F.join()}function W(Q,F){const ae=i.get(Q);if(Q.isVideoTexture&&St(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&ae.__version!==Q.version){const Ie=Q.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pe(ae,Q,F);return}}n.bindTexture(3553,ae.__webglTexture,33984+F)}function $(Q,F){const ae=i.get(Q);if(Q.version>0&&ae.__version!==Q.version){Pe(ae,Q,F);return}n.bindTexture(35866,ae.__webglTexture,33984+F)}function z(Q,F){const ae=i.get(Q);if(Q.version>0&&ae.__version!==Q.version){Pe(ae,Q,F);return}n.bindTexture(32879,ae.__webglTexture,33984+F)}function ne(Q,F){const ae=i.get(Q);if(Q.version>0&&ae.__version!==Q.version){Le(ae,Q,F);return}n.bindTexture(34067,ae.__webglTexture,33984+F)}const pe={[vs]:10497,[wn]:33071,[Yh]:33648},ye={[mt]:9728,[Fp]:9984,[Dh]:9986,[sn]:9729,[b2]:9985,[ys]:9987};function q(Q,F,ae){if(ae?(t.texParameteri(Q,10242,pe[F.wrapS]),t.texParameteri(Q,10243,pe[F.wrapT]),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,pe[F.wrapR]),t.texParameteri(Q,10240,ye[F.magFilter]),t.texParameteri(Q,10241,ye[F.minFilter])):(t.texParameteri(Q,10242,33071),t.texParameteri(Q,10243,33071),(Q===32879||Q===35866)&&t.texParameteri(Q,32882,33071),(F.wrapS!==wn||F.wrapT!==wn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,10240,P(F.magFilter)),t.texParameteri(Q,10241,P(F.minFilter)),F.minFilter!==mt&&F.minFilter!==sn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ie=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===mt||F.minFilter!==Dh&&F.minFilter!==ys||F.type===ur&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===Wn&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||i.get(F).__currentAnisotropy)&&(t.texParameterf(Q,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy)}}function Te(Q,F){let ae=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,F.addEventListener("dispose",L));const Ie=F.source;let De=v.get(Ie);De===void 0&&(De={},v.set(Ie,De));const ke=j(F);if(ke!==Q.__cacheKey){De[ke]===void 0&&(De[ke]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),De[ke].usedTimes++;const ot=De[Q.__cacheKey];ot!==void 0&&(De[Q.__cacheKey].usedTimes--,ot.usedTimes===0&&U(F)),Q.__cacheKey=ke,Q.__webglTexture=De[ke].texture}return ae}function Pe(Q,F,ae){let Ie=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ie=35866),F.isData3DTexture&&(Ie=32879);const De=Te(Q,F),ke=F.source;n.bindTexture(Ie,Q.__webglTexture,33984+ae);const ot=i.get(ke);if(ke.version!==ot.__version||De===!0){n.activeTexture(33984+ae),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const Ge=I(F)&&S(F.image)===!1;let ge=x(F.image,Ge,!1,u);ge=Bt(F,ge);const qe=S(ge)||a,K=s.convert(F.format,F.encoding);let he=s.convert(F.type),Me=_(F.internalFormat,K,he,F.encoding,F.isVideoTexture);q(Ie,F,qe);let Ne;const at=F.mipmaps,Pt=a&&F.isVideoTexture!==!0,Nt=ot.__version===void 0||De===!0,X=R(F,ge,qe);if(F.isDepthTexture)Me=6402,a?F.type===ur?Me=36012:F.type===cl?Me=33190:F.type===yl?Me=35056:Me=33189:F.type===ur&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===xl&&Me===6402&&F.type!==gf&&F.type!==cl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=cl,he=s.convert(F.type)),F.format===Ml&&Me===6402&&(Me=34041,F.type!==yl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=yl,he=s.convert(F.type))),Nt&&(Pt?n.texStorage2D(3553,1,Me,ge.width,ge.height):n.texImage2D(3553,0,Me,ge.width,ge.height,0,K,he,null));else if(F.isDataTexture)if(at.length>0&&qe){Pt&&Nt&&n.texStorage2D(3553,X,Me,at[0].width,at[0].height);for(let de=0,Se=at.length;de<Se;de++)Ne=at[de],Pt?n.texSubImage2D(3553,de,0,0,Ne.width,Ne.height,K,he,Ne.data):n.texImage2D(3553,de,Me,Ne.width,Ne.height,0,K,he,Ne.data);F.generateMipmaps=!1}else Pt?(Nt&&n.texStorage2D(3553,X,Me,ge.width,ge.height),n.texSubImage2D(3553,0,0,0,ge.width,ge.height,K,he,ge.data)):n.texImage2D(3553,0,Me,ge.width,ge.height,0,K,he,ge.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Pt&&Nt&&n.texStorage3D(35866,X,Me,at[0].width,at[0].height,ge.depth);for(let de=0,Se=at.length;de<Se;de++)Ne=at[de],F.format!==Nn?K!==null?Pt?n.compressedTexSubImage3D(35866,de,0,0,0,Ne.width,Ne.height,ge.depth,K,Ne.data,0,0):n.compressedTexImage3D(35866,de,Me,Ne.width,Ne.height,ge.depth,0,Ne.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pt?n.texSubImage3D(35866,de,0,0,0,Ne.width,Ne.height,ge.depth,K,he,Ne.data):n.texImage3D(35866,de,Me,Ne.width,Ne.height,ge.depth,0,K,he,Ne.data)}else{Pt&&Nt&&n.texStorage2D(3553,X,Me,at[0].width,at[0].height);for(let de=0,Se=at.length;de<Se;de++)Ne=at[de],F.format!==Nn?K!==null?Pt?n.compressedTexSubImage2D(3553,de,0,0,Ne.width,Ne.height,K,Ne.data):n.compressedTexImage2D(3553,de,Me,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pt?n.texSubImage2D(3553,de,0,0,Ne.width,Ne.height,K,he,Ne.data):n.texImage2D(3553,de,Me,Ne.width,Ne.height,0,K,he,Ne.data)}else if(F.isDataArrayTexture)Pt?(Nt&&n.texStorage3D(35866,X,Me,ge.width,ge.height,ge.depth),n.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,K,he,ge.data)):n.texImage3D(35866,0,Me,ge.width,ge.height,ge.depth,0,K,he,ge.data);else if(F.isData3DTexture)Pt?(Nt&&n.texStorage3D(32879,X,Me,ge.width,ge.height,ge.depth),n.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,K,he,ge.data)):n.texImage3D(32879,0,Me,ge.width,ge.height,ge.depth,0,K,he,ge.data);else if(F.isFramebufferTexture){if(Nt)if(Pt)n.texStorage2D(3553,X,Me,ge.width,ge.height);else{let de=ge.width,Se=ge.height;for(let Ue=0;Ue<X;Ue++)n.texImage2D(3553,Ue,Me,de,Se,0,K,he,null),de>>=1,Se>>=1}}else if(at.length>0&&qe){Pt&&Nt&&n.texStorage2D(3553,X,Me,at[0].width,at[0].height);for(let de=0,Se=at.length;de<Se;de++)Ne=at[de],Pt?n.texSubImage2D(3553,de,0,0,K,he,Ne):n.texImage2D(3553,de,Me,K,he,Ne);F.generateMipmaps=!1}else Pt?(Nt&&n.texStorage2D(3553,X,Me,ge.width,ge.height),n.texSubImage2D(3553,0,0,0,K,he,ge)):n.texImage2D(3553,0,Me,K,he,ge);T(F,qe)&&B(Ie),ot.__version=ke.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function Le(Q,F,ae){if(F.image.length!==6)return;const Ie=Te(Q,F),De=F.source;n.bindTexture(34067,Q.__webglTexture,33984+ae);const ke=i.get(De);if(De.version!==ke.__version||Ie===!0){n.activeTexture(33984+ae),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const ot=F.isCompressedTexture||F.image[0].isCompressedTexture,Ge=F.image[0]&&F.image[0].isDataTexture,ge=[];for(let de=0;de<6;de++)!ot&&!Ge?ge[de]=x(F.image[de],!1,!0,c):ge[de]=Ge?F.image[de].image:F.image[de],ge[de]=Bt(F,ge[de]);const qe=ge[0],K=S(qe)||a,he=s.convert(F.format,F.encoding),Me=s.convert(F.type),Ne=_(F.internalFormat,he,Me,F.encoding),at=a&&F.isVideoTexture!==!0,Pt=ke.__version===void 0||Ie===!0;let Nt=R(F,qe,K);q(34067,F,K);let X;if(ot){at&&Pt&&n.texStorage2D(34067,Nt,Ne,qe.width,qe.height);for(let de=0;de<6;de++){X=ge[de].mipmaps;for(let Se=0;Se<X.length;Se++){const Ue=X[Se];F.format!==Nn?he!==null?at?n.compressedTexSubImage2D(34069+de,Se,0,0,Ue.width,Ue.height,he,Ue.data):n.compressedTexImage2D(34069+de,Se,Ne,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):at?n.texSubImage2D(34069+de,Se,0,0,Ue.width,Ue.height,he,Me,Ue.data):n.texImage2D(34069+de,Se,Ne,Ue.width,Ue.height,0,he,Me,Ue.data)}}}else{X=F.mipmaps,at&&Pt&&(X.length>0&&Nt++,n.texStorage2D(34067,Nt,Ne,ge[0].width,ge[0].height));for(let de=0;de<6;de++)if(Ge){at?n.texSubImage2D(34069+de,0,0,0,ge[de].width,ge[de].height,he,Me,ge[de].data):n.texImage2D(34069+de,0,Ne,ge[de].width,ge[de].height,0,he,Me,ge[de].data);for(let Se=0;Se<X.length;Se++){const it=X[Se].image[de].image;at?n.texSubImage2D(34069+de,Se+1,0,0,it.width,it.height,he,Me,it.data):n.texImage2D(34069+de,Se+1,Ne,it.width,it.height,0,he,Me,it.data)}}else{at?n.texSubImage2D(34069+de,0,0,0,he,Me,ge[de]):n.texImage2D(34069+de,0,Ne,he,Me,ge[de]);for(let Se=0;Se<X.length;Se++){const Ue=X[Se];at?n.texSubImage2D(34069+de,Se+1,0,0,he,Me,Ue.image[de]):n.texImage2D(34069+de,Se+1,Ne,he,Me,Ue.image[de])}}}T(F,K)&&B(34067),ke.__version=De.version,F.onUpdate&&F.onUpdate(F)}Q.__version=F.version}function Ee(Q,F,ae,Ie,De){const ke=s.convert(ae.format,ae.encoding),ot=s.convert(ae.type),Ge=_(ae.internalFormat,ke,ot,ae.encoding);i.get(F).__hasExternalTextures||(De===32879||De===35866?n.texImage3D(De,0,Ge,F.width,F.height,F.depth,0,ke,ot,null):n.texImage2D(De,0,Ge,F.width,F.height,0,ke,ot,null)),n.bindFramebuffer(36160,Q),Je(F)?p.framebufferTexture2DMultisampleEXT(36160,Ie,De,i.get(ae).__webglTexture,0,et(F)):(De===3553||De>=34069&&De<=34074)&&t.framebufferTexture2D(36160,Ie,De,i.get(ae).__webglTexture,0),n.bindFramebuffer(36160,null)}function Be(Q,F,ae){if(t.bindRenderbuffer(36161,Q),F.depthBuffer&&!F.stencilBuffer){let Ie=33189;if(ae||Je(F)){const De=F.depthTexture;De&&De.isDepthTexture&&(De.type===ur?Ie=36012:De.type===cl&&(Ie=33190));const ke=et(F);Je(F)?p.renderbufferStorageMultisampleEXT(36161,ke,Ie,F.width,F.height):t.renderbufferStorageMultisample(36161,ke,Ie,F.width,F.height)}else t.renderbufferStorage(36161,Ie,F.width,F.height);t.framebufferRenderbuffer(36160,36096,36161,Q)}else if(F.depthBuffer&&F.stencilBuffer){const Ie=et(F);ae&&Je(F)===!1?t.renderbufferStorageMultisample(36161,Ie,35056,F.width,F.height):Je(F)?p.renderbufferStorageMultisampleEXT(36161,Ie,35056,F.width,F.height):t.renderbufferStorage(36161,34041,F.width,F.height),t.framebufferRenderbuffer(36160,33306,36161,Q)}else{const Ie=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let De=0;De<Ie.length;De++){const ke=Ie[De],ot=s.convert(ke.format,ke.encoding),Ge=s.convert(ke.type),ge=_(ke.internalFormat,ot,Ge,ke.encoding),qe=et(F);ae&&Je(F)===!1?t.renderbufferStorageMultisample(36161,qe,ge,F.width,F.height):Je(F)?p.renderbufferStorageMultisampleEXT(36161,qe,ge,F.width,F.height):t.renderbufferStorage(36161,ge,F.width,F.height)}}t.bindRenderbuffer(36161,null)}function ce(Q,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,Q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),W(F.depthTexture,0);const Ie=i.get(F.depthTexture).__webglTexture,De=et(F);if(F.depthTexture.format===xl)Je(F)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ie,0,De):t.framebufferTexture2D(36160,36096,3553,Ie,0);else if(F.depthTexture.format===Ml)Je(F)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ie,0,De):t.framebufferTexture2D(36160,33306,3553,Ie,0);else throw new Error("Unknown depthTexture format")}function oe(Q){const F=i.get(Q),ae=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!F.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");ce(F.__webglFramebuffer,Q)}else if(ae){F.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)n.bindFramebuffer(36160,F.__webglFramebuffer[Ie]),F.__webglDepthbuffer[Ie]=t.createRenderbuffer(),Be(F.__webglDepthbuffer[Ie],Q,!1)}else n.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),Be(F.__webglDepthbuffer,Q,!1);n.bindFramebuffer(36160,null)}function _e(Q,F,ae){const Ie=i.get(Q);F!==void 0&&Ee(Ie.__webglFramebuffer,Q,Q.texture,36064,3553),ae!==void 0&&oe(Q)}function Ve(Q){const F=Q.texture,ae=i.get(Q),Ie=i.get(F);Q.addEventListener("dispose",H),Q.isWebGLMultipleRenderTargets!==!0&&(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=F.version,o.memory.textures++);const De=Q.isWebGLCubeRenderTarget===!0,ke=Q.isWebGLMultipleRenderTargets===!0,ot=S(Q)||a;if(De){ae.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)ae.__webglFramebuffer[Ge]=t.createFramebuffer()}else{if(ae.__webglFramebuffer=t.createFramebuffer(),ke)if(r.drawBuffers){const Ge=Q.texture;for(let ge=0,qe=Ge.length;ge<qe;ge++){const K=i.get(Ge[ge]);K.__webglTexture===void 0&&(K.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Q.samples>0&&Je(Q)===!1){const Ge=ke?F:[F];ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ae.__webglMultisampledFramebuffer);for(let ge=0;ge<Ge.length;ge++){const qe=Ge[ge];ae.__webglColorRenderbuffer[ge]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ae.__webglColorRenderbuffer[ge]);const K=s.convert(qe.format,qe.encoding),he=s.convert(qe.type),Me=_(qe.internalFormat,K,he,qe.encoding,Q.isXRRenderTarget===!0),Ne=et(Q);t.renderbufferStorageMultisample(36161,Ne,Me,Q.width,Q.height),t.framebufferRenderbuffer(36160,36064+ge,36161,ae.__webglColorRenderbuffer[ge])}t.bindRenderbuffer(36161,null),Q.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),Be(ae.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(36160,null)}}if(De){n.bindTexture(34067,Ie.__webglTexture),q(34067,F,ot);for(let Ge=0;Ge<6;Ge++)Ee(ae.__webglFramebuffer[Ge],Q,F,36064,34069+Ge);T(F,ot)&&B(34067),n.unbindTexture()}else if(ke){const Ge=Q.texture;for(let ge=0,qe=Ge.length;ge<qe;ge++){const K=Ge[ge],he=i.get(K);n.bindTexture(3553,he.__webglTexture),q(3553,K,ot),Ee(ae.__webglFramebuffer,Q,K,36064+ge,3553),T(K,ot)&&B(3553)}n.unbindTexture()}else{let Ge=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(a?Ge=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ge,Ie.__webglTexture),q(Ge,F,ot),Ee(ae.__webglFramebuffer,Q,F,36064,Ge),T(F,ot)&&B(Ge),n.unbindTexture()}Q.depthBuffer&&oe(Q)}function Oe(Q){const F=S(Q)||a,ae=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Ie=0,De=ae.length;Ie<De;Ie++){const ke=ae[Ie];if(T(ke,F)){const ot=Q.isWebGLCubeRenderTarget?34067:3553,Ge=i.get(ke).__webglTexture;n.bindTexture(ot,Ge),B(ot),n.unbindTexture()}}}function tt(Q){if(a&&Q.samples>0&&Je(Q)===!1){const F=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ae=Q.width,Ie=Q.height;let De=16384;const ke=[],ot=Q.stencilBuffer?33306:36096,Ge=i.get(Q),ge=Q.isWebGLMultipleRenderTargets===!0;if(ge)for(let qe=0;qe<F.length;qe++)n.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+qe,36161,null),n.bindFramebuffer(36160,Ge.__webglFramebuffer),t.framebufferTexture2D(36009,36064+qe,3553,null,0);n.bindFramebuffer(36008,Ge.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ge.__webglFramebuffer);for(let qe=0;qe<F.length;qe++){ke.push(36064+qe),Q.depthBuffer&&ke.push(ot);const K=Ge.__ignoreDepthValues!==void 0?Ge.__ignoreDepthValues:!1;if(K===!1&&(Q.depthBuffer&&(De|=256),Q.stencilBuffer&&(De|=1024)),ge&&t.framebufferRenderbuffer(36008,36064,36161,Ge.__webglColorRenderbuffer[qe]),K===!0&&(t.invalidateFramebuffer(36008,[ot]),t.invalidateFramebuffer(36009,[ot])),ge){const he=i.get(F[qe]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,he,0)}t.blitFramebuffer(0,0,ae,Ie,0,0,ae,Ie,De,9728),A&&t.invalidateFramebuffer(36008,ke)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),ge)for(let qe=0;qe<F.length;qe++){n.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+qe,36161,Ge.__webglColorRenderbuffer[qe]);const K=i.get(F[qe]).__webglTexture;n.bindFramebuffer(36160,Ge.__webglFramebuffer),t.framebufferTexture2D(36009,36064+qe,3553,K,0)}n.bindFramebuffer(36009,Ge.__webglMultisampledFramebuffer)}}function et(Q){return Math.min(d,Q.samples)}function Je(Q){const F=i.get(Q);return a&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function St(Q){const F=o.render.frame;m.get(Q)!==F&&(m.set(Q,F),Q.update())}function Bt(Q,F){const ae=Q.encoding,Ie=Q.format,De=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===Bg||ae!==Tl&&(ae===cn?a===!1?e.has("EXT_sRGB")===!0&&Ie===Nn?(Q.format=Bg,Q.minFilter=sn,Q.generateMipmaps=!1):F=Cx.sRGBToLinear(F):(Ie!==Nn||De!==gi)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ae)),F}this.allocateTextureUnit=k,this.resetTextureUnits=ee,this.setTexture2D=W,this.setTexture2DArray=$,this.setTexture3D=z,this.setTextureCube=ne,this.rebindTextures=_e,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=Oe,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=Ee,this.useMultisampledRTT=Je}function _R(t,e,n){const i=n.isWebGL2;function r(s,o=null){let a;if(s===gi)return 5121;if(s===nR)return 32819;if(s===iR)return 32820;if(s===$b)return 5120;if(s===eR)return 5122;if(s===gf)return 5123;if(s===tR)return 5124;if(s===cl)return 5125;if(s===ur)return 5126;if(s===Wn)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===rR)return 6406;if(s===Nn)return 6408;if(s===mx)return 6409;if(s===sR)return 6410;if(s===xl)return 6402;if(s===Ml)return 34041;if(s===Bg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===kc)return 6403;if(s===oR)return 36244;if(s===vh)return 33319;if(s===aR)return 33320;if(s===lR)return 36249;if(s===Lh||s===Um||s===Gm||s===Fh)if(o===cn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Lh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Um)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Gm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Fh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Lh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Um)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Gm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Fh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===kp||s===Qy||s===Np||s===Hy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===kp)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Qy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Np)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Hy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===R2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Op||s===Up)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Op)return o===cn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Up)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Gp||s===zy||s===Vy||s===Wy||s===Jy||s===jy||s===Ky||s===Yy||s===Xy||s===qy||s===Zy||s===$y||s===e8||s===t8)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Gp)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===zy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Vy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Wy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Jy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===jy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Ky)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Yy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Xy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===qy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Zy)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===$y)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===e8)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===t8)return o===cn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===kh)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===kh)return o===cn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===cR||s===n8||s===i8||s===r8)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===kh)return a.COMPRESSED_RED_RGTC1_EXT;if(s===n8)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===i8)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===r8)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===yl?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class MR extends on{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ha extends Qt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const qW={type:"move"};class Pv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ha,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ha,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ha,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,i),C=this._getHandJoint(c,g);v!==null&&(C.matrix.fromArray(v.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.jointRadius=v.radius),C.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),A=.02,m=.005;c.inputState.pinching&&p>A+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=A-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(qW)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ha;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class yf extends gn{constructor(e,n,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:xl,u!==xl&&u!==Ml)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===xl&&(i=cl),i===void 0&&u===Ml&&(i=yl),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:mt,this.minFilter=l!==void 0?l:mt,this.flipY=!1,this.generateMipmaps=!1}}class ZW extends Do{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,A=null,m=null;const g=n.getContextAttributes();let v=null,C=null;const y=[],x=[],S=new Set,I=new Map,T=new on;T.layers.enable(1),T.viewport=new Gt;const B=new on;B.layers.enable(2),B.viewport=new Gt;const _=[T,B],R=new MR;R.layers.enable(1),R.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let ne=y[z];return ne===void 0&&(ne=new Pv,y[z]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(z){let ne=y[z];return ne===void 0&&(ne=new Pv,y[z]=ne),ne.getGripSpace()},this.getHand=function(z){let ne=y[z];return ne===void 0&&(ne=new Pv,y[z]=ne),ne.getHandSpace()};function H(z){const ne=x.indexOf(z.inputSource);if(ne===-1)return;const pe=y[ne];pe!==void 0&&pe.dispatchEvent({type:z.type,data:z.inputSource})}function N(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",U);for(let z=0;z<y.length;z++){const ne=x[z];ne!==null&&(x[z]=null,y[z].disconnect(ne))}P=null,L=null,e.setRenderTarget(v),A=null,p=null,d=null,r=null,C=null,$.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:A},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(z){if(r=z,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",N),r.addEventListener("inputsourceschange",U),g.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};A=new XRWebGLLayer(r,n,ne),r.updateRenderState({baseLayer:A}),C=new an(A.framebufferWidth,A.framebufferHeight,{format:Nn,type:gi,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let ne=null,pe=null,ye=null;g.depth&&(ye=g.stencil?35056:33190,ne=g.stencil?Ml:xl,pe=g.stencil?yl:cl);const q={colorFormat:32856,depthFormat:ye,scaleFactor:s};d=new XRWebGLBinding(r,n),p=d.createProjectionLayer(q),r.updateRenderState({layers:[p]}),C=new an(p.textureWidth,p.textureHeight,{format:Nn,type:gi,depthTexture:new yf(p.textureWidth,p.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Te=e.properties.get(C);Te.__ignoreDepthValues=p.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),$.setContext(r),$.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function U(z){for(let ne=0;ne<z.removed.length;ne++){const pe=z.removed[ne],ye=x.indexOf(pe);ye>=0&&(x[ye]=null,y[ye].disconnect(pe))}for(let ne=0;ne<z.added.length;ne++){const pe=z.added[ne];let ye=x.indexOf(pe);if(ye===-1){for(let Te=0;Te<y.length;Te++)if(Te>=x.length){x.push(pe),ye=Te;break}else if(x[Te]===null){x[Te]=pe,ye=Te;break}if(ye===-1)break}const q=y[ye];q&&q.connect(pe)}}const J=new D,Y=new D;function ee(z,ne,pe){J.setFromMatrixPosition(ne.matrixWorld),Y.setFromMatrixPosition(pe.matrixWorld);const ye=J.distanceTo(Y),q=ne.projectionMatrix.elements,Te=pe.projectionMatrix.elements,Pe=q[14]/(q[10]-1),Le=q[14]/(q[10]+1),Ee=(q[9]+1)/q[5],Be=(q[9]-1)/q[5],ce=(q[8]-1)/q[0],oe=(Te[8]+1)/Te[0],_e=Pe*ce,Ve=Pe*oe,Oe=ye/(-ce+oe),tt=Oe*-ce;ne.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(tt),z.translateZ(Oe),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const et=Pe+Oe,Je=Le+Oe,St=_e-tt,Bt=Ve+(ye-tt),Q=Ee*Le/Je*et,F=Be*Le/Je*et;z.projectionMatrix.makePerspective(St,Bt,Q,F,et,Je)}function k(z,ne){ne===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(ne.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(r===null)return;R.near=B.near=T.near=z.near,R.far=B.far=T.far=z.far,(P!==R.near||L!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),P=R.near,L=R.far);const ne=z.parent,pe=R.cameras;k(R,ne);for(let q=0;q<pe.length;q++)k(pe[q],ne);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),z.matrix.copy(R.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const ye=z.children;for(let q=0,Te=ye.length;q<Te;q++)ye[q].updateMatrixWorld(!0);pe.length===2?ee(R,T,B):R.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&A===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),A!==null&&A.fixedFoveation!==void 0&&(A.fixedFoveation=z)},this.getPlanes=function(){return S};let j=null;function W(z,ne){if(u=ne.getViewerPose(c||o),m=ne,u!==null){const pe=u.views;A!==null&&(e.setRenderTargetFramebuffer(C,A.framebuffer),e.setRenderTarget(C));let ye=!1;pe.length!==R.cameras.length&&(R.cameras.length=0,ye=!0);for(let q=0;q<pe.length;q++){const Te=pe[q];let Pe=null;if(A!==null)Pe=A.getViewport(Te);else{const Ee=d.getViewSubImage(p,Te);Pe=Ee.viewport,q===0&&(e.setRenderTargetTextures(C,Ee.colorTexture,p.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(C))}let Le=_[q];Le===void 0&&(Le=new on,Le.layers.enable(q),Le.viewport=new Gt,_[q]=Le),Le.matrix.fromArray(Te.transform.matrix),Le.projectionMatrix.fromArray(Te.projectionMatrix),Le.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),q===0&&R.matrix.copy(Le.matrix),ye===!0&&R.cameras.push(Le)}}for(let pe=0;pe<y.length;pe++){const ye=x[pe],q=y[pe];ye!==null&&q!==void 0&&q.update(ye,ne,c||o)}if(j&&j(z,ne),ne.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ne.detectedPlanes});let pe=null;for(const ye of S)ne.detectedPlanes.has(ye)||(pe===null&&(pe=[]),pe.push(ye));if(pe!==null)for(const ye of pe)S.delete(ye),I.delete(ye),i.dispatchEvent({type:"planeremoved",data:ye});for(const ye of ne.detectedPlanes)if(!S.has(ye))S.add(ye),I.set(ye,ne.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ye});else{const q=I.get(ye);ye.lastChangedTime>q&&(I.set(ye,ye.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ye}))}}m=null}const $=new CR;$.setAnimationLoop(W),this.setAnimationLoop=function(z){j=z},this.dispose=function(){}}}function $W(t,e){function n(g,v){v.color.getRGB(g.fogColor.value,xR(t)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function i(g,v,C,y,x){v.isMeshBasicMaterial||v.isMeshLambertMaterial?r(g,v):v.isMeshToonMaterial?(r(g,v),u(g,v)):v.isMeshPhongMaterial?(r(g,v),c(g,v)):v.isMeshStandardMaterial?(r(g,v),d(g,v),v.isMeshPhysicalMaterial&&p(g,v,x)):v.isMeshMatcapMaterial?(r(g,v),A(g,v)):v.isMeshDepthMaterial?r(g,v):v.isMeshDistanceMaterial?(r(g,v),m(g,v)):v.isMeshNormalMaterial?r(g,v):v.isLineBasicMaterial?(s(g,v),v.isLineDashedMaterial&&o(g,v)):v.isPointsMaterial?a(g,v,C,y):v.isSpriteMaterial?l(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.bumpMap&&(g.bumpMap.value=v.bumpMap,g.bumpScale.value=v.bumpScale,v.side===qi&&(g.bumpScale.value*=-1)),v.displacementMap&&(g.displacementMap.value=v.displacementMap,g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap),v.normalMap&&(g.normalMap.value=v.normalMap,g.normalScale.value.copy(v.normalScale),v.side===qi&&g.normalScale.value.negate()),v.specularMap&&(g.specularMap.value=v.specularMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const C=e.get(v).envMap;if(C&&(g.envMap.value=C,g.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const S=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*S}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity);let y;v.map?y=v.map:v.specularMap?y=v.specularMap:v.displacementMap?y=v.displacementMap:v.normalMap?y=v.normalMap:v.bumpMap?y=v.bumpMap:v.roughnessMap?y=v.roughnessMap:v.metalnessMap?y=v.metalnessMap:v.alphaMap?y=v.alphaMap:v.emissiveMap?y=v.emissiveMap:v.clearcoatMap?y=v.clearcoatMap:v.clearcoatNormalMap?y=v.clearcoatNormalMap:v.clearcoatRoughnessMap?y=v.clearcoatRoughnessMap:v.iridescenceMap?y=v.iridescenceMap:v.iridescenceThicknessMap?y=v.iridescenceThicknessMap:v.specularIntensityMap?y=v.specularIntensityMap:v.specularColorMap?y=v.specularColorMap:v.transmissionMap?y=v.transmissionMap:v.thicknessMap?y=v.thicknessMap:v.sheenColorMap?y=v.sheenColorMap:v.sheenRoughnessMap&&(y=v.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix));let x;v.aoMap?x=v.aoMap:v.lightMap&&(x=v.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uv2Transform.value.copy(x.matrix))}function s(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity}function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function a(g,v,C,y){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*C,g.scale.value=y*.5,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let C;v.map?C=v.map:v.alphaMap&&(C=v.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),g.uvTransform.value.copy(C.matrix))}function c(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function u(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function d(g,v){g.roughness.value=v.roughness,g.metalness.value=v.metalness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function p(g,v,C){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),g.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===qi&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap)}function A(g,v){v.matcap&&(g.matcap.value=v.matcap)}function m(g,v){g.referencePosition.value.copy(v.referencePosition),g.nearDistance.value=v.nearDistance,g.farDistance.value=v.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function eJ(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(y,x){const S=x.program;i.uniformBlockBinding(y,S)}function c(y,x){let S=r[y.id];S===void 0&&(m(y),S=u(y),r[y.id]=S,y.addEventListener("dispose",v));const I=x.program;i.updateUBOMapping(y,I);const T=e.render.frame;s[y.id]!==T&&(p(y),s[y.id]=T)}function u(y){const x=d();y.__bindingPointIndex=x;const S=t.createBuffer(),I=y.__size,T=y.usage;return t.bindBuffer(35345,S),t.bufferData(35345,I,T),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,S),S}function d(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(y){const x=r[y.id],S=y.uniforms,I=y.__cache;t.bindBuffer(35345,x);for(let T=0,B=S.length;T<B;T++){const _=S[T];if(A(_,T,I)===!0){const R=_.__offset,P=Array.isArray(_.value)?_.value:[_.value];let L=0;for(let H=0;H<P.length;H++){const N=P[H],U=g(N);typeof N=="number"?(_.__data[0]=N,t.bufferSubData(35345,R+L,_.__data)):N.isMatrix3?(_.__data[0]=N.elements[0],_.__data[1]=N.elements[1],_.__data[2]=N.elements[2],_.__data[3]=N.elements[0],_.__data[4]=N.elements[3],_.__data[5]=N.elements[4],_.__data[6]=N.elements[5],_.__data[7]=N.elements[0],_.__data[8]=N.elements[6],_.__data[9]=N.elements[7],_.__data[10]=N.elements[8],_.__data[11]=N.elements[0]):(N.toArray(_.__data,L),L+=U.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,R,_.__data)}}t.bindBuffer(35345,null)}function A(y,x,S){const I=y.value;if(S[x]===void 0){if(typeof I=="number")S[x]=I;else{const T=Array.isArray(I)?I:[I],B=[];for(let _=0;_<T.length;_++)B.push(T[_].clone());S[x]=B}return!0}else if(typeof I=="number"){if(S[x]!==I)return S[x]=I,!0}else{const T=Array.isArray(S[x])?S[x]:[S[x]],B=Array.isArray(I)?I:[I];for(let _=0;_<T.length;_++){const R=T[_];if(R.equals(B[_])===!1)return R.copy(B[_]),!0}}return!1}function m(y){const x=y.uniforms;let S=0;const I=16;let T=0;for(let B=0,_=x.length;B<_;B++){const R=x[B],P={boundary:0,storage:0},L=Array.isArray(R.value)?R.value:[R.value];for(let H=0,N=L.length;H<N;H++){const U=L[H],J=g(U);P.boundary+=J.boundary,P.storage+=J.storage}if(R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=S,B>0){T=S%I;const H=I-T;T!==0&&H-P.boundary<0&&(S+=I-T,R.__offset=S)}S+=P.storage}return T=S%I,T>0&&(S+=I-T),y.__size=S,y.__cache={},this}function g(y){const x={boundary:0,storage:0};return typeof y=="number"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function v(y){const x=y.target;x.removeEventListener("dispose",v);const S=o.indexOf(x.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}function C(){for(const y in r)t.deleteBuffer(r[y]);o=[],r={},s={}}return{bind:l,update:c,dispose:C}}function tJ(){const t=Vp("canvas");return t.style.display="block",t}function Tx(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:tJ(),n=t.context!==void 0?t.context:null,i=t.depth!==void 0?t.depth:!0,r=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let d=null,p=null;const A=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Tl,this.physicallyCorrectLights=!1,this.toneMapping=br,this.toneMappingExposure=1;const g=this;let v=!1,C=0,y=0,x=null,S=-1,I=null;const T=new Gt,B=new Gt;let _=null,R=e.width,P=e.height,L=1,H=null,N=null;const U=new Gt(0,0,R,P),J=new Gt(0,0,R,P);let Y=!1;const ee=new F2;let k=!1,j=!1,W=null;const $=new Ke,z=new le,ne=new D,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return x===null?L:1}let q=n;function Te(O,re){for(let ve=0;ve<O.length;ve++){const ie=O[ve],Ce=e.getContext(ie,re);if(Ce!==null)return Ce}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ys}`),e.addEventListener("webglcontextlost",Me,!1),e.addEventListener("webglcontextrestored",Ne,!1),e.addEventListener("webglcontextcreationerror",at,!1),q===null){const re=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&re.shift(),q=Te(re,O),q===null)throw Te(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Pe,Le,Ee,Be,ce,oe,_e,Ve,Oe,tt,et,Je,St,Bt,Q,F,ae,Ie,De,ke,ot,Ge,ge,qe;function K(){Pe=new gV(q),Le=new hV(q,Pe,t),Pe.init(Le),Ge=new _R(q,Pe,Le),Ee=new YW(q,Pe,Le),Be=new xV,ce=new NW,oe=new XW(q,Pe,Ee,ce,Le,Ge,Be),_e=new dV(g),Ve=new mV(g),Oe=new BQ(q,Le),ge=new cV(q,Pe,Oe,Le),tt=new vV(q,Oe,Be,ge),et=new wV(q,tt,Oe,Be),De=new SV(q,Le,oe),F=new fV(ce),Je=new kW(g,_e,Ve,Pe,Le,ge,F),St=new $W(g,ce),Bt=new UW,Q=new WW(Pe,Le),Ie=new lV(g,_e,Ve,Ee,et,u,o),ae=new KW(g,et,Le),qe=new eJ(q,Be,Le,Ee),ke=new uV(q,Pe,Be,Le),ot=new yV(q,Pe,Be,Le),Be.programs=Je.programs,g.capabilities=Le,g.extensions=Pe,g.properties=ce,g.renderLists=Bt,g.shadowMap=ae,g.state=Ee,g.info=Be}K();const he=new ZW(g,q);this.xr=he,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const O=Pe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Pe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(O){O!==void 0&&(L=O,this.setSize(R,P,!1))},this.getSize=function(O){return O.set(R,P)},this.setSize=function(O,re,ve){if(he.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=O,P=re,e.width=Math.floor(O*L),e.height=Math.floor(re*L),ve!==!1&&(e.style.width=O+"px",e.style.height=re+"px"),this.setViewport(0,0,O,re)},this.getDrawingBufferSize=function(O){return O.set(R*L,P*L).floor()},this.setDrawingBufferSize=function(O,re,ve){R=O,P=re,L=ve,e.width=Math.floor(O*ve),e.height=Math.floor(re*ve),this.setViewport(0,0,O,re)},this.getCurrentViewport=function(O){return O.copy(T)},this.getViewport=function(O){return O.copy(U)},this.setViewport=function(O,re,ve,ie){O.isVector4?U.set(O.x,O.y,O.z,O.w):U.set(O,re,ve,ie),Ee.viewport(T.copy(U).multiplyScalar(L).floor())},this.getScissor=function(O){return O.copy(J)},this.setScissor=function(O,re,ve,ie){O.isVector4?J.set(O.x,O.y,O.z,O.w):J.set(O,re,ve,ie),Ee.scissor(B.copy(J).multiplyScalar(L).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(O){Ee.setScissorTest(Y=O)},this.setOpaqueSort=function(O){H=O},this.setTransparentSort=function(O){N=O},this.getClearColor=function(O){return O.copy(Ie.getClearColor())},this.setClearColor=function(){Ie.setClearColor.apply(Ie,arguments)},this.getClearAlpha=function(){return Ie.getClearAlpha()},this.setClearAlpha=function(){Ie.setClearAlpha.apply(Ie,arguments)},this.clear=function(O=!0,re=!0,ve=!0){let ie=0;O&&(ie|=16384),re&&(ie|=256),ve&&(ie|=1024),q.clear(ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Me,!1),e.removeEventListener("webglcontextrestored",Ne,!1),e.removeEventListener("webglcontextcreationerror",at,!1),Bt.dispose(),Q.dispose(),ce.dispose(),_e.dispose(),Ve.dispose(),et.dispose(),ge.dispose(),qe.dispose(),Je.dispose(),he.dispose(),he.removeEventListener("sessionstart",Ue),he.removeEventListener("sessionend",it),W&&(W.dispose(),W=null),Vt.stop()};function Me(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const O=Be.autoReset,re=ae.enabled,ve=ae.autoUpdate,ie=ae.needsUpdate,Ce=ae.type;K(),Be.autoReset=O,ae.enabled=re,ae.autoUpdate=ve,ae.needsUpdate=ie,ae.type=Ce}function at(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Pt(O){const re=O.target;re.removeEventListener("dispose",Pt),Nt(re)}function Nt(O){X(O),ce.remove(O)}function X(O){const re=ce.get(O).programs;re!==void 0&&(re.forEach(function(ve){Je.releaseProgram(ve)}),O.isShaderMaterial&&Je.releaseShaderCache(O))}this.renderBufferDirect=function(O,re,ve,ie,Ce,lt){re===null&&(re=pe);const vt=Ce.isMesh&&Ce.matrixWorld.determinant()<0,It=R1(O,re,ve,ie,Ce);Ee.setMaterial(ie,vt);let bt=ve.index,Ot=1;ie.wireframe===!0&&(bt=tt.getWireframeAttribute(ve),Ot=2);const Lt=ve.drawRange,Ft=ve.attributes.position;let Rn=Lt.start*Ot,Gi=(Lt.start+Lt.count)*Ot;lt!==null&&(Rn=Math.max(Rn,lt.start*Ot),Gi=Math.min(Gi,(lt.start+lt.count)*Ot)),bt!==null?(Rn=Math.max(Rn,0),Gi=Math.min(Gi,bt.count)):Ft!=null&&(Rn=Math.max(Rn,0),Gi=Math.min(Gi,Ft.count));const Is=Gi-Rn;if(Is<0||Is===1/0)return;ge.setup(Ce,ie,It,ve,bt);let Ho,vn=ke;if(bt!==null&&(Ho=Oe.get(bt),vn=ot,vn.setIndex(Ho)),Ce.isMesh)ie.wireframe===!0?(Ee.setLineWidth(ie.wireframeLinewidth*ye()),vn.setMode(1)):vn.setMode(4);else if(Ce.isLine){let _t=ie.linewidth;_t===void 0&&(_t=1),Ee.setLineWidth(_t*ye()),Ce.isLineSegments?vn.setMode(1):Ce.isLineLoop?vn.setMode(2):vn.setMode(3)}else Ce.isPoints?vn.setMode(0):Ce.isSprite&&vn.setMode(4);if(Ce.isInstancedMesh)vn.renderInstances(Rn,Is,Ce.count);else if(ve.isInstancedBufferGeometry){const _t=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,Xl=Math.min(ve.instanceCount,_t);vn.renderInstances(Rn,Is,Xl)}else vn.render(Rn,Is)},this.compile=function(O,re){function ve(ie,Ce,lt){ie.transparent===!0&&ie.side===Os&&ie.forceSinglePass===!1?(ie.side=qi,ie.needsUpdate=!0,ir(ie,Ce,lt),ie.side=Po,ie.needsUpdate=!0,ir(ie,Ce,lt),ie.side=Os):ir(ie,Ce,lt)}p=Q.get(O),p.init(),m.push(p),O.traverseVisible(function(ie){ie.isLight&&ie.layers.test(re.layers)&&(p.pushLight(ie),ie.castShadow&&p.pushShadow(ie))}),p.setupLights(g.physicallyCorrectLights),O.traverse(function(ie){const Ce=ie.material;if(Ce)if(Array.isArray(Ce))for(let lt=0;lt<Ce.length;lt++){const vt=Ce[lt];ve(vt,O,ie)}else ve(Ce,O,ie)}),m.pop(),p=null};let de=null;function Se(O){de&&de(O)}function Ue(){Vt.stop()}function it(){Vt.start()}const Vt=new CR;Vt.setAnimationLoop(Se),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(O){de=O,he.setAnimationLoop(O),O===null?Vt.stop():Vt.start()},he.addEventListener("sessionstart",Ue),he.addEventListener("sessionend",it),this.render=function(O,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),he.enabled===!0&&he.isPresenting===!0&&(he.cameraAutoUpdate===!0&&he.updateCamera(re),re=he.getCamera()),O.isScene===!0&&O.onBeforeRender(g,O,re,x),p=Q.get(O,m.length),p.init(),m.push(p),$.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),ee.setFromProjectionMatrix($),j=this.localClippingEnabled,k=F.init(this.clippingPlanes,j),d=Bt.get(O,A.length),d.init(),A.push(d),Gn(O,re,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(H,N),k===!0&&F.beginShadows();const ve=p.state.shadowsArray;if(ae.render(ve,O,re),k===!0&&F.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ie.render(d,O),p.setupLights(g.physicallyCorrectLights),re.isArrayCamera){const ie=re.cameras;for(let Ce=0,lt=ie.length;Ce<lt;Ce++){const vt=ie[Ce];ui(d,O,vt,vt.viewport)}}else ui(d,O,re);x!==null&&(oe.updateMultisampleRenderTarget(x),oe.updateRenderTargetMipmap(x)),O.isScene===!0&&O.onAfterRender(g,O,re),ge.resetDefaultState(),S=-1,I=null,m.pop(),m.length>0?p=m[m.length-1]:p=null,A.pop(),A.length>0?d=A[A.length-1]:d=null};function Gn(O,re,ve,ie){if(O.visible===!1)return;if(O.layers.test(re.layers)){if(O.isGroup)ve=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(re);else if(O.isLight)p.pushLight(O),O.castShadow&&p.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ee.intersectsSprite(O)){ie&&ne.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const vt=et.update(O),It=O.material;It.visible&&d.push(O,vt,It,ve,ne.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==Be.render.frame&&(O.skeleton.update(),O.skeleton.frame=Be.render.frame),!O.frustumCulled||ee.intersectsObject(O))){ie&&ne.setFromMatrixPosition(O.matrixWorld).applyMatrix4($);const vt=et.update(O),It=O.material;if(Array.isArray(It)){const bt=vt.groups;for(let Ot=0,Lt=bt.length;Ot<Lt;Ot++){const Ft=bt[Ot],Rn=It[Ft.materialIndex];Rn&&Rn.visible&&d.push(O,vt,Rn,ve,ne.z,Ft)}}else It.visible&&d.push(O,vt,It,ve,ne.z,null)}}const lt=O.children;for(let vt=0,It=lt.length;vt<It;vt++)Gn(lt[vt],re,ve,ie)}function ui(O,re,ve,ie){const Ce=O.opaque,lt=O.transmissive,vt=O.transparent;p.setupLightsView(ve),k===!0&&F.setGlobalState(g.clippingPlanes,ve),lt.length>0&&ro(Ce,re,ve),ie&&Ee.viewport(T.copy(ie)),Ce.length>0&&tn(Ce,re,ve),lt.length>0&&tn(lt,re,ve),vt.length>0&&tn(vt,re,ve),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function ro(O,re,ve){const ie=Le.isWebGL2;W===null&&(W=new an(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?Wn:gi,minFilter:ys,samples:ie&&s===!0?4:0})),g.getDrawingBufferSize(z),ie?W.setSize(z.x,z.y):W.setSize(bg(z.x),bg(z.y));const Ce=g.getRenderTarget();g.setRenderTarget(W),g.clear();const lt=g.toneMapping;g.toneMapping=br,tn(O,re,ve),g.toneMapping=lt,oe.updateMultisampleRenderTarget(W),oe.updateRenderTargetMipmap(W),g.setRenderTarget(Ce)}function tn(O,re,ve){const ie=re.isScene===!0?re.overrideMaterial:null;for(let Ce=0,lt=O.length;Ce<lt;Ce++){const vt=O[Ce],It=vt.object,bt=vt.geometry,Ot=ie===null?vt.material:ie,Lt=vt.group;It.layers.test(ve.layers)&&zr(It,re,ve,bt,Ot,Lt)}}function zr(O,re,ve,ie,Ce,lt){O.onBeforeRender(g,re,ve,ie,Ce,lt),O.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),Ce.onBeforeRender(g,re,ve,ie,O,lt),Ce.transparent===!0&&Ce.side===Os&&Ce.forceSinglePass===!1?(Ce.side=qi,Ce.needsUpdate=!0,g.renderBufferDirect(ve,re,ie,Ce,O,lt),Ce.side=Po,Ce.needsUpdate=!0,g.renderBufferDirect(ve,re,ie,Ce,O,lt),Ce.side=Os):g.renderBufferDirect(ve,re,ie,Ce,O,lt),O.onAfterRender(g,re,ve,ie,Ce,lt)}function ir(O,re,ve){re.isScene!==!0&&(re=pe);const ie=ce.get(O),Ce=p.state.lights,lt=p.state.shadowsArray,vt=Ce.state.version,It=Je.getParameters(O,Ce.state,lt,re,ve),bt=Je.getProgramCacheKey(It);let Ot=ie.programs;ie.environment=O.isMeshStandardMaterial?re.environment:null,ie.fog=re.fog,ie.envMap=(O.isMeshStandardMaterial?Ve:_e).get(O.envMap||ie.environment),Ot===void 0&&(O.addEventListener("dispose",Pt),Ot=new Map,ie.programs=Ot);let Lt=Ot.get(bt);if(Lt!==void 0){if(ie.currentProgram===Lt&&ie.lightsStateVersion===vt)return o3(O,It),Lt}else It.uniforms=Je.getUniforms(O),O.onBuild(ve,It,g),O.onBeforeCompile(It,g),Lt=Je.acquireProgram(It,bt),Ot.set(bt,Lt),ie.uniforms=It.uniforms;const Ft=ie.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Ft.clippingPlanes=F.uniform),o3(O,It),ie.needsLights=bf(O),ie.lightsStateVersion=vt,ie.needsLights&&(Ft.ambientLightColor.value=Ce.state.ambient,Ft.lightProbe.value=Ce.state.probe,Ft.directionalLights.value=Ce.state.directional,Ft.directionalLightShadows.value=Ce.state.directionalShadow,Ft.spotLights.value=Ce.state.spot,Ft.spotLightShadows.value=Ce.state.spotShadow,Ft.rectAreaLights.value=Ce.state.rectArea,Ft.ltc_1.value=Ce.state.rectAreaLTC1,Ft.ltc_2.value=Ce.state.rectAreaLTC2,Ft.pointLights.value=Ce.state.point,Ft.pointLightShadows.value=Ce.state.pointShadow,Ft.hemisphereLights.value=Ce.state.hemi,Ft.directionalShadowMap.value=Ce.state.directionalShadowMap,Ft.directionalShadowMatrix.value=Ce.state.directionalShadowMatrix,Ft.spotShadowMap.value=Ce.state.spotShadowMap,Ft.spotLightMatrix.value=Ce.state.spotLightMatrix,Ft.spotLightMap.value=Ce.state.spotLightMap,Ft.pointShadowMap.value=Ce.state.pointShadowMap,Ft.pointShadowMatrix.value=Ce.state.pointShadowMatrix);const Rn=Lt.getUniforms(),Gi=Vm.seqWithValue(Rn.seq,Ft);return ie.currentProgram=Lt,ie.uniformsList=Gi,Lt}function o3(O,re){const ve=ce.get(O);ve.outputEncoding=re.outputEncoding,ve.instancing=re.instancing,ve.skinning=re.skinning,ve.morphTargets=re.morphTargets,ve.morphNormals=re.morphNormals,ve.morphColors=re.morphColors,ve.morphTargetsCount=re.morphTargetsCount,ve.numClippingPlanes=re.numClippingPlanes,ve.numIntersection=re.numClipIntersection,ve.vertexAlphas=re.vertexAlphas,ve.vertexTangents=re.vertexTangents,ve.toneMapping=re.toneMapping}function R1(O,re,ve,ie,Ce){re.isScene!==!0&&(re=pe),oe.resetTextureUnits();const lt=re.fog,vt=ie.isMeshStandardMaterial?re.environment:null,It=x===null?g.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:Tl,bt=(ie.isMeshStandardMaterial?Ve:_e).get(ie.envMap||vt),Ot=ie.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,Lt=!!ie.normalMap&&!!ve.attributes.tangent,Ft=!!ve.morphAttributes.position,Rn=!!ve.morphAttributes.normal,Gi=!!ve.morphAttributes.color,Is=ie.toneMapped?g.toneMapping:br,Ho=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,vn=Ho!==void 0?Ho.length:0,_t=ce.get(ie),Xl=p.state.lights;if(k===!0&&(j===!0||O!==I)){const Zt=O===I&&ie.id===S;F.setState(ie,O,Zt)}let Pn=!1;ie.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==Xl.state.version||_t.outputEncoding!==It||Ce.isInstancedMesh&&_t.instancing===!1||!Ce.isInstancedMesh&&_t.instancing===!0||Ce.isSkinnedMesh&&_t.skinning===!1||!Ce.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==bt||ie.fog===!0&&_t.fog!==lt||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==F.numPlanes||_t.numIntersection!==F.numIntersection)||_t.vertexAlphas!==Ot||_t.vertexTangents!==Lt||_t.morphTargets!==Ft||_t.morphNormals!==Rn||_t.morphColors!==Gi||_t.toneMapping!==Is||Le.isWebGL2===!0&&_t.morphTargetsCount!==vn)&&(Pn=!0):(Pn=!0,_t.__version=ie.version);let zo=_t.currentProgram;Pn===!0&&(zo=ir(ie,re,Ce));let Su=!1,Vr=!1,Wr=!1;const wt=zo.getUniforms(),Ht=_t.uniforms;if(Ee.useProgram(zo.program)&&(Su=!0,Vr=!0,Wr=!0),ie.id!==S&&(S=ie.id,Vr=!0),Su||I!==O){if(wt.setValue(q,"projectionMatrix",O.projectionMatrix),Le.logarithmicDepthBuffer&&wt.setValue(q,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),I!==O&&(I=O,Vr=!0,Wr=!0),ie.isShaderMaterial||ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshStandardMaterial||ie.envMap){const Zt=wt.map.cameraPosition;Zt!==void 0&&Zt.setValue(q,ne.setFromMatrixPosition(O.matrixWorld))}(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial)&&wt.setValue(q,"isOrthographic",O.isOrthographicCamera===!0),(ie.isMeshPhongMaterial||ie.isMeshToonMaterial||ie.isMeshLambertMaterial||ie.isMeshBasicMaterial||ie.isMeshStandardMaterial||ie.isShaderMaterial||ie.isShadowMaterial||Ce.isSkinnedMesh)&&wt.setValue(q,"viewMatrix",O.matrixWorldInverse)}if(Ce.isSkinnedMesh){wt.setOptional(q,Ce,"bindMatrix"),wt.setOptional(q,Ce,"bindMatrixInverse");const Zt=Ce.skeleton;Zt&&(Le.floatVertexTextures?(Zt.boneTexture===null&&Zt.computeBoneTexture(),wt.setValue(q,"boneTexture",Zt.boneTexture,oe),wt.setValue(q,"boneTextureSize",Zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jr=ve.morphAttributes;if((Jr.position!==void 0||Jr.normal!==void 0||Jr.color!==void 0&&Le.isWebGL2===!0)&&De.update(Ce,ve,ie,zo),(Vr||_t.receiveShadow!==Ce.receiveShadow)&&(_t.receiveShadow=Ce.receiveShadow,wt.setValue(q,"receiveShadow",Ce.receiveShadow)),ie.isMeshGouraudMaterial&&ie.envMap!==null&&(Ht.envMap.value=bt,Ht.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),Vr&&(wt.setValue(q,"toneMappingExposure",g.toneMappingExposure),_t.needsLights&&a3(Ht,Wr),lt&&ie.fog===!0&&St.refreshFogUniforms(Ht,lt),St.refreshMaterialUniforms(Ht,ie,L,P,W),Vm.upload(q,_t.uniformsList,Ht,oe)),ie.isShaderMaterial&&ie.uniformsNeedUpdate===!0&&(Vm.upload(q,_t.uniformsList,Ht,oe),ie.uniformsNeedUpdate=!1),ie.isSpriteMaterial&&wt.setValue(q,"center",Ce.center),wt.setValue(q,"modelViewMatrix",Ce.modelViewMatrix),wt.setValue(q,"normalMatrix",Ce.normalMatrix),wt.setValue(q,"modelMatrix",Ce.matrixWorld),ie.isShaderMaterial||ie.isRawShaderMaterial){const Zt=ie.uniformsGroups;for(let hi=0,Vo=Zt.length;hi<Vo;hi++)if(Le.isWebGL2){const Wo=Zt[hi];qe.update(Wo,zo),qe.bind(Wo,zo)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zo}function a3(O,re){O.ambientLightColor.needsUpdate=re,O.lightProbe.needsUpdate=re,O.directionalLights.needsUpdate=re,O.directionalLightShadows.needsUpdate=re,O.pointLights.needsUpdate=re,O.pointLightShadows.needsUpdate=re,O.spotLights.needsUpdate=re,O.spotLightShadows.needsUpdate=re,O.rectAreaLights.needsUpdate=re,O.hemisphereLights.needsUpdate=re}function bf(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(O,re,ve){ce.get(O.texture).__webglTexture=re,ce.get(O.depthTexture).__webglTexture=ve;const ie=ce.get(O);ie.__hasExternalTextures=!0,ie.__hasExternalTextures&&(ie.__autoAllocateDepthBuffer=ve===void 0,ie.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ie.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,re){const ve=ce.get(O);ve.__webglFramebuffer=re,ve.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(O,re=0,ve=0){x=O,C=re,y=ve;let ie=!0,Ce=null,lt=!1,vt=!1;if(O){const bt=ce.get(O);bt.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(36160,null),ie=!1):bt.__webglFramebuffer===void 0?oe.setupRenderTarget(O):bt.__hasExternalTextures&&oe.rebindTextures(O,ce.get(O.texture).__webglTexture,ce.get(O.depthTexture).__webglTexture);const Ot=O.texture;(Ot.isData3DTexture||Ot.isDataArrayTexture||Ot.isCompressedArrayTexture)&&(vt=!0);const Lt=ce.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Ce=Lt[re],lt=!0):Le.isWebGL2&&O.samples>0&&oe.useMultisampledRTT(O)===!1?Ce=ce.get(O).__webglMultisampledFramebuffer:Ce=Lt,T.copy(O.viewport),B.copy(O.scissor),_=O.scissorTest}else T.copy(U).multiplyScalar(L).floor(),B.copy(J).multiplyScalar(L).floor(),_=Y;if(Ee.bindFramebuffer(36160,Ce)&&Le.drawBuffers&&ie&&Ee.drawBuffers(O,Ce),Ee.viewport(T),Ee.scissor(B),Ee.setScissorTest(_),lt){const bt=ce.get(O.texture);q.framebufferTexture2D(36160,36064,34069+re,bt.__webglTexture,ve)}else if(vt){const bt=ce.get(O.texture),Ot=re||0;q.framebufferTextureLayer(36160,36064,bt.__webglTexture,ve||0,Ot)}S=-1},this.readRenderTargetPixels=function(O,re,ve,ie,Ce,lt,vt){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let It=ce.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&vt!==void 0&&(It=It[vt]),It){Ee.bindFramebuffer(36160,It);try{const bt=O.texture,Ot=bt.format,Lt=bt.type;if(Ot!==Nn&&Ge.convert(Ot)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ft=Lt===Wn&&(Pe.has("EXT_color_buffer_half_float")||Le.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(Lt!==gi&&Ge.convert(Lt)!==q.getParameter(35738)&&!(Lt===ur&&(Le.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!Ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=O.width-ie&&ve>=0&&ve<=O.height-Ce&&q.readPixels(re,ve,ie,Ce,Ge.convert(Ot),Ge.convert(Lt),lt)}finally{const bt=x!==null?ce.get(x).__webglFramebuffer:null;Ee.bindFramebuffer(36160,bt)}}},this.copyFramebufferToTexture=function(O,re,ve=0){const ie=Math.pow(2,-ve),Ce=Math.floor(re.image.width*ie),lt=Math.floor(re.image.height*ie);oe.setTexture2D(re,0),q.copyTexSubImage2D(3553,ve,0,0,O.x,O.y,Ce,lt),Ee.unbindTexture()},this.copyTextureToTexture=function(O,re,ve,ie=0){const Ce=re.image.width,lt=re.image.height,vt=Ge.convert(ve.format),It=Ge.convert(ve.type);oe.setTexture2D(ve,0),q.pixelStorei(37440,ve.flipY),q.pixelStorei(37441,ve.premultiplyAlpha),q.pixelStorei(3317,ve.unpackAlignment),re.isDataTexture?q.texSubImage2D(3553,ie,O.x,O.y,Ce,lt,vt,It,re.image.data):re.isCompressedTexture?q.compressedTexSubImage2D(3553,ie,O.x,O.y,re.mipmaps[0].width,re.mipmaps[0].height,vt,re.mipmaps[0].data):q.texSubImage2D(3553,ie,O.x,O.y,vt,It,re.image),ie===0&&ve.generateMipmaps&&q.generateMipmap(3553),Ee.unbindTexture()},this.copyTextureToTexture3D=function(O,re,ve,ie,Ce=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const lt=O.max.x-O.min.x+1,vt=O.max.y-O.min.y+1,It=O.max.z-O.min.z+1,bt=Ge.convert(ie.format),Ot=Ge.convert(ie.type);let Lt;if(ie.isData3DTexture)oe.setTexture3D(ie,0),Lt=32879;else if(ie.isDataArrayTexture)oe.setTexture2DArray(ie,0),Lt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,ie.flipY),q.pixelStorei(37441,ie.premultiplyAlpha),q.pixelStorei(3317,ie.unpackAlignment);const Ft=q.getParameter(3314),Rn=q.getParameter(32878),Gi=q.getParameter(3316),Is=q.getParameter(3315),Ho=q.getParameter(32877),vn=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;q.pixelStorei(3314,vn.width),q.pixelStorei(32878,vn.height),q.pixelStorei(3316,O.min.x),q.pixelStorei(3315,O.min.y),q.pixelStorei(32877,O.min.z),ve.isDataTexture||ve.isData3DTexture?q.texSubImage3D(Lt,Ce,re.x,re.y,re.z,lt,vt,It,bt,Ot,vn.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(Lt,Ce,re.x,re.y,re.z,lt,vt,It,bt,vn.data)):q.texSubImage3D(Lt,Ce,re.x,re.y,re.z,lt,vt,It,bt,Ot,vn),q.pixelStorei(3314,Ft),q.pixelStorei(32878,Rn),q.pixelStorei(3316,Gi),q.pixelStorei(3315,Is),q.pixelStorei(32877,Ho),Ce===0&&ie.generateMipmaps&&q.generateMipmap(Lt),Ee.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?oe.setTextureCube(O,0):O.isData3DTexture?oe.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?oe.setTexture2DArray(O,0):oe.setTexture2D(O,0),Ee.unbindTexture()},this.resetState=function(){C=0,y=0,x=null,Ee.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class TR extends Tx{}TR.prototype.isWebGL1Renderer=!0;class O2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Re(e),this.density=n}clone(){return new O2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class U2{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Re(e),this.near=n,this.far=i}clone(){return new U2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Rg extends Qt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class y0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Rr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zi=new D;class Bl{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)zi.fromBufferAttribute(this,n),zi.applyMatrix4(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)zi.fromBufferAttribute(this,n),zi.applyNormalMatrix(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)zi.fromBufferAttribute(this,n),zi.transformDirection(e),this.setXYZ(n,zi.x,zi.y,zi.z);return this}setX(e,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ua(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ua(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ua(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ua(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array),r=rn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=rn(n,this.array),i=rn(i,this.array),r=rn(r,this.array),s=rn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new qt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Bx extends qn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qu;const hd=new D,Zu=new D,$u=new D,eh=new le,fd=new le,BR=new Ke,NA=new D,dd=new D,OA=new D,QS=new le,Dv=new le,HS=new le;class bR extends Qt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",qu===void 0){qu=new gt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new y0(n,5);qu.setIndex([0,1,2,0,2,3]),qu.setAttribute("position",new Bl(i,3,0,!1)),qu.setAttribute("uv",new Bl(i,2,3,!1))}this.geometry=qu,this.material=e!==void 0?e:new Bx,this.center=new le(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zu.setFromMatrixScale(this.matrixWorld),BR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$u.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zu.multiplyScalar(-$u.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;UA(NA.set(-.5,-.5,0),$u,o,Zu,r,s),UA(dd.set(.5,-.5,0),$u,o,Zu,r,s),UA(OA.set(.5,.5,0),$u,o,Zu,r,s),QS.set(0,0),Dv.set(1,0),HS.set(1,1);let a=e.ray.intersectTriangle(NA,dd,OA,!1,hd);if(a===null&&(UA(dd.set(-.5,.5,0),$u,o,Zu,r,s),Dv.set(0,1),a=e.ray.intersectTriangle(NA,OA,dd,!1,hd),a===null))return;const l=e.ray.origin.distanceTo(hd);l<e.near||l>e.far||n.push({distance:l,point:hd.clone(),uv:cs.getUV(hd,NA,dd,OA,QS,Dv,HS,new le),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function UA(t,e,n,i,r,s){eh.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(fd.x=s*eh.x-r*eh.y,fd.y=r*eh.x+s*eh.y):fd.copy(eh),t.copy(e),t.x+=fd.x,t.y+=fd.y,t.applyMatrix4(BR)}const GA=new D,zS=new D;class RR extends Qt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){GA.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(GA);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){GA.setFromMatrixPosition(e.matrixWorld),zS.setFromMatrixPosition(this.matrixWorld);const i=GA.distanceTo(zS)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const VS=new D,WS=new Gt,JS=new Gt,nJ=new D,jS=new Ke;class bx extends $t{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ke,this.bindMatrixInverse=new Ke}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,r=this.geometry;WS.fromBufferAttribute(r.attributes.skinIndex,e),JS.fromBufferAttribute(r.attributes.skinWeight,e),VS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=JS.getComponent(s);if(o!==0){const a=WS.getComponent(s);jS.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(nJ.copy(VS).applyMatrix4(jS),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class G2 extends Qt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Io extends gn{constructor(e=null,n=1,i=1,r,s,o,a,l,c=mt,u=mt,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KS=new Ke,iJ=new Ke;class x0{constructor(e=[],n=[]){this.uuid=Rr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ke)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Ke;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:iJ;KS.multiplyMatrices(a,n[s]),KS.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new x0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=gR(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Io(n,e,e,Nn,ur);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new G2),this.bones.push(o),this.boneInverses.push(new Ke().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class $h extends qt{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const YS=new Ke,XS=new Ke,QA=[],rJ=new Ke,pd=new $t;class Rx extends $t{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new $h(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,rJ)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(pd.geometry=this.geometry,pd.material=this.material,pd.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,YS),XS.multiplyMatrices(i,YS),pd.matrixWorld=XS,pd.raycast(e,QA);for(let o=0,a=QA.length;o<a;o++){const l=QA[o];l.instanceId=s,l.object=this,n.push(l)}QA.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $h(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ui extends qn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const qS=new D,ZS=new D,$S=new Ke,Lv=new m0,HA=new Hl;class Ea extends Qt{constructor(e=new gt,n=new Ui){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)qS.fromBufferAttribute(n,r-1),ZS.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=qS.distanceTo(ZS);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),HA.copy(i.boundingSphere),HA.applyMatrix4(r),HA.radius+=s,e.ray.intersectsSphere(HA)===!1)return;$S.copy(r).invert(),Lv.copy(e.ray).applyMatrix4($S);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,u=new D,d=new D,p=new D,A=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(m!==null){const C=Math.max(0,o.start),y=Math.min(m.count,o.start+o.count);for(let x=C,S=y-1;x<S;x+=A){const I=m.getX(x),T=m.getX(x+1);if(c.fromBufferAttribute(v,I),u.fromBufferAttribute(v,T),Lv.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const _=e.ray.origin.distanceTo(p);_<e.near||_>e.far||n.push({distance:_,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const C=Math.max(0,o.start),y=Math.min(v.count,o.start+o.count);for(let x=C,S=y-1;x<S;x+=A){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),Lv.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const ew=new D,tw=new D;class Xs extends Ea{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)ew.fromBufferAttribute(n,r),tw.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+ew.distanceTo(tw);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Px extends Ea{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class C0 extends qn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nw=new Ke,c8=new m0,zA=new Hl,VA=new D;let Q2=class extends Qt{constructor(e=new gt,n=new C0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zA.copy(i.boundingSphere),zA.applyMatrix4(r),zA.radius+=s,e.ray.intersectsSphere(zA)===!1)return;nw.copy(r).invert(),c8.copy(e.ray).applyMatrix4(nw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),A=Math.min(c.count,o.start+o.count);for(let m=p,g=A;m<g;m++){const v=c.getX(m);VA.fromBufferAttribute(d,v),iw(VA,v,l,r,e,n,this)}}else{const p=Math.max(0,o.start),A=Math.min(d.count,o.start+o.count);for(let m=p,g=A;m<g;m++)VA.fromBufferAttribute(d,m),iw(VA,m,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function iw(t,e,n,i,r,s,o){const a=c8.distanceSqToPoint(t);if(a<n){const l=new D;c8.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class sJ extends gn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:sn,this.magFilter=s!==void 0?s:sn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class oJ extends gn{constructor(e,n,i){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=mt,this.minFilter=mt,this.generateMipmaps=!1,this.needsUpdate=!0}}class iu extends gn{constructor(e,n,i,r,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,r,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let aJ=class extends iu{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=wn}};class lJ extends gn{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],p=i[r+1]-u,A=(o-u)/p;return(r+A)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new le:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new D,r=[],s=[],o=[],a=new D,l=new Ke;for(let A=0;A<=e;A++){const m=A/e;r[A]=this.getTangentAt(m,new D)}s[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let A=1;A<=e;A++){if(s[A]=s[A-1].clone(),o[A]=o[A-1].clone(),a.crossVectors(r[A-1],r[A]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Vn(r[A-1].dot(r[A]),-1,1));s[A].applyMatrix4(l.makeRotationAxis(a,m))}o[A].crossVectors(r[A],s[A])}if(n===!0){let A=Math.acos(Vn(s[0].dot(s[e]),-1,1));A/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(A=-A);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],A*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class H2 extends qs{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new le,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,A=c-this.aY;l=p*u-A*d+this.aX,c=p*d+A*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class PR extends H2{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Dx(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,A=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,A*=u,r(o,a,p,A)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const WA=new D,Fv=new Dx,kv=new Dx,Nv=new Dx;class DR extends qs{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new D){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(WA.subVectors(r[0],r[1]).add(r[0]),c=WA);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(WA.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=WA),this.curveType==="centripetal"||this.curveType==="chordal"){const A=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(d),A),g=Math.pow(d.distanceToSquared(p),A),v=Math.pow(p.distanceToSquared(u),A);g<1e-4&&(g=1),m<1e-4&&(m=g),v<1e-4&&(v=g),Fv.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,m,g,v),kv.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,m,g,v),Nv.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,m,g,v)}else this.curveType==="catmullrom"&&(Fv.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),kv.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),Nv.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return i.set(Fv.calc(l),kv.calc(l),Nv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function rw(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function cJ(t,e){const n=1-t;return n*n*e}function uJ(t,e){return 2*(1-t)*t*e}function hJ(t,e){return t*t*e}function Zd(t,e,n,i){return cJ(t,e)+uJ(t,n)+hJ(t,i)}function fJ(t,e){const n=1-t;return n*n*n*e}function dJ(t,e){const n=1-t;return 3*n*n*t*e}function pJ(t,e){return 3*(1-t)*t*t*e}function AJ(t,e){return t*t*t*e}function $d(t,e,n,i,r){return fJ(t,e)+dJ(t,n)+pJ(t,i)+AJ(t,r)}class Lx extends qs{constructor(e=new le,n=new le,i=new le,r=new le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new le){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set($d(e,r.x,s.x,o.x,a.x),$d(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LR extends qs{constructor(e=new D,n=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new D){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set($d(e,r.x,s.x,o.x,a.x),$d(e,r.y,s.y,o.y,a.y),$d(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class z2 extends qs{constructor(e=new le,n=new le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new le){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new le;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FR extends qs{constructor(e=new D,n=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new D){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Fx extends qs{constructor(e=new le,n=new le,i=new le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new le){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Zd(e,r.x,s.x,o.x),Zd(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kx extends qs{constructor(e=new D,n=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new D){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Zd(e,r.x,s.x,o.x),Zd(e,r.y,s.y,o.y),Zd(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Nx extends qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new le){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(rw(a,l.x,c.x,u.x,d.x),rw(a,l.y,c.y,u.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new le().fromArray(r))}return this}}var Ox=Object.freeze({__proto__:null,ArcCurve:PR,CatmullRomCurve3:DR,CubicBezierCurve:Lx,CubicBezierCurve3:LR,EllipseCurve:H2,LineCurve:z2,LineCurve3:FR,QuadraticBezierCurve:Fx,QuadraticBezierCurve3:kx,SplineCurve:Nx});class kR extends qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new z2(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Ox[r.type]().fromJSON(r))}return this}}let Wp=class extends kR{constructor(e){super(),this.type="Path",this.currentPoint=new le,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new z2(this.currentPoint.clone(),new le(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new Fx(this.currentPoint.clone(),new le(e,n),new le(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new Lx(this.currentPoint.clone(),new le(e,n),new le(i,r),new le(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new Nx(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new H2(e,n,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class xf extends gt{constructor(e=[new le(0,-.5),new le(.5,0),new le(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Vn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new D,p=new le,A=new D,m=new D,g=new D;let v=0,C=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,C=e[y+1].y-e[y].y,A.x=C*1,A.y=-v,A.z=C*0,g.copy(A),A.normalize(),l.push(A.x,A.y,A.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[y+1].x-e[y].x,C=e[y+1].y-e[y].y,A.x=C*1,A.y=-v,A.z=C*0,m.copy(A),A.x+=g.x,A.y+=g.y,A.z+=g.z,A.normalize(),l.push(A.x,A.y,A.z),g.copy(m)}for(let y=0;y<=n;y++){const x=i+y*u*r,S=Math.sin(x),I=Math.cos(x);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*S,d.y=e[T].y,d.z=e[T].x*I,o.push(d.x,d.y,d.z),p.x=y/n,p.y=T/(e.length-1),a.push(p.x,p.y);const B=l[3*T+0]*S,_=l[3*T+1],R=l[3*T+0]*I;c.push(B,_,R)}}for(let y=0;y<n;y++)for(let x=0;x<e.length-1;x++){const S=x+y*e.length,I=S,T=S+e.length,B=S+e.length+1,_=S+1;s.push(I,T,_),s.push(B,_,T)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2)),this.setAttribute("normal",new Ye(c,3))}static fromJSON(e){return new xf(e.points,e.segments,e.phiStart,e.phiLength)}}class E0 extends xf{constructor(e=1,n=1,i=4,r=8){const s=new Wp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new E0(e.radius,e.length,e.capSegments,e.radialSegments)}}class S0 extends gt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new D,u=new le;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const A=i+d/n*r;c.x=e*Math.cos(A),c.y=e*Math.sin(A),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(l,2))}static fromJSON(e){return new S0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class pu extends gt{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],p=[],A=[];let m=0;const g=[],v=i/2;let C=0;y(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new Ye(d,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(A,2));function y(){const S=new D,I=new D;let T=0;const B=(n-e)/i;for(let _=0;_<=s;_++){const R=[],P=_/s,L=P*(n-e)+e;for(let H=0;H<=r;H++){const N=H/r,U=N*l+a,J=Math.sin(U),Y=Math.cos(U);I.x=L*J,I.y=-P*i+v,I.z=L*Y,d.push(I.x,I.y,I.z),S.set(J,B,Y).normalize(),p.push(S.x,S.y,S.z),A.push(N,1-P),R.push(m++)}g.push(R)}for(let _=0;_<r;_++)for(let R=0;R<s;R++){const P=g[R][_],L=g[R+1][_],H=g[R+1][_+1],N=g[R][_+1];u.push(P,L,N),u.push(L,H,N),T+=6}c.addGroup(C,T,0),C+=T}function x(S){const I=m,T=new le,B=new D;let _=0;const R=S===!0?e:n,P=S===!0?1:-1;for(let H=1;H<=r;H++)d.push(0,v*P,0),p.push(0,P,0),A.push(.5,.5),m++;const L=m;for(let H=0;H<=r;H++){const U=H/r*l+a,J=Math.cos(U),Y=Math.sin(U);B.x=R*Y,B.y=v*P,B.z=R*J,d.push(B.x,B.y,B.z),p.push(0,P,0),T.x=J*.5+.5,T.y=Y*.5*P+.5,A.push(T.x,T.y),m++}for(let H=0;H<r;H++){const N=I+H,U=L+H;S===!0?u.push(U,U+1,N):u.push(U+1,U,N),_+=3}c.addGroup(C,_,S===!0?1:2),C+=_}}static fromJSON(e){return new pu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class w0 extends pu{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new w0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ma extends gt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(s.slice(),3)),this.setAttribute("uv",new Ye(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const x=new D,S=new D,I=new D;for(let T=0;T<n.length;T+=3)A(n[T+0],x),A(n[T+1],S),A(n[T+2],I),l(x,S,I,y)}function l(y,x,S,I){const T=I+1,B=[];for(let _=0;_<=T;_++){B[_]=[];const R=y.clone().lerp(S,_/T),P=x.clone().lerp(S,_/T),L=T-_;for(let H=0;H<=L;H++)H===0&&_===T?B[_][H]=R:B[_][H]=R.clone().lerp(P,H/L)}for(let _=0;_<T;_++)for(let R=0;R<2*(T-_)-1;R++){const P=Math.floor(R/2);R%2===0?(p(B[_][P+1]),p(B[_+1][P]),p(B[_][P])):(p(B[_][P+1]),p(B[_+1][P+1]),p(B[_+1][P]))}}function c(y){const x=new D;for(let S=0;S<s.length;S+=3)x.x=s[S+0],x.y=s[S+1],x.z=s[S+2],x.normalize().multiplyScalar(y),s[S+0]=x.x,s[S+1]=x.y,s[S+2]=x.z}function u(){const y=new D;for(let x=0;x<s.length;x+=3){y.x=s[x+0],y.y=s[x+1],y.z=s[x+2];const S=v(y)/2/Math.PI+.5,I=C(y)/Math.PI+.5;o.push(S,1-I)}m(),d()}function d(){for(let y=0;y<o.length;y+=6){const x=o[y+0],S=o[y+2],I=o[y+4],T=Math.max(x,S,I),B=Math.min(x,S,I);T>.9&&B<.1&&(x<.2&&(o[y+0]+=1),S<.2&&(o[y+2]+=1),I<.2&&(o[y+4]+=1))}}function p(y){s.push(y.x,y.y,y.z)}function A(y,x){const S=y*3;x.x=e[S+0],x.y=e[S+1],x.z=e[S+2]}function m(){const y=new D,x=new D,S=new D,I=new D,T=new le,B=new le,_=new le;for(let R=0,P=0;R<s.length;R+=9,P+=6){y.set(s[R+0],s[R+1],s[R+2]),x.set(s[R+3],s[R+4],s[R+5]),S.set(s[R+6],s[R+7],s[R+8]),T.set(o[P+0],o[P+1]),B.set(o[P+2],o[P+3]),_.set(o[P+4],o[P+5]),I.copy(y).add(x).add(S).divideScalar(3);const L=v(I);g(T,P+0,y,L),g(B,P+2,x,L),g(_,P+4,S,L)}}function g(y,x,S,I){I<0&&y.x===1&&(o[x]=y.x-1),S.x===0&&S.z===0&&(o[x]=I/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function C(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new Ma(e.vertices,e.indices,e.radius,e.details)}}class I0 extends Ma{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new I0(e.radius,e.detail)}}const JA=new D,jA=new D,Ov=new D,KA=new cs;class NR extends gt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Jc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},A=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:g,b:v,c:C}=KA;if(g.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),C.fromBufferAttribute(a,c[2]),KA.getNormal(Ov),d[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,d[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,d[2]=`${Math.round(C.x*r)},${Math.round(C.y*r)},${Math.round(C.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const x=(y+1)%3,S=d[y],I=d[x],T=KA[u[y]],B=KA[u[x]],_=`${S}_${I}`,R=`${I}_${S}`;R in p&&p[R]?(Ov.dot(p[R].normal)<=s&&(A.push(T.x,T.y,T.z),A.push(B.x,B.y,B.z)),p[R]=null):_ in p||(p[_]={index0:c[y],index1:c[x],normal:Ov.clone()})}}for(const m in p)if(p[m]){const{index0:g,index1:v}=p[m];JA.fromBufferAttribute(a,g),jA.fromBufferAttribute(a,v),A.push(JA.x,JA.y,JA.z),A.push(jA.x,jA.y,jA.z)}this.setAttribute("position",new Ye(A,3))}}}class Xc extends Wp{constructor(e){super(e),this.uuid=Rr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new Wp().fromJSON(r))}return this}}const mJ={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=OR(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,A;if(i&&(s=CJ(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let m=n;m<r;m+=n)d=t[m],p=t[m+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);A=Math.max(c-a,u-l),A=A!==0?32767/A:0}return Jp(s,o,n,a,l,A,0),o}};function OR(t,e,n,i,r){let s,o;if(r===PJ(t,e,n,i)>0)for(s=e;s<n;s+=i)o=sw(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=sw(s,t[s],t[s+1],o);return o&&V2(o,o.next)&&(Kp(o),o=o.next),o}function ru(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(V2(n,n.next)||_n(n.prev,n,n.next)===0)){if(Kp(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Jp(t,e,n,i,r,s,o){if(!t)return;!o&&s&&_J(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?vJ(t,i,r,s):gJ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Kp(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=yJ(ru(t),e,n),Jp(t,e,n,i,r,s,2)):o===2&&xJ(t,e,n,i,r,s):Jp(ru(t),e,n,i,r,s,1);break}}}function gJ(t){const e=t.prev,n=t,i=t.next;if(_n(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,A=a>l?a>c?a:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=u&&m.x<=p&&m.y>=d&&m.y<=A&&Ch(r,a,s,l,o,c,m.x,m.y)&&_n(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function vJ(t,e,n,i){const r=t.prev,s=t,o=t.next;if(_n(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,d=s.y,p=o.y,A=a<l?a<c?a:c:l<c?l:c,m=u<d?u<p?u:p:d<p?d:p,g=a>l?a>c?a:c:l>c?l:c,v=u>d?u>p?u:p:d>p?d:p,C=u8(A,m,e,n,i),y=u8(g,v,e,n,i);let x=t.prevZ,S=t.nextZ;for(;x&&x.z>=C&&S&&S.z<=y;){if(x.x>=A&&x.x<=g&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Ch(a,u,l,d,c,p,x.x,x.y)&&_n(x.prev,x,x.next)>=0||(x=x.prevZ,S.x>=A&&S.x<=g&&S.y>=m&&S.y<=v&&S!==r&&S!==o&&Ch(a,u,l,d,c,p,S.x,S.y)&&_n(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;x&&x.z>=C;){if(x.x>=A&&x.x<=g&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Ch(a,u,l,d,c,p,x.x,x.y)&&_n(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;S&&S.z<=y;){if(S.x>=A&&S.x<=g&&S.y>=m&&S.y<=v&&S!==r&&S!==o&&Ch(a,u,l,d,c,p,S.x,S.y)&&_n(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function yJ(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!V2(r,s)&&UR(r,i,i.next,s)&&jp(r,s)&&jp(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Kp(i),Kp(i.next),i=t=s),i=i.next}while(i!==t);return ru(i)}function xJ(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&BJ(o,a)){let l=GR(o,a);o=ru(o,o.next),l=ru(l,l.next),Jp(o,e,n,i,r,s,0),Jp(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function CJ(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=OR(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(TJ(c));for(r.sort(EJ),s=0;s<r.length;s++)n=SJ(r[s],n);return n}function EJ(t,e){return t.x-e.x}function SJ(t,e){const n=wJ(t,e);if(!n)return e;const i=GR(n,t);return ru(i,i.next),ru(n,n.next)}function wJ(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,d;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&Ch(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),jp(n,t)&&(d<u||d===u&&(n.x>r.x||n.x===r.x&&IJ(r,n)))&&(r=n,u=d)),n=n.next;while(n!==a);return r}function IJ(t,e){return _n(t.prev,t,e.prev)<0&&_n(e.next,t,t.next)<0}function _J(t,e,n,i){let r=t;do r.z===0&&(r.z=u8(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,MJ(r)}function MJ(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function u8(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function TJ(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ch(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function BJ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!bJ(t,e)&&(jp(t,e)&&jp(e,t)&&RJ(t,e)&&(_n(t.prev,t,e.prev)||_n(t,e.prev,e))||V2(t,e)&&_n(t.prev,t,t.next)>0&&_n(e.prev,e,e.next)>0)}function _n(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function V2(t,e){return t.x===e.x&&t.y===e.y}function UR(t,e,n,i){const r=XA(_n(t,e,n)),s=XA(_n(t,e,i)),o=XA(_n(n,i,t)),a=XA(_n(n,i,e));return!!(r!==s&&o!==a||r===0&&YA(t,n,e)||s===0&&YA(t,i,e)||o===0&&YA(n,t,i)||a===0&&YA(n,e,i))}function YA(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function XA(t){return t>0?1:t<0?-1:0}function bJ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&UR(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function jp(t,e){return _n(t.prev,t,t.next)<0?_n(t,e,t.next)>=0&&_n(t,t.prev,e)>=0:_n(t,e,t.prev)<0||_n(t,t.next,e)<0}function RJ(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function GR(t,e){const n=new h8(t.i,t.x,t.y),i=new h8(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function sw(t,e,n,i){const r=new h8(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Kp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function h8(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function PJ(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class _o{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return _o.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];ow(e),aw(i,e);let o=e.length;n.forEach(ow);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,aw(i,n[l]);const a=mJ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ow(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function aw(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _0 extends gt{constructor(e=new Xc([new le(.5,.5),new le(-.5,.5),new le(-.5,-.5),new le(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ye(r,3)),this.setAttribute("uv",new Ye(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,A=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:A-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const C=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:DJ;let x,S=!1,I,T,B,_;C&&(x=C.getSpacedPoints(u),S=!0,p=!1,I=C.computeFrenetFrames(u,!1),T=new D,B=new D,_=new D),p||(v=0,A=0,m=0,g=0);const R=a.extractPoints(c);let P=R.shape;const L=R.holes;if(!_o.isClockWise(P)){P=P.reverse();for(let ce=0,oe=L.length;ce<oe;ce++){const _e=L[ce];_o.isClockWise(_e)&&(L[ce]=_e.reverse())}}const N=_o.triangulateShape(P,L),U=P;for(let ce=0,oe=L.length;ce<oe;ce++){const _e=L[ce];P=P.concat(_e)}function J(ce,oe,_e){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(_e).add(ce)}const Y=P.length,ee=N.length;function k(ce,oe,_e){let Ve,Oe,tt;const et=ce.x-oe.x,Je=ce.y-oe.y,St=_e.x-ce.x,Bt=_e.y-ce.y,Q=et*et+Je*Je,F=et*Bt-Je*St;if(Math.abs(F)>Number.EPSILON){const ae=Math.sqrt(Q),Ie=Math.sqrt(St*St+Bt*Bt),De=oe.x-Je/ae,ke=oe.y+et/ae,ot=_e.x-Bt/Ie,Ge=_e.y+St/Ie,ge=((ot-De)*Bt-(Ge-ke)*St)/(et*Bt-Je*St);Ve=De+et*ge-ce.x,Oe=ke+Je*ge-ce.y;const qe=Ve*Ve+Oe*Oe;if(qe<=2)return new le(Ve,Oe);tt=Math.sqrt(qe/2)}else{let ae=!1;et>Number.EPSILON?St>Number.EPSILON&&(ae=!0):et<-Number.EPSILON?St<-Number.EPSILON&&(ae=!0):Math.sign(Je)===Math.sign(Bt)&&(ae=!0),ae?(Ve=-Je,Oe=et,tt=Math.sqrt(Q)):(Ve=et,Oe=Je,tt=Math.sqrt(Q/2))}return new le(Ve/tt,Oe/tt)}const j=[];for(let ce=0,oe=U.length,_e=oe-1,Ve=ce+1;ce<oe;ce++,_e++,Ve++)_e===oe&&(_e=0),Ve===oe&&(Ve=0),j[ce]=k(U[ce],U[_e],U[Ve]);const W=[];let $,z=j.concat();for(let ce=0,oe=L.length;ce<oe;ce++){const _e=L[ce];$=[];for(let Ve=0,Oe=_e.length,tt=Oe-1,et=Ve+1;Ve<Oe;Ve++,tt++,et++)tt===Oe&&(tt=0),et===Oe&&(et=0),$[Ve]=k(_e[Ve],_e[tt],_e[et]);W.push($),z=z.concat($)}for(let ce=0;ce<v;ce++){const oe=ce/v,_e=A*Math.cos(oe*Math.PI/2),Ve=m*Math.sin(oe*Math.PI/2)+g;for(let Oe=0,tt=U.length;Oe<tt;Oe++){const et=J(U[Oe],j[Oe],Ve);Te(et.x,et.y,-_e)}for(let Oe=0,tt=L.length;Oe<tt;Oe++){const et=L[Oe];$=W[Oe];for(let Je=0,St=et.length;Je<St;Je++){const Bt=J(et[Je],$[Je],Ve);Te(Bt.x,Bt.y,-_e)}}}const ne=m+g;for(let ce=0;ce<Y;ce++){const oe=p?J(P[ce],z[ce],ne):P[ce];S?(B.copy(I.normals[0]).multiplyScalar(oe.x),T.copy(I.binormals[0]).multiplyScalar(oe.y),_.copy(x[0]).add(B).add(T),Te(_.x,_.y,_.z)):Te(oe.x,oe.y,0)}for(let ce=1;ce<=u;ce++)for(let oe=0;oe<Y;oe++){const _e=p?J(P[oe],z[oe],ne):P[oe];S?(B.copy(I.normals[ce]).multiplyScalar(_e.x),T.copy(I.binormals[ce]).multiplyScalar(_e.y),_.copy(x[ce]).add(B).add(T),Te(_.x,_.y,_.z)):Te(_e.x,_e.y,d/u*ce)}for(let ce=v-1;ce>=0;ce--){const oe=ce/v,_e=A*Math.cos(oe*Math.PI/2),Ve=m*Math.sin(oe*Math.PI/2)+g;for(let Oe=0,tt=U.length;Oe<tt;Oe++){const et=J(U[Oe],j[Oe],Ve);Te(et.x,et.y,d+_e)}for(let Oe=0,tt=L.length;Oe<tt;Oe++){const et=L[Oe];$=W[Oe];for(let Je=0,St=et.length;Je<St;Je++){const Bt=J(et[Je],$[Je],Ve);S?Te(Bt.x,Bt.y+x[u-1].y,x[u-1].x+_e):Te(Bt.x,Bt.y,d+_e)}}}pe(),ye();function pe(){const ce=r.length/3;if(p){let oe=0,_e=Y*oe;for(let Ve=0;Ve<ee;Ve++){const Oe=N[Ve];Pe(Oe[2]+_e,Oe[1]+_e,Oe[0]+_e)}oe=u+v*2,_e=Y*oe;for(let Ve=0;Ve<ee;Ve++){const Oe=N[Ve];Pe(Oe[0]+_e,Oe[1]+_e,Oe[2]+_e)}}else{for(let oe=0;oe<ee;oe++){const _e=N[oe];Pe(_e[2],_e[1],_e[0])}for(let oe=0;oe<ee;oe++){const _e=N[oe];Pe(_e[0]+Y*u,_e[1]+Y*u,_e[2]+Y*u)}}i.addGroup(ce,r.length/3-ce,0)}function ye(){const ce=r.length/3;let oe=0;q(U,oe),oe+=U.length;for(let _e=0,Ve=L.length;_e<Ve;_e++){const Oe=L[_e];q(Oe,oe),oe+=Oe.length}i.addGroup(ce,r.length/3-ce,1)}function q(ce,oe){let _e=ce.length;for(;--_e>=0;){const Ve=_e;let Oe=_e-1;Oe<0&&(Oe=ce.length-1);for(let tt=0,et=u+v*2;tt<et;tt++){const Je=Y*tt,St=Y*(tt+1),Bt=oe+Ve+Je,Q=oe+Oe+Je,F=oe+Oe+St,ae=oe+Ve+St;Le(Bt,Q,F,ae)}}}function Te(ce,oe,_e){l.push(ce),l.push(oe),l.push(_e)}function Pe(ce,oe,_e){Ee(ce),Ee(oe),Ee(_e);const Ve=r.length/3,Oe=y.generateTopUV(i,r,Ve-3,Ve-2,Ve-1);Be(Oe[0]),Be(Oe[1]),Be(Oe[2])}function Le(ce,oe,_e,Ve){Ee(ce),Ee(oe),Ee(Ve),Ee(oe),Ee(_e),Ee(Ve);const Oe=r.length/3,tt=y.generateSideWallUV(i,r,Oe-6,Oe-3,Oe-2,Oe-1);Be(tt[0]),Be(tt[1]),Be(tt[3]),Be(tt[1]),Be(tt[2]),Be(tt[3])}function Ee(ce){r.push(l[ce*3+0]),r.push(l[ce*3+1]),r.push(l[ce*3+2])}function Be(ce){s.push(ce.x),s.push(ce.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return LJ(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Ox[r.type]().fromJSON(r)),new _0(i,e.options)}}const DJ={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new le(s,o),new le(a,l),new le(c,u)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],d=e[i*3+2],p=e[r*3],A=e[r*3+1],m=e[r*3+2],g=e[s*3],v=e[s*3+1],C=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new le(o,1-l),new le(c,1-d),new le(p,1-m),new le(g,1-C)]:[new le(a,1-l),new le(u,1-d),new le(A,1-m),new le(v,1-C)]}};function LJ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class M0 extends Ma{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new M0(e.radius,e.detail)}}class Cf extends Ma{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Cf(e.radius,e.detail)}}class T0 extends gt{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let d=e;const p=(n-e)/r,A=new D,m=new le;for(let g=0;g<=r;g++){for(let v=0;v<=i;v++){const C=s+v/i*o;A.x=d*Math.cos(C),A.y=d*Math.sin(C),l.push(A.x,A.y,A.z),c.push(0,0,1),m.x=(A.x/n+1)/2,m.y=(A.y/n+1)/2,u.push(m.x,m.y)}d+=p}for(let g=0;g<r;g++){const v=g*(i+1);for(let C=0;C<i;C++){const y=C+v,x=y,S=y+i+1,I=y+i+2,T=y+1;a.push(x,S,T),a.push(S,I,T)}}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2))}static fromJSON(e){return new T0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class B0 extends gt{constructor(e=new Xc([new le(0,.5),new le(-.5,-.5),new le(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ye(r,3)),this.setAttribute("normal",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2));function c(u){const d=r.length/3,p=u.extractPoints(n);let A=p.shape;const m=p.holes;_o.isClockWise(A)===!1&&(A=A.reverse());for(let v=0,C=m.length;v<C;v++){const y=m[v];_o.isClockWise(y)===!0&&(m[v]=y.reverse())}const g=_o.triangulateShape(A,m);for(let v=0,C=m.length;v<C;v++){const y=m[v];A=A.concat(y)}for(let v=0,C=A.length;v<C;v++){const y=A[v];r.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let v=0,C=g.length;v<C;v++){const y=g[v],x=y[0]+d,S=y[1]+d,I=y[2]+d;i.push(x,S,I),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return FJ(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new B0(i,e.curveSegments)}}function FJ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Ef extends gt{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new D,p=new D,A=[],m=[],g=[],v=[];for(let C=0;C<=i;C++){const y=[],x=C/i;let S=0;C==0&&o==0?S=.5/n:C==i&&l==Math.PI&&(S=-.5/n);for(let I=0;I<=n;I++){const T=I/n;d.x=-e*Math.cos(r+T*s)*Math.sin(o+x*a),d.y=e*Math.cos(o+x*a),d.z=e*Math.sin(r+T*s)*Math.sin(o+x*a),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),v.push(T+S,1-x),y.push(c++)}u.push(y)}for(let C=0;C<i;C++)for(let y=0;y<n;y++){const x=u[C][y+1],S=u[C][y],I=u[C+1][y],T=u[C+1][y+1];(C!==0||o>0)&&A.push(x,S,T),(C!==i-1||l<Math.PI)&&A.push(S,I,T)}this.setIndex(A),this.setAttribute("position",new Ye(m,3)),this.setAttribute("normal",new Ye(g,3)),this.setAttribute("uv",new Ye(v,2))}static fromJSON(e){return new Ef(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class b0 extends Ma{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new b0(e.radius,e.detail)}}class R0 extends gt{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new D,d=new D,p=new D;for(let A=0;A<=i;A++)for(let m=0;m<=r;m++){const g=m/r*s,v=A/i*Math.PI*2;d.x=(e+n*Math.cos(v))*Math.cos(g),d.y=(e+n*Math.cos(v))*Math.sin(g),d.z=n*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(m/r),c.push(A/i)}for(let A=1;A<=i;A++)for(let m=1;m<=r;m++){const g=(r+1)*A+m-1,v=(r+1)*(A-1)+m-1,C=(r+1)*(A-1)+m,y=(r+1)*A+m;o.push(g,v,y),o.push(v,C,y)}this.setIndex(o),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(l,3)),this.setAttribute("uv",new Ye(c,2))}static fromJSON(e){return new R0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class P0 extends gt{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],d=new D,p=new D,A=new D,m=new D,g=new D,v=new D,C=new D;for(let x=0;x<=i;++x){const S=x/i*s*Math.PI*2;y(S,s,o,e,A),y(S+.01,s,o,e,m),v.subVectors(m,A),C.addVectors(m,A),g.crossVectors(v,C),C.crossVectors(g,v),g.normalize(),C.normalize();for(let I=0;I<=r;++I){const T=I/r*Math.PI*2,B=-n*Math.cos(T),_=n*Math.sin(T);d.x=A.x+(B*C.x+_*g.x),d.y=A.y+(B*C.y+_*g.y),d.z=A.z+(B*C.z+_*g.z),l.push(d.x,d.y,d.z),p.subVectors(d,A).normalize(),c.push(p.x,p.y,p.z),u.push(x/i),u.push(I/r)}}for(let x=1;x<=i;x++)for(let S=1;S<=r;S++){const I=(r+1)*(x-1)+(S-1),T=(r+1)*x+(S-1),B=(r+1)*x+S,_=(r+1)*(x-1)+S;a.push(I,T,_),a.push(T,B,_)}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(u,2));function y(x,S,I,T,B){const _=Math.cos(x),R=Math.sin(x),P=I/S*x,L=Math.cos(P);B.x=T*(2+L)*.5*_,B.y=T*(2+L)*R*.5,B.z=T*Math.sin(P)*.5}}static fromJSON(e){return new P0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class D0 extends gt{constructor(e=new kx(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,c=new le;let u=new D;const d=[],p=[],A=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new Ye(d,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(A,2));function g(){for(let x=0;x<n;x++)v(x);v(s===!1?n:0),y(),C()}function v(x){u=e.getPointAt(x/n,u);const S=o.normals[x],I=o.binormals[x];for(let T=0;T<=r;T++){const B=T/r*Math.PI*2,_=Math.sin(B),R=-Math.cos(B);l.x=R*S.x+_*I.x,l.y=R*S.y+_*I.y,l.z=R*S.z+_*I.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,d.push(a.x,a.y,a.z)}}function C(){for(let x=1;x<=n;x++)for(let S=1;S<=r;S++){const I=(r+1)*(x-1)+(S-1),T=(r+1)*x+(S-1),B=(r+1)*x+S,_=(r+1)*(x-1)+S;m.push(I,T,_),m.push(T,B,_)}}function y(){for(let x=0;x<=n;x++)for(let S=0;S<=r;S++)c.x=x/n,c.y=S/r,A.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new D0(new Ox[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class QR extends gt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,A=d.count;for(let m=p,g=p+A;m<g;m+=3)for(let v=0;v<3;v++){const C=a.getX(m+v),y=a.getX(m+(v+1)%3);r.fromBufferAttribute(o,C),s.fromBufferAttribute(o,y),lw(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),lw(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ye(n,3))}}}function lw(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var cw=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:E0,CircleGeometry:S0,ConeGeometry:w0,CylinderGeometry:pu,DodecahedronGeometry:I0,EdgesGeometry:NR,ExtrudeGeometry:_0,IcosahedronGeometry:M0,LatheGeometry:xf,OctahedronGeometry:Cf,PlaneGeometry:du,PolyhedronGeometry:Ma,RingGeometry:T0,ShapeGeometry:B0,SphereGeometry:Ef,TetrahedronGeometry:b0,TorusGeometry:R0,TorusKnotGeometry:P0,TubeGeometry:D0,WireframeGeometry:QR});class HR extends qn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Re(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ep extends Jt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class L0 extends qn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lo extends L0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Re(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Re(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Re(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class zR extends qn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Re(16777215),this.specular=new Re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=A0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VR extends qn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class F0 extends qn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class WR extends qn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=A0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JR extends qn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gl,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jR extends Ui{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ss(t,e,n){return Ux(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Gc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Ux(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KR(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function f8(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function Gx(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function kJ(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let A=0;A<c.times.length;++A){const m=c.times[A]*r;if(!(m<n||m>=i)){d.push(c.times[A]);for(let g=0;g<u;++g)p.push(c.values[A*u+g])}}d.length!==0&&(c.times=Gc(d,c.times.constructor),c.values=Gc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function NJ(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(C){return C.name===a.name&&C.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const A=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=A/3);const m=a.times.length-1;let g;if(s<=a.times[0]){const C=u,y=d-u;g=ss(a.values,C,y)}else if(s>=a.times[m]){const C=m*d+u,y=C+d-u;g=ss(a.values,C,y)}else{const C=a.createInterpolant(),y=u,x=d-u;C.evaluate(s),g=ss(C.resultBuffer,y,x)}l==="quaternion"&&new si().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let C=0;C<v;++C){const y=C*A+p;if(l==="quaternion")si.multiplyQuaternionsFlat(c.values,y,g,0,c.values,y);else{const x=A-p*2;for(let S=0;S<x;++S)c.values[y+S]-=g[S]}}}return t.blendMode=gx,t}var OJ=Object.freeze({__proto__:null,arraySlice:ss,convertArray:Gc,flattenJSON:Gx,getKeyframeOrder:KR,isTypedArray:Ux,makeClipAdditive:NJ,sortedArray:f8,subclip:kJ});class Sf{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class YR extends Sf{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nc,endingEnd:Nc}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Oc:s=e,a=2*n-i;break;case Qp:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Oc:o=e,l=2*i-n;break;case Qp:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,A=this._weightNext,m=(i-n)/(r-n),g=m*m,v=g*m,C=-p*v+2*p*g-p*m,y=(1+p)*v+(-1.5-2*p)*g+(-.5+p)*m+1,x=(-1-A)*v+(1.5+A)*g+.5*m,S=A*v-A*g;for(let I=0;I!==a;++I)s[I]=C*o[u+I]+y*o[c+I]+x*o[l+I]+S*o[d+I];return s}}class Qx extends Sf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-n)/(r-n),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class XR extends Sf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zs{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gc(n,this.TimeBufferType),this.values=Gc(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Gc(e.times,Array),values:Gc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new XR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Qx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new YR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Xh:n=this.InterpolantFactoryMethodDiscrete;break;case nu:n=this.InterpolantFactoryMethodLinear;break;case Qm:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xh;case this.InterpolantFactoryMethodLinear:return nu;case this.InterpolantFactoryMethodSmooth:return Qm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ss(i,s,o),this.values=ss(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Ux(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ss(this.times),n=ss(this.values),i=this.getValueSize(),r=this.getInterpolation()===Qm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,A=d+i;for(let m=0;m!==i;++m){const g=n[d+m];if(g!==n[p+m]||g!==n[A+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let A=0;A!==i;++A)n[p+A]=n[d+A]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=ss(e,0,o),this.values=ss(n,0,o*i)):(this.times=e,this.values=n),this}clone(){const e=ss(this.times,0),n=ss(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Zs.prototype.TimeBufferType=Float32Array;Zs.prototype.ValueBufferType=Float32Array;Zs.prototype.DefaultInterpolation=nu;class Au extends Zs{}Au.prototype.ValueTypeName="bool";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=Xh;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class Hx extends Zs{}Hx.prototype.ValueTypeName="color";class ef extends Zs{}ef.prototype.ValueTypeName="number";class qR extends Sf{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let u=c+a;c!==u;c+=4)si.slerpFlat(s,0,o,c-a,o,c,l);return s}}class bl extends Zs{InterpolantFactoryMethodLinear(e){return new qR(this.times,this.values,this.getValueSize(),e)}}bl.prototype.ValueTypeName="quaternion";bl.prototype.DefaultInterpolation=nu;bl.prototype.InterpolantFactoryMethodSmooth=void 0;class mu extends Zs{}mu.prototype.ValueTypeName="string";mu.prototype.ValueBufferType=Array;mu.prototype.DefaultInterpolation=Xh;mu.prototype.InterpolantFactoryMethodLinear=void 0;mu.prototype.InterpolantFactoryMethodSmooth=void 0;class tf extends Zs{}tf.prototype.ValueTypeName="vector";class nf{constructor(e,n=-1,i,r=P2){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Rr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(GJ(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(Zs.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=KR(l);l=f8(l,1,u),c=f8(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ef(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,A,m,g){if(A.length!==0){const v=[],C=[];Gx(A,v,C,m),v.length!==0&&g.push(new d(p,v,C))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const A={};let m;for(m=0;m<p.length;m++)if(p[m].morphTargets)for(let g=0;g<p[m].morphTargets.length;g++)A[p[m].morphTargets[g]]=-1;for(const g in A){const v=[],C=[];for(let y=0;y!==p[m].morphTargets.length;++y){const x=p[m];v.push(x.time),C.push(x.morphTarget===g?1:0)}r.push(new ef(".morphTargetInfluence["+g+"]",v,C))}l=A.length*o}else{const A=".bones["+n[d].name+"]";i(tf,A+".position",p,"pos",r),i(bl,A+".quaternion",p,"rot",r),i(tf,A+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function UJ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ef;case"vector":case"vector2":case"vector3":case"vector4":return tf;case"color":return Hx;case"quaternion":return bl;case"bool":case"boolean":return Au;case"string":return mu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function GJ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=UJ(t.type);if(t.times===void 0){const n=[],i=[];Gx(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const su={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class zx{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const A=c[d],m=c[d+1];if(A.global&&(A.lastIndex=0),A.test(u))return m}return null}}}const Eh=new zx;class Mi{constructor(e){this.manager=e!==void 0?e:Eh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ia={};class QJ extends Error{constructor(e,n){super(e),this.response=n}}class oi extends Mi{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=su.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ia[e]!==void 0){ia[e].push({onLoad:n,onProgress:i,onError:r});return}ia[e]=[],ia[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ia[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),A=p?parseInt(p):0,m=A!==0;let g=0;const v=new ReadableStream({start(C){y();function y(){d.read().then(({done:x,value:S})=>{if(x)C.close();else{g+=S.byteLength;const I=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:A});for(let T=0,B=u.length;T<B;T++){const _=u[T];_.onProgress&&_.onProgress(I)}C.enqueue(S),y()}})}}});return new Response(v)}else throw new QJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,A=new TextDecoder(p);return c.arrayBuffer().then(m=>A.decode(m))}}}).then(c=>{su.add(e,c);const u=ia[e];delete ia[e];for(let d=0,p=u.length;d<p;d++){const A=u[d];A.onLoad&&A.onLoad(c)}}).catch(c=>{const u=ia[e];if(u===void 0)throw this.manager.itemError(e),c;delete ia[e];for(let d=0,p=u.length;d<p;d++){const A=u[d];A.onError&&A.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class HJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new oi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=nf.parse(e[i]);n.push(r)}return n}}class zJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new iu,l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const A=s.parse(p,!0);o[d]={width:A.width,height:A.height,format:A.format,mipmaps:A.mipmaps},c+=1,c===6&&(A.mipmapCount===1&&(a.minFilter=sn),a.image=o,a.format=A.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const A=p.mipmaps.length/p.mipmapCount;for(let m=0;m<A;m++){o[m]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[m].mipmaps.push(p.mipmaps[m*p.mipmapCount+g]),o[m].format=p.format,o[m].width=p.width,o[m].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=sn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class Yp extends Mi{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=su.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Vp("img");function l(){u(),su.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class VJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=new v0,o=new Yp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class WJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Io,a=new oi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:wn,o.wrapT=c.wrapT!==void 0?c.wrapT:wn,o.magFilter=c.magFilter!==void 0?c.magFilter:sn,o.minFilter=c.minFilter!==void 0?c.minFilter:sn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ys),c.mipmapCount===1&&(o.minFilter=sn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},i,r),o}}class k0 extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=new gn,o=new Yp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class zl extends Qt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Re(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class ZR extends zl{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Re(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Uv=new Ke,uw=new D,hw=new D;class Vx{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new le(512,512),this.map=null,this.mapPass=null,this.matrix=new Ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new F2,this._frameExtents=new le(1,1),this._viewportCount=1,this._viewports=[new Gt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;uw.setFromMatrixPosition(e.matrixWorld),n.position.copy(uw),hw.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hw),n.updateMatrixWorld(),Uv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Uv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class JJ extends Vx{constructor(){super(new on(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=zp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Wx extends zl{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new JJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const fw=new Ke,Ad=new D,Gv=new D;class jJ extends Vx{constructor(){super(new on(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new le(4,2),this._viewportCount=6,this._viewports=[new Gt(2,1,1,1),new Gt(0,1,1,1),new Gt(3,1,1,1),new Gt(1,1,1,1),new Gt(3,0,1,1),new Gt(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ad.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ad),Gv.copy(i.position),Gv.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(Gv),i.updateMatrixWorld(),r.makeTranslation(-Ad.x,-Ad.y,-Ad.z),fw.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fw)}}class Jx extends zl{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new jJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class KJ extends Vx{constructor(){super(new fs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jx extends zl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qt.DEFAULT_UP),this.updateMatrix(),this.target=new Qt,this.shadow=new KJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $R extends zl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class eP extends zl{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class tP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class W2 extends zl{constructor(e=new tP,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class J2 extends Mi{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=J2.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Re().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Re().setHex(o.value);break;case"v2":r.uniforms[s].value=new le().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Gt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Yi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new Ke().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new le().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new le().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:HR,SpriteMaterial:Bx,RawShaderMaterial:ep,ShaderMaterial:Jt,PointsMaterial:C0,MeshPhysicalMaterial:Lo,MeshStandardMaterial:L0,MeshPhongMaterial:zR,MeshToonMaterial:VR,MeshNormalMaterial:F0,MeshLambertMaterial:WR,MeshDepthMaterial:N2,MeshDistanceMaterial:Mx,MeshBasicMaterial:Si,MeshMatcapMaterial:JR,LineDashedMaterial:jR,LineBasicMaterial:Ui,Material:qn};return new n[e]}}class Mo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class nP extends gt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iP extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(A,m){if(n[m]!==void 0)return n[m];const v=A.interleavedBuffers[m],C=s(A,v.buffer),y=yh(v.type,C),x=new y0(y,v.stride);return x.uuid=v.uuid,n[m]=x,x}function s(A,m){if(i[m]!==void 0)return i[m];const v=A.arrayBuffers[m],C=new Uint32Array(v).buffer;return i[m]=C,C}const o=e.isInstancedBufferGeometry?new nP:new gt,a=e.data.index;if(a!==void 0){const A=yh(a.type,a.array);o.setIndex(new qt(A,1))}const l=e.data.attributes;for(const A in l){const m=l[A];let g;if(m.isInterleavedBufferAttribute){const v=r(e.data,m.data);g=new Bl(v,m.itemSize,m.offset,m.normalized)}else{const v=yh(m.type,m.array),C=m.isInstancedBufferAttribute?$h:qt;g=new C(v,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),m.updateRange!==void 0&&(g.updateRange.offset=m.updateRange.offset,g.updateRange.count=m.updateRange.count),o.setAttribute(A,g)}const c=e.data.morphAttributes;if(c)for(const A in c){const m=c[A],g=[];for(let v=0,C=m.length;v<C;v++){const y=m[v];let x;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);x=new Bl(S,y.itemSize,y.offset,y.normalized)}else{const S=yh(y.type,y.array);x=new qt(S,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),g.push(x)}o.morphAttributes[A]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let A=0,m=d.length;A!==m;++A){const g=d[A];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const A=new D;p.center!==void 0&&A.fromArray(p.center),o.boundingSphere=new Hl(A,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class YJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new oi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Mo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new oi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Xc().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new x0().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new iP;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in cw?a=cw[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new J2;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=nf.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:yh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zx(n);s=new Yp(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const A=[];for(let m=0,g=p.length;m<g;m++){const v=p[m],C=a(v);C!==null&&(C instanceof HTMLImageElement?A.push(C):A.push(new Io(C.data,C.width,C.height)))}r[d.uuid]=new Uc(A)}else{const A=a(d.url);r[d.uuid]=new Uc(A)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:yh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Yp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const A=c[d],m=await s(A);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new Io(m.data,m.width,m.height)))}i[l.uuid]=new Uc(u)}else{const u=await s(l.url);i[l.uuid]=new Uc(u)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new v0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Io:u=new gn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,XJ)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],dw),u.wrapT=i(a.wrap[1],dw)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,pw)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,pw)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const A=[];for(let m=0,g=p.length;m<g;m++){const v=p[m];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),A.push(i[v])}return A}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let u,d;switch(e.type){case"Scene":o=new Rg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Re(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new U2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new O2(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new on(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new fs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $R(e.color,e.intensity);break;case"DirectionalLight":o=new jx(e.color,e.intensity);break;case"PointLight":o=new Jx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new eP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Wx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new ZR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new W2().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new bx(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new $t(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,A=e.instanceMatrix,m=e.instanceColor;o=new Rx(u,d,p),o.instanceMatrix=new $h(new Float32Array(A.array),16),m!==void 0&&(o.instanceColor=new $h(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new RR;break;case"Line":o=new Ea(a(e.geometry),l(e.material));break;case"LineLoop":o=new Px(a(e.geometry),l(e.material));break;case"LineSegments":o=new Xs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Q2(a(e.geometry),l(e.material));break;case"Sprite":o=new bR(l(e.material));break;case"Group":o=new ha;break;case"Bone":o=new G2;break;default:o=new Qt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let A=0;A<p.length;A++)o.add(this.parseObject(p[A],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let A=0;A<p.length;A++){const m=p[A];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let A=0;A<p.length;A++){const m=p[A],g=o.getObjectByProperty("uuid",m.object);g!==void 0&&o.addLevel(g,m.distance,m.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const XJ={UVMapping:B2,CubeReflectionMapping:Il,CubeRefractionMapping:_l,EquirectangularReflectionMapping:Dp,EquirectangularRefractionMapping:Lp,CubeUVReflectionMapping:mf},dw={RepeatWrapping:vs,ClampToEdgeWrapping:wn,MirroredRepeatWrapping:Yh},pw={NearestFilter:mt,NearestMipmapNearestFilter:Fp,NearestMipmapLinearFilter:Dh,LinearFilter:sn,LinearMipmapNearestFilter:b2,LinearMipmapLinearFilter:ys};class rP extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=su.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){su.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let qA;class Kx{static getContext(){return qA===void 0&&(qA=new(window.AudioContext||window.webkitAudioContext)),qA}static setContext(e){qA=e}}class qJ extends Mi{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new oi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);Kx.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class ZJ extends W2{constructor(e,n,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Re().set(e),s=new Re().set(n),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class $J extends W2{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const i=new Re().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Aw=new Ke,mw=new Ke,cc=new Ke;class ej{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new on,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new on,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,cc.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Jc*n.fov*.5)/n.zoom;let a,l;mw.elements[12]=-r,Aw.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,cc.elements[0]=2*n.near/(l-a),cc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(cc),a=-o*n.aspect-s,l=o*n.aspect-s,cc.elements[0]=2*n.near/(l-a),cc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(cc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Aw)}}class j2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=gw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=gw();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function gw(){return(typeof performance>"u"?Date:performance).now()}const uc=new D,vw=new si,tj=new D,hc=new D;class nj extends Qt{constructor(){super(),this.type="AudioListener",this.context=Kx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new j2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(uc,vw,tj),hc.set(0,0,-1).applyQuaternion(vw),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(uc.x,r),n.positionY.linearRampToValueAtTime(uc.y,r),n.positionZ.linearRampToValueAtTime(uc.z,r),n.forwardX.linearRampToValueAtTime(hc.x,r),n.forwardY.linearRampToValueAtTime(hc.y,r),n.forwardZ.linearRampToValueAtTime(hc.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(uc.x,uc.y,uc.z),n.setOrientation(hc.x,hc.y,hc.z,i.x,i.y,i.z)}}class sP extends Qt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const fc=new D,yw=new si,ij=new D,dc=new D;class rj extends sP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(fc,yw,ij),dc.set(0,0,1).applyQuaternion(yw);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(fc.x,i),n.positionY.linearRampToValueAtTime(fc.y,i),n.positionZ.linearRampToValueAtTime(fc.z,i),n.orientationX.linearRampToValueAtTime(dc.x,i),n.orientationY.linearRampToValueAtTime(dc.y,i),n.orientationZ.linearRampToValueAtTime(dc.z,i)}else n.setPosition(fc.x,fc.y,fc.z),n.setOrientation(dc.x,dc.y,dc.z)}}class sj{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class oP{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){si.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;si.multiplyQuaternionsFlat(e,o,e,n,e,i),si.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const Yx="\\[\\]\\.:\\/",oj=new RegExp("["+Yx+"]","g"),Xx="[^"+Yx+"]",aj="[^"+Yx.replace("\\.","")+"]",lj=/((?:WC+[\/:])*)/.source.replace("WC",Xx),cj=/(WCOD+)?/.source.replace("WCOD",aj),uj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Xx),hj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Xx),fj=new RegExp("^"+lj+cj+uj+hj+"$"),dj=["material","materials","bones","map"];class pj{constructor(e,n,i){const r=i||zt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class zt{constructor(e,n,i){this.path=n,this.parsedPath=i||zt.parseTrackName(n),this.node=zt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new zt.Composite(e,n,i):new zt(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(oj,"")}static parseTrackName(e){const n=fj.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);dj.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=zt.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zt.Composite=pj;zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zt.prototype.GetterByBindingType=[zt.prototype._getValue_direct,zt.prototype._getValue_array,zt.prototype._getValue_arrayElement,zt.prototype._getValue_toArray];zt.prototype.SetterByBindingTypeAndVersioning=[[zt.prototype._setValue_direct,zt.prototype._setValue_direct_setNeedsUpdate,zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_array,zt.prototype._setValue_array_setNeedsUpdate,zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_arrayElement,zt.prototype._setValue_arrayElement_setNeedsUpdate,zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_fromArray,zt.prototype._setValue_fromArray_setNeedsUpdate,zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Aj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Rr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],A=p.uuid;let m=n[A];if(m===void 0){m=l++,n[A]=m,e.push(p);for(let g=0,v=o;g!==v;++g)s[g].push(new zt(p,i[g],r[g]))}else if(m<c){a=e[m];const g=--c,v=e[g];n[v.uuid]=m,e[m]=v,n[A]=g,e[g]=p;for(let C=0,y=o;C!==y;++C){const x=s[C],S=x[g];let I=x[m];x[m]=S,I===void 0&&(I=new zt(p,i[C],r[C])),x[g]=I}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];n[p.uuid]=u,e[u]=p,n[c]=d,e[d]=l;for(let A=0,m=r;A!==m;++A){const g=i[A],v=g[d],C=g[u];g[u]=v,g[d]=C}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const p=--s,A=e[p],m=--o,g=e[m];n[A.uuid]=d,e[d]=A,n[g.uuid]=p,e[p]=g,e.pop();for(let v=0,C=r;v!==C;++v){const y=i[v],x=y[p],S=y[m];y[d]=x,y[p]=S,y.pop()}}else{const p=--o,A=e[p];p>0&&(n[A.uuid]=d),e[d]=A,e.pop();for(let m=0,g=r;m!==g;++m){const v=i[m];v[d]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(d);for(let p=u,A=l.length;p!==A;++p){const m=l[p];d[p]=new zt(m,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class mj{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Nc,endingEnd:Nc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case gx:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case P2:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===fR;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===uR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Oc,r.endingEnd=Oc):(e?r.endingStart=this.zeroSlopeAtStart?Oc:Nc:r.endingStart=Qp,n?r.endingEnd=this.zeroSlopeAtEnd?Oc:Nc:r.endingEnd=Qp)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const gj=new Float32Array(1);class vj extends Do{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=r[d],A=p.name;let m=u[A];if(m!==void 0)++m.referenceCount,o[d]=m;else{if(m=o[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,A));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;m=new oP(zt.create(i,A,g),p.ValueTypeName,p.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,A),o[d]=m}a[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new Qx(new Float32Array(2),new Float32Array(2),1,gj),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?nf.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=P2),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new mj(this,o,n,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?nf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class qx{constructor(e){this.value=e}clone(){return new qx(this.value.clone===void 0?this.value:this.value.clone())}}let yj=0;class xj extends Do{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yj++}),this.name="",this.usage=Hp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++)this.uniforms.push(n[i].clone());return this}clone(){return new this.constructor().copy(this)}}class Cj extends y0{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Ej{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class aP{constructor(e,n,i=0,r=1/0){this.ray=new m0(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Yc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return d8(e,this,i,n),i.sort(xw),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)d8(e[r],this,i,n);return i.sort(xw),i}}function xw(t,e){return t.distance-e.distance}function d8(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)d8(r[s],e,n,!0)}}class p8{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Vn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Sj{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Cw=new le;class lP{constructor(e=new le(1/0,1/0),n=new le(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Cw.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Cw.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ew=new D,ZA=new D;class wj{constructor(e=new D,n=new D){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Ew.subVectors(e,this.start),ZA.subVectors(this.end,this.start);const i=ZA.dot(ZA);let s=ZA.dot(Ew)/i;return n&&(s=Vn(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Sw=new D;class Ij extends Qt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new gt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Ye(r,3));const s=new Ui({fog:!1,toneMapped:!1});this.cone=new Xs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Sw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Sw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wa=new D,$A=new Ke,Qv=new Ke;class _j extends Xs{constructor(e){const n=cP(e),i=new gt,r=[],s=[],o=new Re(0,0,1),a=new Re(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ye(r,3)),i.setAttribute("color",new Ye(s,3));const l=new Ui({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");Qv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&($A.multiplyMatrices(Qv,a.matrixWorld),Wa.setFromMatrixPosition($A),r.setXYZ(o,Wa.x,Wa.y,Wa.z),$A.multiplyMatrices(Qv,a.parent.matrixWorld),Wa.setFromMatrixPosition($A),r.setXYZ(o+1,Wa.x,Wa.y,Wa.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function cP(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,cP(t.children[n]));return e}class Mj extends $t{constructor(e,n,i){const r=new Ef(n,4,2),s=new Si({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Tj=new D,ww=new Re,Iw=new Re;class Bj extends Qt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Cf(n);r.rotateY(Math.PI*.5),this.material=new Si({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new qt(o,3)),this.add(new $t(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");ww.copy(this.light.color),Iw.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?ww:Iw;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Tj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class bj extends Xs{constructor(e=10,n=10,i=4473924,r=8947848){i=new Re(i),r=new Re(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,A=0,m=-a;p<=n;p++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=p===s?i:r;g.toArray(c,A),A+=3,g.toArray(c,A),A+=3,g.toArray(c,A),A+=3,g.toArray(c,A),A+=3}const u=new gt;u.setAttribute("position",new Ye(l,3)),u.setAttribute("color",new Ye(c,3));const d=new Ui({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rj extends Xs{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Re(s),o=new Re(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),A=Math.sin(p)*e,m=Math.cos(p)*e;a.push(0,0,0),a.push(A,0,m);const g=d&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<i;d++){const p=d&1?s:o,A=e-e/i*d;for(let m=0;m<r;m++){let g=m/r*(Math.PI*2),v=Math.sin(g)*A,C=Math.cos(g)*A;a.push(v,0,C),l.push(p.r,p.g,p.b),g=(m+1)/r*(Math.PI*2),v=Math.sin(g)*A,C=Math.cos(g)*A,a.push(v,0,C),l.push(p.r,p.g,p.b)}}const c=new gt;c.setAttribute("position",new Ye(a,3)),c.setAttribute("color",new Ye(l,3));const u=new Ui({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _w=new D,em=new D,Mw=new D;class Pj extends Qt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new gt;r.setAttribute("position",new Ye([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ui({fog:!1,toneMapped:!1});this.lightPlane=new Ea(r,s),this.add(this.lightPlane),r=new gt,r.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Ea(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_w.setFromMatrixPosition(this.light.matrixWorld),em.setFromMatrixPosition(this.light.target.matrixWorld),Mw.subVectors(em,_w),this.lightPlane.lookAt(em),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(em),this.targetLine.scale.z=Mw.length()}}const tm=new D,Ln=new g0;class Dj extends Xs{constructor(e){const n=new gt,i=new Ui({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,g){l(m),l(g)}function l(m){r.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(r.length/3-1)}n.setAttribute("position",new Ye(r,3)),n.setAttribute("color",new Ye(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Re(16755200),u=new Re(16711680),d=new Re(43775),p=new Re(16777215),A=new Re(3355443);this.setColors(c,u,d,p,A)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Ln.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Hn("c",n,e,Ln,0,0,-1),Hn("t",n,e,Ln,0,0,1),Hn("n1",n,e,Ln,-i,-r,-1),Hn("n2",n,e,Ln,i,-r,-1),Hn("n3",n,e,Ln,-i,r,-1),Hn("n4",n,e,Ln,i,r,-1),Hn("f1",n,e,Ln,-i,-r,1),Hn("f2",n,e,Ln,i,-r,1),Hn("f3",n,e,Ln,-i,r,1),Hn("f4",n,e,Ln,i,r,1),Hn("u1",n,e,Ln,i*.7,r*1.1,-1),Hn("u2",n,e,Ln,-i*.7,r*1.1,-1),Hn("u3",n,e,Ln,0,r*2,-1),Hn("cf1",n,e,Ln,-i,0,1),Hn("cf2",n,e,Ln,i,0,1),Hn("cf3",n,e,Ln,0,-r,1),Hn("cf4",n,e,Ln,0,r,1),Hn("cn1",n,e,Ln,-i,0,-1),Hn("cn2",n,e,Ln,i,0,-1),Hn("cn3",n,e,Ln,0,-r,-1),Hn("cn4",n,e,Ln,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hn(t,e,n,i,r,s,o){tm.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],tm.x,tm.y,tm.z)}}const nm=new Ql;class Lj extends Xs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new gt;s.setIndex(new qt(i,1)),s.setAttribute("position",new qt(r,3)),super(s,new Ui({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&nm.setFromObject(this.object),nm.isEmpty())return;const n=nm.min,i=nm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fj extends Xs{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gt;s.setIndex(new qt(i,1)),s.setAttribute("position",new Ye(r,3)),super(s,new Ui({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class kj extends Ea{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new gt;o.setAttribute("position",new Ye(s,3)),o.computeBoundingSphere(),super(o,new Ui({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gt;l.setAttribute("position",new Ye(a,3)),l.computeBoundingSphere(),this.add(new $t(l,new Si({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Tw=new D;let im,Hv;class Nj extends Qt{constructor(e=new D(0,0,1),n=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",im===void 0&&(im=new gt,im.setAttribute("position",new Ye([0,0,0,0,1,0],3)),Hv=new pu(0,.5,1,5,1),Hv.translate(0,-.5,0)),this.position.copy(n),this.line=new Ea(im,new Ui({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $t(Hv,new Si({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Tw.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Tw,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Oj extends Xs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new gt;r.setAttribute("position",new Ye(n,3)),r.setAttribute("color",new Ye(i,3));const s=new Ui({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Re,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uP{constructor(){this.type="ShapePath",this.color=new Re,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Wp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(C){const y=[];for(let x=0,S=C.length;x<S;x++){const I=C[x],T=new Xc;T.curves=I.curves,y.push(T)}return y}function i(C,y){const x=y.length;let S=!1;for(let I=x-1,T=0;T<x;I=T++){let B=y[I],_=y[T],R=_.x-B.x,P=_.y-B.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(B=y[T],R=-R,_=y[I],P=-P),C.y<B.y||C.y>_.y)continue;if(C.y===B.y){if(C.x===B.x)return!0}else{const L=P*(C.x-B.x)-R*(C.y-B.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(C.y!==B.y)continue;if(_.x<=C.x&&C.x<=B.x||B.x<=C.x&&C.x<=_.x)return!0}}return S}const r=_o.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Xc,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const d=[],p=[];let A=[],m=0,g;p[m]=void 0,A[m]=[];for(let C=0,y=s.length;C<y;C++)a=s[C],g=a.getPoints(),o=r(g),o=e?!o:o,o?(!u&&p[m]&&m++,p[m]={s:new Xc,p:g},p[m].s.curves=a.curves,u&&m++,A[m]=[]):A[m].push({h:a,p:g[0]});if(!p[0])return n(s);if(p.length>1){let C=!1,y=0;for(let x=0,S=p.length;x<S;x++)d[x]=[];for(let x=0,S=p.length;x<S;x++){const I=A[x];for(let T=0;T<I.length;T++){const B=I[T];let _=!0;for(let R=0;R<p.length;R++)i(B.p,p[R].p)&&(x!==R&&y++,_?(_=!1,d[R].push(B)):C=!0);_&&d[x].push(B)}}y>0&&C===!1&&(A=d)}let v;for(let C=0,y=p.length;C<y;C++){l=p[C].s,c.push(l),v=A[C];for(let x=0,S=v.length;x<S;x++)l.holes.push(v[x].h)}return c}}const aa=Uj();function Uj(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Gj(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Vn(t,-65504,65504),aa.floatView[0]=t;const e=aa.uint32View[0],n=e>>23&511;return aa.baseTable[n]+((e&8388607)>>aa.shiftTable[n])}function Qj(t){const e=t>>10;return aa.uint32View[0]=aa.mantissaTable[aa.offsetTable[e]+(t&1023)]+aa.exponentTable[e],aa.floatView[0]}var Hj=Object.freeze({__proto__:null,fromHalfFloat:Qj,toHalfFloat:Gj});class zj extends _a{constructor(e,n,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,i,r,s,o)}}class Vj extends E0{constructor(e,n,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,i,r)}}class Wj extends S0{constructor(e,n,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,i,r)}}class Jj extends w0{constructor(e,n,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,i,r,s,o,a)}}class jj extends pu{constructor(e,n,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,i,r,s,o,a,l)}}class Kj extends I0{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class Yj extends _0{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Xj extends M0{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class qj extends xf{constructor(e,n,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,i,r)}}class Zj extends Cf{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class $j extends du{constructor(e,n,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,i,r)}}class eK extends Ma{constructor(e,n,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,i,r)}}class tK extends T0{constructor(e,n,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,i,r,s,o)}}class nK extends B0{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class iK extends Ef{constructor(e,n,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,i,r,s,o,a)}}class rK extends b0{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class sK extends R0{constructor(e,n,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,i,r,s)}}class oK extends P0{constructor(e,n,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,i,r,s,o)}}class aK extends D0{constructor(e,n,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ys}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ys);const lK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Ax,AddEquation:_r,AddOperation:Kb,AdditiveAnimationBlendMode:gx,AdditiveBlending:Bp,AlphaFormat:rR,AlwaysDepth:Qb,AlwaysStencilFunc:mR,AmbientLight:$R,AmbientLightProbe:$J,AnimationClip:nf,AnimationLoader:HJ,AnimationMixer:vj,AnimationObjectGroup:Aj,AnimationUtils:OJ,ArcCurve:PR,ArrayCamera:MR,ArrowHelper:Nj,Audio:sP,AudioAnalyser:sj,AudioContext:Kx,AudioListener:nj,AudioLoader:qJ,AxesHelper:Oj,BackSide:qi,BasicDepthPacking:pR,BasicShadowMap:Rb,Bone:G2,BooleanKeyframeTrack:Au,Box2:lP,Box3:Ql,Box3Helper:Fj,BoxBufferGeometry:zj,BoxGeometry:_a,BoxHelper:Lj,BufferAttribute:qt,BufferGeometry:gt,BufferGeometryLoader:iP,ByteType:$b,Cache:su,Camera:g0,CameraHelper:Dj,CanvasTexture:lJ,CapsuleBufferGeometry:Vj,CapsuleGeometry:E0,CatmullRomCurve3:DR,CineonToneMapping:qb,CircleBufferGeometry:Wj,CircleGeometry:S0,ClampToEdgeWrapping:wn,Clock:j2,Color:Re,ColorKeyframeTrack:Hx,ColorManagement:Fi,CompressedArrayTexture:aJ,CompressedTexture:iu,CompressedTextureLoader:zJ,ConeBufferGeometry:Jj,ConeGeometry:w0,CubeCamera:wx,CubeReflectionMapping:Il,CubeRefractionMapping:_l,CubeTexture:v0,CubeTextureLoader:VJ,CubeUVReflectionMapping:mf,CubicBezierCurve:Lx,CubicBezierCurve3:LR,CubicInterpolant:YR,CullFaceBack:ky,CullFaceFront:bb,CullFaceFrontBack:pG,CullFaceNone:Bb,Curve:qs,CurvePath:kR,CustomBlending:bp,CustomToneMapping:Zb,CylinderBufferGeometry:jj,CylinderGeometry:pu,Cylindrical:Sj,Data3DTexture:Ex,DataArrayTexture:D2,DataTexture:Io,DataTextureLoader:WJ,DataUtils:Hj,DecrementStencilOp:wG,DecrementWrapStencilOp:_G,DefaultLoadingManager:Eh,DepthFormat:xl,DepthStencilFormat:Ml,DepthTexture:yf,DirectionalLight:jx,DirectionalLightHelper:Pj,DiscreteInterpolant:XR,DodecahedronBufferGeometry:Kj,DodecahedronGeometry:I0,DoubleSide:Os,DstAlphaFactor:M2,DstColorFactor:T2,DynamicCopyUsage:GG,DynamicDrawUsage:wo,DynamicReadUsage:NG,EdgesGeometry:NR,EllipseCurve:H2,EqualDepth:zb,EqualStencilFunc:bG,EquirectangularReflectionMapping:Dp,EquirectangularRefractionMapping:Lp,Euler:fu,EventDispatcher:Do,ExtrudeBufferGeometry:Yj,ExtrudeGeometry:_0,FileLoader:oi,Float16BufferAttribute:xQ,Float32BufferAttribute:Ye,Float64BufferAttribute:CQ,FloatType:ur,Fog:U2,FogExp2:O2,FramebufferTexture:oJ,FrontSide:Po,Frustum:F2,GLBufferAttribute:Ej,GLSL1:HG,GLSL3:s8,GreaterDepth:Wb,GreaterEqualDepth:Vb,GreaterEqualStencilFunc:LG,GreaterStencilFunc:PG,GridHelper:bj,Group:ha,HalfFloatType:Wn,HemisphereLight:ZR,HemisphereLightHelper:Bj,HemisphereLightProbe:ZJ,IcosahedronBufferGeometry:Xj,IcosahedronGeometry:M0,ImageBitmapLoader:rP,ImageLoader:Yp,ImageUtils:Cx,IncrementStencilOp:SG,IncrementWrapStencilOp:IG,InstancedBufferAttribute:$h,InstancedBufferGeometry:nP,InstancedInterleavedBuffer:Cj,InstancedMesh:Rx,Int16BufferAttribute:vQ,Int32BufferAttribute:yQ,Int8BufferAttribute:AQ,IntType:tR,InterleavedBuffer:y0,InterleavedBufferAttribute:Bl,Interpolant:Sf,InterpolateDiscrete:Xh,InterpolateLinear:nu,InterpolateSmooth:Qm,InvertStencilOp:MG,KeepStencilOp:Hm,KeyframeTrack:Zs,LOD:RR,LatheBufferGeometry:qj,LatheGeometry:xf,Layers:Yc,LessDepth:Hb,LessEqualDepth:Mg,LessEqualStencilFunc:RG,LessStencilFunc:BG,Light:zl,LightProbe:W2,Line:Ea,Line3:wj,LineBasicMaterial:Ui,LineCurve:z2,LineCurve3:FR,LineDashedMaterial:jR,LineLoop:Px,LineSegments:Xs,LinearEncoding:Tl,LinearFilter:sn,LinearInterpolant:Qx,LinearMipMapLinearFilter:yG,LinearMipMapNearestFilter:vG,LinearMipmapLinearFilter:ys,LinearMipmapNearestFilter:b2,LinearSRGBColorSpace:qh,LinearToneMapping:Yb,Loader:Mi,LoaderUtils:Mo,LoadingManager:zx,LoopOnce:uR,LoopPingPong:fR,LoopRepeat:hR,LuminanceAlphaFormat:sR,LuminanceFormat:mx,MOUSE:xc,Material:qn,MaterialLoader:J2,MathUtils:jc,Matrix3:Yi,Matrix4:Ke,MaxEquation:Gy,Mesh:$t,MeshBasicMaterial:Si,MeshDepthMaterial:N2,MeshDistanceMaterial:Mx,MeshLambertMaterial:WR,MeshMatcapMaterial:JR,MeshNormalMaterial:F0,MeshPhongMaterial:zR,MeshPhysicalMaterial:Lo,MeshStandardMaterial:L0,MeshToonMaterial:VR,MinEquation:Uy,MirroredRepeatWrapping:Yh,MixOperation:jb,MultiplyBlending:Oy,MultiplyOperation:A0,NearestFilter:mt,NearestMipMapLinearFilter:gG,NearestMipMapNearestFilter:mG,NearestMipmapLinearFilter:Dh,NearestMipmapNearestFilter:Fp,NeverDepth:Gb,NeverStencilFunc:TG,NoBlending:Dt,NoColorSpace:xG,NoToneMapping:br,NormalAnimationBlendMode:P2,NormalBlending:So,NotEqualDepth:Jb,NotEqualStencilFunc:DG,NumberKeyframeTrack:ef,Object3D:Qt,ObjectLoader:YJ,ObjectSpaceNormalMap:AR,OctahedronBufferGeometry:Zj,OctahedronGeometry:Cf,OneFactor:Lb,OneMinusDstAlphaFactor:Nb,OneMinusDstColorFactor:Ob,OneMinusSrcAlphaFactor:Pp,OneMinusSrcColorFactor:kb,OrthographicCamera:fs,PCFShadowMap:_2,PCFSoftShadowMap:Xd,PMREMGenerator:a8,Path:Wp,PerspectiveCamera:on,Plane:ls,PlaneBufferGeometry:$j,PlaneGeometry:du,PlaneHelper:kj,PointLight:Jx,PointLightHelper:Mj,Points:Q2,PointsMaterial:C0,PolarGridHelper:Rj,PolyhedronBufferGeometry:eK,PolyhedronGeometry:Ma,PositionalAudio:rj,PropertyBinding:zt,PropertyMixer:oP,QuadraticBezierCurve:Fx,QuadraticBezierCurve3:kx,Quaternion:si,QuaternionKeyframeTrack:bl,QuaternionLinearInterpolant:qR,RED_GREEN_RGTC2_Format:i8,RED_RGTC1_Format:cR,REVISION:Ys,RGBADepthPacking:yx,RGBAFormat:Nn,RGBAIntegerFormat:lR,RGBA_ASTC_10x10_Format:$y,RGBA_ASTC_10x5_Format:Xy,RGBA_ASTC_10x6_Format:qy,RGBA_ASTC_10x8_Format:Zy,RGBA_ASTC_12x10_Format:e8,RGBA_ASTC_12x12_Format:t8,RGBA_ASTC_4x4_Format:Gp,RGBA_ASTC_5x4_Format:zy,RGBA_ASTC_5x5_Format:Vy,RGBA_ASTC_6x5_Format:Wy,RGBA_ASTC_6x6_Format:Jy,RGBA_ASTC_8x5_Format:jy,RGBA_ASTC_8x6_Format:Ky,RGBA_ASTC_8x8_Format:Yy,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Up,RGBA_PVRTC_2BPPV1_Format:Hy,RGBA_PVRTC_4BPPV1_Format:Np,RGBA_S3TC_DXT1_Format:Um,RGBA_S3TC_DXT3_Format:Gm,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:R2,RGB_ETC2_Format:Op,RGB_PVRTC_2BPPV1_Format:Qy,RGB_PVRTC_4BPPV1_Format:kp,RGB_S3TC_DXT1_Format:Lh,RGFormat:vh,RGIntegerFormat:aR,RawShaderMaterial:ep,Ray:m0,Raycaster:aP,RectAreaLight:eP,RedFormat:kc,RedIntegerFormat:oR,ReinhardToneMapping:Xb,RepeatWrapping:vs,ReplaceStencilOp:EG,ReverseSubtractEquation:Db,RingBufferGeometry:tK,RingGeometry:T0,SIGNED_RED_GREEN_RGTC2_Format:r8,SIGNED_RED_RGTC1_Format:n8,SRGBColorSpace:Fs,Scene:Rg,ShaderChunk:Tt,ShaderLib:Ns,ShaderMaterial:Jt,ShadowMaterial:HR,Shape:Xc,ShapeBufferGeometry:nK,ShapeGeometry:B0,ShapePath:uP,ShapeUtils:_o,ShortType:eR,Skeleton:x0,SkeletonHelper:_j,SkinnedMesh:bx,Source:Uc,Sphere:Hl,SphereBufferGeometry:iK,SphereGeometry:Ef,Spherical:p8,SphericalHarmonics3:tP,SplineCurve:Nx,SpotLight:Wx,SpotLightHelper:Ij,Sprite:bR,SpriteMaterial:Bx,SrcAlphaFactor:Rp,SrcAlphaSaturateFactor:Ub,SrcColorFactor:Fb,StaticCopyUsage:UG,StaticDrawUsage:Hp,StaticReadUsage:kG,StereoCamera:ej,StreamCopyUsage:QG,StreamDrawUsage:FG,StreamReadUsage:OG,StringKeyframeTrack:mu,SubtractEquation:Pb,SubtractiveBlending:Ny,TOUCH:Cc,TangentSpaceNormalMap:Gl,TetrahedronBufferGeometry:rK,TetrahedronGeometry:b0,Texture:gn,TextureLoader:k0,TorusBufferGeometry:sK,TorusGeometry:R0,TorusKnotBufferGeometry:oK,TorusKnotGeometry:P0,Triangle:cs,TriangleFanDrawMode:Tg,TriangleStripDrawMode:vx,TrianglesDrawMode:dR,TubeBufferGeometry:aK,TubeGeometry:D0,TwoPassDoubleSide:AG,UVMapping:B2,Uint16BufferAttribute:Sx,Uint32BufferAttribute:L2,Uint8BufferAttribute:mQ,Uint8ClampedBufferAttribute:gQ,Uniform:qx,UniformsGroup:xj,UniformsLib:Qe,UniformsUtils:In,UnsignedByteType:gi,UnsignedInt248Type:yl,UnsignedIntType:cl,UnsignedShort4444Type:nR,UnsignedShort5551Type:iR,UnsignedShortType:gf,VSMShadowMap:Fc,Vector2:le,Vector3:D,Vector4:Gt,VectorKeyframeTrack:tf,VideoTexture:sJ,WebGL1Renderer:TR,WebGL3DRenderTarget:sQ,WebGLArrayRenderTarget:rQ,WebGLCubeRenderTarget:Ix,WebGLMultipleRenderTargets:oQ,WebGLRenderTarget:an,WebGLRenderer:Tx,WebGLUtils:_R,WireframeGeometry:QR,WrapAroundEnding:Qp,ZeroCurvatureEnding:Nc,ZeroFactor:Kh,ZeroSlopeEnding:Oc,ZeroStencilOp:CG,_SRGBAFormat:Bg,sRGBEncoding:cn},Symbol.toStringTag,{value:"Module"}));var hP={exports:{}},gu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gu.ConcurrentRoot=1;gu.ContinuousEventPriority=4;gu.DefaultEventPriority=16;gu.DiscreteEventPriority=1;gu.IdleEventPriority=536870912;gu.LegacyRoot=0;hP.exports=gu;var Sh=hP.exports;function cK(t){let e;const n=new Set,i=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),n.forEach(A=>A(e,p))}},r=()=>e,s=(c,u=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function A(){const m=u(e);if(!d(p,m)){const g=p;c(p=m,g)}}return n.add(A),()=>n.delete(A)},l={setState:i,getState:r,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const uK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Bw=uK?V.useEffect:V.useLayoutEffect;function fP(t){const e=typeof t=="function"?cK(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=V.useReducer(v=>v+1,0),o=e.getState(),a=V.useRef(o),l=V.useRef(i),c=V.useRef(r),u=V.useRef(!1),d=V.useRef();d.current===void 0&&(d.current=i(o));let p,A=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(p=i(o),A=!r(d.current,p)),Bw(()=>{A&&(d.current=p),a.current=o,l.current=i,c.current=r,u.current=!1});const m=V.useRef(o);Bw(()=>{const v=()=>{try{const y=e.getState(),x=l.current(y);c.current(d.current,x)||(a.current=y,d.current=x,s())}catch{u.current=!0,s()}},C=e.subscribe(v);return e.getState()!==m.current&&v(),C},[]);const g=A?p:d.current;return V.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var dP={exports:{}},pP={exports:{}},AP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,j){var W=k.length;k.push(j);e:for(;0<W;){var $=W-1>>>1,z=k[$];if(0<r(z,j))k[$]=j,k[W]=z,W=$;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var j=k[0],W=k.pop();if(W!==j){k[0]=W;e:for(var $=0,z=k.length,ne=z>>>1;$<ne;){var pe=2*($+1)-1,ye=k[pe],q=pe+1,Te=k[q];if(0>r(ye,W))q<z&&0>r(Te,ye)?(k[$]=Te,k[q]=W,$=q):(k[$]=ye,k[pe]=W,$=pe);else if(q<z&&0>r(Te,W))k[$]=Te,k[q]=W,$=q;else break e}}return j}function r(k,j){var W=k.sortIndex-j.sortIndex;return W!==0?W:k.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,A=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=k)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(k){if(g=!1,x(k),!m)if(n(l)!==null)m=!0,Y(I);else{var j=n(c);j!==null&&ee(S,j.startTime-k)}}function I(k,j){m=!1,g&&(g=!1,C(_),_=-1),A=!0;var W=p;try{for(x(j),d=n(l);d!==null&&(!(d.expirationTime>j)||k&&!L());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var z=$(d.expirationTime<=j);j=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&i(l),x(j)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var pe=n(c);pe!==null&&ee(S,pe.startTime-j),ne=!1}return ne}finally{d=null,p=W,A=!1}}var T=!1,B=null,_=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function H(){if(B!==null){var k=t.unstable_now();P=k;var j=!0;try{j=B(!0,k)}finally{j?N():(T=!1,B=null)}}else T=!1}var N;if(typeof y=="function")N=function(){y(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=H,N=function(){J.postMessage(null)}}else N=function(){v(H,0)};function Y(k){B=k,T||(T=!0,N())}function ee(k,j){_=v(function(){k(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){m||A||(m=!0,Y(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return k()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,j){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=p;p=k;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(k,j,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,k={id:u++,callback:j,priorityLevel:k,startTime:W,expirationTime:z,sortIndex:-1},W>$?(k.sortIndex=W,e(c,k),n(l)===null&&k===n(c)&&(g?(C(_),_=-1):g=!0,ee(S,W-$))):(k.sortIndex=z,e(l,k),m||A||(m=!0,Y(I))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var j=p;return function(){var W=p;p=j;try{return k.apply(this,arguments)}finally{p=W}}}})(AP);pP.exports=AP;var A8=pP.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hK=function(e){var n={},i=V,r=A8,s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)f+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),I=Symbol.iterator;function T(h){return h===null||typeof h!="object"?null:(h=I&&h[I]||h["@@iterator"],typeof h=="function"?h:null)}function B(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case C:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case m:return(h.displayName||"Context")+".Consumer";case A:return(h._context.displayName||"Context")+".Provider";case g:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case y:return f=h.displayName||null,f!==null?f:B(h.type)||"Memo";case x:f=h._payload,h=h._init;try{return B(h(f))}catch{}}return null}function _(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(h){var f=h,E=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(E=f.return),h=f.return;while(h)}return f.tag===3?E:null}function P(h){if(R(h)!==h)throw Error(o(188))}function L(h){var f=h.alternate;if(!f){if(f=R(h),f===null)throw Error(o(188));return f!==h?null:h}for(var E=h,w=f;;){var M=E.return;if(M===null)break;var b=M.alternate;if(b===null){if(w=M.return,w!==null){E=w;continue}break}if(M.child===b.child){for(b=M.child;b;){if(b===E)return P(M),h;if(b===w)return P(M),f;b=b.sibling}throw Error(o(188))}if(E.return!==w.return)E=M,w=b;else{for(var G=!1,Z=M.child;Z;){if(Z===E){G=!0,E=M,w=b;break}if(Z===w){G=!0,w=M,E=b;break}Z=Z.sibling}if(!G){for(Z=b.child;Z;){if(Z===E){G=!0,E=b,w=M;break}if(Z===w){G=!0,w=b,E=M;break}Z=Z.sibling}if(!G)throw Error(o(189))}}if(E.alternate!==w)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?h:f}function H(h){return h=L(h),h!==null?N(h):null}function N(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=N(h);if(f!==null)return f;h=h.sibling}return null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=U(h);if(f!==null)return f}h=h.sibling}return null}var J=Array.isArray,Y=e.getPublicInstance,ee=e.getRootHostContext,k=e.getChildHostContext,j=e.prepareForCommit,W=e.resetAfterCommit,$=e.createInstance,z=e.appendInitialChild,ne=e.finalizeInitialChildren,pe=e.prepareUpdate,ye=e.shouldSetTextContent,q=e.createTextInstance,Te=e.scheduleTimeout,Pe=e.cancelTimeout,Le=e.noTimeout,Ee=e.isPrimaryRenderer,Be=e.supportsMutation,ce=e.supportsPersistence,oe=e.supportsHydration,_e=e.getInstanceFromNode,Ve=e.preparePortalMount,Oe=e.getCurrentEventPriority,tt=e.detachDeletedInstance,et=e.supportsMicrotasks,Je=e.scheduleMicrotask,St=e.supportsTestSelectors,Bt=e.findFiberRoot,Q=e.getBoundingRect,F=e.getTextContent,ae=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,De=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,ot=e.appendChild,Ge=e.appendChildToContainer,ge=e.commitTextUpdate,qe=e.commitMount,K=e.commitUpdate,he=e.insertBefore,Me=e.insertInContainerBefore,Ne=e.removeChild,at=e.removeChildFromContainer,Pt=e.resetTextContent,Nt=e.hideInstance,X=e.hideTextInstance,de=e.unhideInstance,Se=e.unhideTextInstance,Ue=e.clearContainer,it=e.cloneInstance,Vt=e.createContainerChildSet,Gn=e.appendChildToContainerChildSet,ui=e.finalizeContainerChildren,ro=e.replaceContainerChildren,tn=e.cloneHiddenInstance,zr=e.cloneHiddenTextInstance,ir=e.canHydrateInstance,o3=e.canHydrateTextInstance,R1=e.canHydrateSuspenseInstance,a3=e.isSuspenseInstancePending,bf=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,re=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,ie=e.getFirstHydratableChildWithinContainer,Ce=e.getFirstHydratableChildWithinSuspenseInstance,lt=e.hydrateInstance,vt=e.hydrateTextInstance,It=e.hydrateSuspenseInstance,bt=e.getNextHydratableInstanceAfterSuspenseInstance,Ot=e.commitHydratedContainer,Lt=e.commitHydratedSuspenseInstance,Ft=e.clearSuspenseBoundary,Rn=e.clearSuspenseBoundaryFromContainer,Gi=e.shouldDeleteUnhydratedTailInstances,Is=e.didNotMatchHydratedContainerTextInstance,Ho=e.didNotMatchHydratedTextInstance,vn;function _t(h){if(vn===void 0)try{throw Error()}catch(E){var f=E.stack.trim().match(/\n( *(at )?)/);vn=f&&f[1]||""}return`
`+vn+h}var Xl=!1;function Pn(h,f){if(!h||Xl)return"";Xl=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Fe){var w=Fe}Reflect.construct(h,[],f)}else{try{f.call()}catch(Fe){w=Fe}h.call(f.prototype)}else{try{throw Error()}catch(Fe){w=Fe}h()}}catch(Fe){if(Fe&&w&&typeof Fe.stack=="string"){for(var M=Fe.stack.split(`
`),b=w.stack.split(`
`),G=M.length-1,Z=b.length-1;1<=G&&0<=Z&&M[G]!==b[Z];)Z--;for(;1<=G&&0<=Z;G--,Z--)if(M[G]!==b[Z]){if(G!==1||Z!==1)do if(G--,Z--,0>Z||M[G]!==b[Z]){var Ae=`
`+M[G].replace(" at new "," at ");return h.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",h.displayName)),Ae}while(1<=G&&0<=Z);break}}}finally{Xl=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?_t(h):""}var zo=Object.prototype.hasOwnProperty,Su=[],Vr=-1;function Wr(h){return{current:h}}function wt(h){0>Vr||(h.current=Su[Vr],Su[Vr]=null,Vr--)}function Ht(h,f){Vr++,Su[Vr]=h.current,h.current=f}var Jr={},Zt=Wr(Jr),hi=Wr(!1),Vo=Jr;function Wo(h,f){var E=h.type.contextTypes;if(!E)return Jr;var w=h.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var M={},b;for(b in E)M[b]=f[b];return w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=M),M}function rr(h){return h=h.childContextTypes,h!=null}function l3(){wt(hi),wt(Zt)}function p7(h,f,E){if(Zt.current!==Jr)throw Error(o(168));Ht(Zt,f),Ht(hi,E)}function A7(h,f,E){var w=h.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return E;w=w.getChildContext();for(var M in w)if(!(M in f))throw Error(o(108,_(h)||"Unknown",M));return s({},E,w)}function c3(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Jr,Vo=Zt.current,Ht(Zt,h),Ht(hi,hi.current),!0}function m7(h,f,E){var w=h.stateNode;if(!w)throw Error(o(169));E?(h=A7(h,f,Vo),w.__reactInternalMemoizedMergedChildContext=h,wt(hi),wt(Zt),Ht(Zt,h)):wt(hi),Ht(hi,E)}var _s=Math.clz32?Math.clz32:Ik,Sk=Math.log,wk=Math.LN2;function Ik(h){return h>>>=0,h===0?32:31-(Sk(h)/wk|0)|0}var u3=64,h3=4194304;function Rf(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function f3(h,f){var E=h.pendingLanes;if(E===0)return 0;var w=0,M=h.suspendedLanes,b=h.pingedLanes,G=E&268435455;if(G!==0){var Z=G&~M;Z!==0?w=Rf(Z):(b&=G,b!==0&&(w=Rf(b)))}else G=E&~M,G!==0?w=Rf(G):b!==0&&(w=Rf(b));if(w===0)return 0;if(f!==0&&f!==w&&!(f&M)&&(M=w&-w,b=f&-f,M>=b||M===16&&(b&4194240)!==0))return f;if(w&4&&(w|=E&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=w;0<f;)E=31-_s(f),M=1<<E,w|=h[E],f&=~M;return w}function _k(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mk(h,f){for(var E=h.suspendedLanes,w=h.pingedLanes,M=h.expirationTimes,b=h.pendingLanes;0<b;){var G=31-_s(b),Z=1<<G,Ae=M[G];Ae===-1?(!(Z&E)||Z&w)&&(M[G]=_k(Z,f)):Ae<=f&&(h.expiredLanes|=Z),b&=~Z}}function P1(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function D1(h){for(var f=[],E=0;31>E;E++)f.push(h);return f}function Pf(h,f,E){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-_s(f),h[f]=E}function Tk(h,f){var E=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var w=h.eventTimes;for(h=h.expirationTimes;0<E;){var M=31-_s(E),b=1<<M;f[M]=0,w[M]=-1,h[M]=-1,E&=~b}}function L1(h,f){var E=h.entangledLanes|=f;for(h=h.entanglements;E;){var w=31-_s(E),M=1<<w;M&f|h[w]&f&&(h[w]|=f),E&=~M}}var Kt=0;function g7(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var F1=r.unstable_scheduleCallback,v7=r.unstable_cancelCallback,Bk=r.unstable_shouldYield,bk=r.unstable_requestPaint,fi=r.unstable_now,k1=r.unstable_ImmediatePriority,Rk=r.unstable_UserBlockingPriority,N1=r.unstable_NormalPriority,Pk=r.unstable_IdlePriority,d3=null,so=null;function Dk(h){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(d3,h,void 0,(h.current.flags&128)===128)}catch{}}function Lk(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var oo=typeof Object.is=="function"?Object.is:Lk,Jo=null,p3=!1,O1=!1;function y7(h){Jo===null?Jo=[h]:Jo.push(h)}function Fk(h){p3=!0,y7(h)}function ao(){if(!O1&&Jo!==null){O1=!0;var h=0,f=Kt;try{var E=Jo;for(Kt=1;h<E.length;h++){var w=E[h];do w=w(!0);while(w!==null)}Jo=null,p3=!1}catch(M){throw Jo!==null&&(Jo=Jo.slice(h+1)),F1(k1,ao),M}finally{Kt=f,O1=!1}}return null}var kk=a.ReactCurrentBatchConfig;function A3(h,f){if(oo(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var E=Object.keys(h),w=Object.keys(f);if(E.length!==w.length)return!1;for(w=0;w<E.length;w++){var M=E[w];if(!zo.call(f,M)||!oo(h[M],f[M]))return!1}return!0}function Nk(h){switch(h.tag){case 5:return _t(h.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return h=Pn(h.type,!1),h;case 11:return h=Pn(h.type.render,!1),h;case 1:return h=Pn(h.type,!0),h;default:return""}}function Ms(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var E in h)f[E]===void 0&&(f[E]=h[E]);return f}return f}var m3=Wr(null),g3=null,wu=null,U1=null;function G1(){U1=wu=g3=null}function x7(h,f,E){Ee?(Ht(m3,f._currentValue),f._currentValue=E):(Ht(m3,f._currentValue2),f._currentValue2=E)}function Q1(h){var f=m3.current;wt(m3),Ee?h._currentValue=f:h._currentValue2=f}function H1(h,f,E){for(;h!==null;){var w=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),h===E)break;h=h.return}}function Iu(h,f){g3=h,U1=wu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(xr=!0),h.firstContext=null)}function jr(h){var f=Ee?h._currentValue:h._currentValue2;if(U1!==h)if(h={context:h,memoizedValue:f,next:null},wu===null){if(g3===null)throw Error(o(308));wu=h,g3.dependencies={lanes:0,firstContext:h}}else wu=wu.next=h;return f}var lo=null,Pa=!1;function z1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C7(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function jo(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function Da(h,f){var E=h.updateQueue;E!==null&&(E=E.shared,Jn!==null&&h.mode&1&&!(Rt&2)?(h=E.interleaved,h===null?(f.next=f,lo===null?lo=[E]:lo.push(E)):(f.next=h.next,h.next=f),E.interleaved=f):(h=E.pending,h===null?f.next=f:(f.next=h.next,h.next=f),E.pending=f))}function v3(h,f,E){if(f=f.updateQueue,f!==null&&(f=f.shared,(E&4194240)!==0)){var w=f.lanes;w&=h.pendingLanes,E|=w,f.lanes=E,L1(h,E)}}function E7(h,f){var E=h.updateQueue,w=h.alternate;if(w!==null&&(w=w.updateQueue,E===w)){var M=null,b=null;if(E=E.firstBaseUpdate,E!==null){do{var G={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};b===null?M=b=G:b=b.next=G,E=E.next}while(E!==null);b===null?M=b=f:b=b.next=f}else M=b=f;E={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:b,shared:w.shared,effects:w.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=f:h.next=f,E.lastBaseUpdate=f}function y3(h,f,E,w){var M=h.updateQueue;Pa=!1;var b=M.firstBaseUpdate,G=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var Ae=Z,Fe=Ae.next;Ae.next=null,G===null?b=Fe:G.next=Fe,G=Ae;var Xe=h.alternate;Xe!==null&&(Xe=Xe.updateQueue,Z=Xe.lastBaseUpdate,Z!==G&&(Z===null?Xe.firstBaseUpdate=Fe:Z.next=Fe,Xe.lastBaseUpdate=Ae))}if(b!==null){var xt=M.baseState;G=0,Xe=Fe=Ae=null,Z=b;do{var ct=Z.lane,nn=Z.eventTime;if((w&ct)===ct){Xe!==null&&(Xe=Xe.next={eventTime:nn,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var rt=h,Ri=Z;switch(ct=f,nn=E,Ri.tag){case 1:if(rt=Ri.payload,typeof rt=="function"){xt=rt.call(nn,xt,ct);break e}xt=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=Ri.payload,ct=typeof rt=="function"?rt.call(nn,xt,ct):rt,ct==null)break e;xt=s({},xt,ct);break e;case 2:Pa=!0}}Z.callback!==null&&Z.lane!==0&&(h.flags|=64,ct=M.effects,ct===null?M.effects=[Z]:ct.push(Z))}else nn={eventTime:nn,lane:ct,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Xe===null?(Fe=Xe=nn,Ae=xt):Xe=Xe.next=nn,G|=ct;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;ct=Z,Z=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(1);if(Xe===null&&(Ae=xt),M.baseState=Ae,M.firstBaseUpdate=Fe,M.lastBaseUpdate=Xe,f=M.shared.interleaved,f!==null){M=f;do G|=M.lane,M=M.next;while(M!==f)}else b===null&&(M.shared.lanes=0);Lu|=G,h.lanes=G,h.memoizedState=xt}}function S7(h,f,E){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var w=h[f],M=w.callback;if(M!==null){if(w.callback=null,w=E,typeof M!="function")throw Error(o(191,M));M.call(w)}}}var w7=new i.Component().refs;function V1(h,f,E,w){f=h.memoizedState,E=E(w,f),E=E==null?f:s({},f,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var x3={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,f,E){h=h._reactInternals;var w=Hi(),M=ka(h),b=jo(w,M);b.payload=f,E!=null&&(b.callback=E),Da(h,b),f=Zr(h,M,w),f!==null&&v3(f,h,M)},enqueueReplaceState:function(h,f,E){h=h._reactInternals;var w=Hi(),M=ka(h),b=jo(w,M);b.tag=1,b.payload=f,E!=null&&(b.callback=E),Da(h,b),f=Zr(h,M,w),f!==null&&v3(f,h,M)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var E=Hi(),w=ka(h),M=jo(E,w);M.tag=2,f!=null&&(M.callback=f),Da(h,M),f=Zr(h,w,E),f!==null&&v3(f,h,w)}};function I7(h,f,E,w,M,b,G){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,b,G):f.prototype&&f.prototype.isPureReactComponent?!A3(E,w)||!A3(M,b):!0}function _7(h,f,E){var w=!1,M=Jr,b=f.contextType;return typeof b=="object"&&b!==null?b=jr(b):(M=rr(f)?Vo:Zt.current,w=f.contextTypes,b=(w=w!=null)?Wo(h,M):Jr),f=new f(E,b),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=x3,h.stateNode=f,f._reactInternals=h,w&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=b),f}function M7(h,f,E,w){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(E,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(E,w),f.state!==h&&x3.enqueueReplaceState(f,f.state,null)}function W1(h,f,E,w){var M=h.stateNode;M.props=E,M.state=h.memoizedState,M.refs=w7,z1(h);var b=f.contextType;typeof b=="object"&&b!==null?M.context=jr(b):(b=rr(f)?Vo:Zt.current,M.context=Wo(h,b)),M.state=h.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(V1(h,f,b,E),M.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(f=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),f!==M.state&&x3.enqueueReplaceState(M,M.state,null),y3(h,E,M,w),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}var _u=[],Mu=0,C3=null,E3=0,Kr=[],Yr=0,ql=null,Ko=1,Yo="";function Zl(h,f){_u[Mu++]=E3,_u[Mu++]=C3,C3=h,E3=f}function T7(h,f,E){Kr[Yr++]=Ko,Kr[Yr++]=Yo,Kr[Yr++]=ql,ql=h;var w=Ko;h=Yo;var M=32-_s(w)-1;w&=~(1<<M),E+=1;var b=32-_s(f)+M;if(30<b){var G=M-M%5;b=(w&(1<<G)-1).toString(32),w>>=G,M-=G,Ko=1<<32-_s(f)+M|E<<M|w,Yo=b+h}else Ko=1<<b|E<<M|w,Yo=h}function J1(h){h.return!==null&&(Zl(h,1),T7(h,1,0))}function j1(h){for(;h===C3;)C3=_u[--Mu],_u[Mu]=null,E3=_u[--Mu],_u[Mu]=null;for(;h===ql;)ql=Kr[--Yr],Kr[Yr]=null,Yo=Kr[--Yr],Kr[Yr]=null,Ko=Kr[--Yr],Kr[Yr]=null}var vr=null,yr=null,yn=!1,Df=!1,Ts=null;function B7(h,f){var E=$r(5,null,null,0);E.elementType="DELETED",E.stateNode=f,E.return=h,f=h.deletions,f===null?(h.deletions=[E],h.flags|=16):f.push(E)}function b7(h,f){switch(h.tag){case 5:return f=ir(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,vr=h,yr=ve(f),!0):!1;case 6:return f=o3(f,h.pendingProps),f!==null?(h.stateNode=f,vr=h,yr=null,!0):!1;case 13:if(f=R1(f),f!==null){var E=ql!==null?{id:Ko,overflow:Yo}:null;return h.memoizedState={dehydrated:f,treeContext:E,retryLane:1073741824},E=$r(18,null,null,0),E.stateNode=f,E.return=h,h.child=E,vr=h,yr=null,!0}return!1;default:return!1}}function K1(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Y1(h){if(yn){var f=yr;if(f){var E=f;if(!b7(h,f)){if(K1(h))throw Error(o(418));f=re(E);var w=vr;f&&b7(h,f)?B7(w,E):(h.flags=h.flags&-4097|2,yn=!1,vr=h)}}else{if(K1(h))throw Error(o(418));h.flags=h.flags&-4097|2,yn=!1,vr=h}}}function R7(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;vr=h}function Lf(h){if(!oe||h!==vr)return!1;if(!yn)return R7(h),yn=!0,!1;if(h.tag!==3&&(h.tag!==5||Gi(h.type)&&!ye(h.type,h.memoizedProps))){var f=yr;if(f){if(K1(h)){for(h=yr;h;)h=re(h);throw Error(o(418))}for(;f;)B7(h,f),f=re(f)}}if(R7(h),h.tag===13){if(!oe)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));yr=bt(h)}else yr=vr?re(h.stateNode):null;return!0}function Tu(){oe&&(yr=vr=null,Df=yn=!1)}function X1(h){Ts===null?Ts=[h]:Ts.push(h)}function Ff(h,f,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var w=E.stateNode}if(!w)throw Error(o(147,h));var M=w,b=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(G){var Z=M.refs;Z===w7&&(Z=M.refs={}),G===null?delete Z[b]:Z[b]=G},f._stringRef=b,f)}if(typeof h!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,h))}return h}function S3(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function P7(h){var f=h._init;return f(h._payload)}function D7(h){function f(se,te){if(h){var ue=se.deletions;ue===null?(se.deletions=[te],se.flags|=16):ue.push(te)}}function E(se,te){if(!h)return null;for(;te!==null;)f(se,te),te=te.sibling;return null}function w(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function M(se,te){return se=Oa(se,te),se.index=0,se.sibling=null,se}function b(se,te,ue){return se.index=ue,h?(ue=se.alternate,ue!==null?(ue=ue.index,ue<te?(se.flags|=2,te):ue):(se.flags|=2,te)):(se.flags|=1048576,te)}function G(se){return h&&se.alternate===null&&(se.flags|=2),se}function Z(se,te,ue,We){return te===null||te.tag!==6?(te=D5(ue,se.mode,We),te.return=se,te):(te=M(te,ue),te.return=se,te)}function Ae(se,te,ue,We){var nt=ue.type;return nt===u?Xe(se,te,ue.props.children,We,ue.key):te!==null&&(te.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===x&&P7(nt)===te.type)?(We=M(te,ue.props),We.ref=Ff(se,te,ue),We.return=se,We):(We=eA(ue.type,ue.key,ue.props,null,se.mode,We),We.ref=Ff(se,te,ue),We.return=se,We)}function Fe(se,te,ue,We){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=L5(ue,se.mode,We),te.return=se,te):(te=M(te,ue.children||[]),te.return=se,te)}function Xe(se,te,ue,We,nt){return te===null||te.tag!==7?(te=sc(ue,se.mode,We,nt),te.return=se,te):(te=M(te,ue),te.return=se,te)}function xt(se,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=D5(""+te,se.mode,ue),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ue=eA(te.type,te.key,te.props,null,se.mode,ue),ue.ref=Ff(se,null,te),ue.return=se,ue;case c:return te=L5(te,se.mode,ue),te.return=se,te;case x:var We=te._init;return xt(se,We(te._payload),ue)}if(J(te)||T(te))return te=sc(te,se.mode,ue,null),te.return=se,te;S3(se,te)}return null}function ct(se,te,ue,We){var nt=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return nt!==null?null:Z(se,te,""+ue,We);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===nt?Ae(se,te,ue,We):null;case c:return ue.key===nt?Fe(se,te,ue,We):null;case x:return nt=ue._init,ct(se,te,nt(ue._payload),We)}if(J(ue)||T(ue))return nt!==null?null:Xe(se,te,ue,We,null);S3(se,ue)}return null}function nn(se,te,ue,We,nt){if(typeof We=="string"&&We!==""||typeof We=="number")return se=se.get(ue)||null,Z(te,se,""+We,nt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return se=se.get(We.key===null?ue:We.key)||null,Ae(te,se,We,nt);case c:return se=se.get(We.key===null?ue:We.key)||null,Fe(te,se,We,nt);case x:var Mt=We._init;return nn(se,te,ue,Mt(We._payload),nt)}if(J(We)||T(We))return se=se.get(ue)||null,Xe(te,se,We,nt,null);S3(te,We)}return null}function rt(se,te,ue,We){for(var nt=null,Mt=null,Ct=te,Yt=te=0,pi=null;Ct!==null&&Yt<ue.length;Yt++){Ct.index>Yt?(pi=Ct,Ct=null):pi=Ct.sibling;var Xt=ct(se,Ct,ue[Yt],We);if(Xt===null){Ct===null&&(Ct=pi);break}h&&Ct&&Xt.alternate===null&&f(se,Ct),te=b(Xt,te,Yt),Mt===null?nt=Xt:Mt.sibling=Xt,Mt=Xt,Ct=pi}if(Yt===ue.length)return E(se,Ct),yn&&Zl(se,Yt),nt;if(Ct===null){for(;Yt<ue.length;Yt++)Ct=xt(se,ue[Yt],We),Ct!==null&&(te=b(Ct,te,Yt),Mt===null?nt=Ct:Mt.sibling=Ct,Mt=Ct);return yn&&Zl(se,Yt),nt}for(Ct=w(se,Ct);Yt<ue.length;Yt++)pi=nn(Ct,se,Yt,ue[Yt],We),pi!==null&&(h&&pi.alternate!==null&&Ct.delete(pi.key===null?Yt:pi.key),te=b(pi,te,Yt),Mt===null?nt=pi:Mt.sibling=pi,Mt=pi);return h&&Ct.forEach(function(Ua){return f(se,Ua)}),yn&&Zl(se,Yt),nt}function Ri(se,te,ue,We){var nt=T(ue);if(typeof nt!="function")throw Error(o(150));if(ue=nt.call(ue),ue==null)throw Error(o(151));for(var Mt=nt=null,Ct=te,Yt=te=0,pi=null,Xt=ue.next();Ct!==null&&!Xt.done;Yt++,Xt=ue.next()){Ct.index>Yt?(pi=Ct,Ct=null):pi=Ct.sibling;var Ua=ct(se,Ct,Xt.value,We);if(Ua===null){Ct===null&&(Ct=pi);break}h&&Ct&&Ua.alternate===null&&f(se,Ct),te=b(Ua,te,Yt),Mt===null?nt=Ua:Mt.sibling=Ua,Mt=Ua,Ct=pi}if(Xt.done)return E(se,Ct),yn&&Zl(se,Yt),nt;if(Ct===null){for(;!Xt.done;Yt++,Xt=ue.next())Xt=xt(se,Xt.value,We),Xt!==null&&(te=b(Xt,te,Yt),Mt===null?nt=Xt:Mt.sibling=Xt,Mt=Xt);return yn&&Zl(se,Yt),nt}for(Ct=w(se,Ct);!Xt.done;Yt++,Xt=ue.next())Xt=nn(Ct,se,Yt,Xt.value,We),Xt!==null&&(h&&Xt.alternate!==null&&Ct.delete(Xt.key===null?Yt:Xt.key),te=b(Xt,te,Yt),Mt===null?nt=Xt:Mt.sibling=Xt,Mt=Xt);return h&&Ct.forEach(function(dN){return f(se,dN)}),yn&&Zl(se,Yt),nt}function es(se,te,ue,We){if(typeof ue=="object"&&ue!==null&&ue.type===u&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var nt=ue.key,Mt=te;Mt!==null;){if(Mt.key===nt){if(nt=ue.type,nt===u){if(Mt.tag===7){E(se,Mt.sibling),te=M(Mt,ue.props.children),te.return=se,se=te;break e}}else if(Mt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===x&&P7(nt)===Mt.type){E(se,Mt.sibling),te=M(Mt,ue.props),te.ref=Ff(se,Mt,ue),te.return=se,se=te;break e}E(se,Mt);break}else f(se,Mt);Mt=Mt.sibling}ue.type===u?(te=sc(ue.props.children,se.mode,We,ue.key),te.return=se,se=te):(We=eA(ue.type,ue.key,ue.props,null,se.mode,We),We.ref=Ff(se,te,ue),We.return=se,se=We)}return G(se);case c:e:{for(Mt=ue.key;te!==null;){if(te.key===Mt)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){E(se,te.sibling),te=M(te,ue.children||[]),te.return=se,se=te;break e}else{E(se,te);break}else f(se,te);te=te.sibling}te=L5(ue,se.mode,We),te.return=se,se=te}return G(se);case x:return Mt=ue._init,es(se,te,Mt(ue._payload),We)}if(J(ue))return rt(se,te,ue,We);if(T(ue))return Ri(se,te,ue,We);S3(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(E(se,te.sibling),te=M(te,ue),te.return=se,se=te):(E(se,te),te=D5(ue,se.mode,We),te.return=se,se=te),G(se)):E(se,te)}return es}var Bu=D7(!0),L7=D7(!1),kf={},Xr=Wr(kf),Nf=Wr(kf),bu=Wr(kf);function co(h){if(h===kf)throw Error(o(174));return h}function q1(h,f){Ht(bu,f),Ht(Nf,h),Ht(Xr,kf),h=ee(f),wt(Xr),Ht(Xr,h)}function Ru(){wt(Xr),wt(Nf),wt(bu)}function F7(h){var f=co(bu.current),E=co(Xr.current);f=k(E,h.type,f),E!==f&&(Ht(Nf,h),Ht(Xr,f))}function Z1(h){Nf.current===h&&(wt(Xr),wt(Nf))}var En=Wr(0);function w3(h){for(var f=h;f!==null;){if(f.tag===13){var E=f.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||a3(E)||bf(E)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var $1=[];function e5(){for(var h=0;h<$1.length;h++){var f=$1[h];Ee?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}$1.length=0}var I3=a.ReactCurrentDispatcher,qr=a.ReactCurrentBatchConfig,Pu=0,Dn=null,Ti=null,di=null,_3=!1,Of=!1,Uf=0,Ok=0;function Bi(){throw Error(o(321))}function t5(h,f){if(f===null)return!1;for(var E=0;E<f.length&&E<h.length;E++)if(!oo(h[E],f[E]))return!1;return!0}function n5(h,f,E,w,M,b){if(Pu=b,Dn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,I3.current=h===null||h.memoizedState===null?Hk:zk,h=E(w,M),Of){b=0;do{if(Of=!1,Uf=0,25<=b)throw Error(o(301));b+=1,di=Ti=null,f.updateQueue=null,I3.current=Vk,h=E(w,M)}while(Of)}if(I3.current=R3,f=Ti!==null&&Ti.next!==null,Pu=0,di=Ti=Dn=null,_3=!1,f)throw Error(o(300));return h}function i5(){var h=Uf!==0;return Uf=0,h}function Xo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?Dn.memoizedState=di=h:di=di.next=h,di}function uo(){if(Ti===null){var h=Dn.alternate;h=h!==null?h.memoizedState:null}else h=Ti.next;var f=di===null?Dn.memoizedState:di.next;if(f!==null)di=f,Ti=h;else{if(h===null)throw Error(o(310));Ti=h,h={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},di===null?Dn.memoizedState=di=h:di=di.next=h}return di}function $l(h,f){return typeof f=="function"?f(h):f}function M3(h){var f=uo(),E=f.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=h;var w=Ti,M=w.baseQueue,b=E.pending;if(b!==null){if(M!==null){var G=M.next;M.next=b.next,b.next=G}w.baseQueue=M=b,E.pending=null}if(M!==null){b=M.next,w=w.baseState;var Z=G=null,Ae=null,Fe=b;do{var Xe=Fe.lane;if((Pu&Xe)===Xe)Ae!==null&&(Ae=Ae.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),w=Fe.hasEagerState?Fe.eagerState:h(w,Fe.action);else{var xt={lane:Xe,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};Ae===null?(Z=Ae=xt,G=w):Ae=Ae.next=xt,Dn.lanes|=Xe,Lu|=Xe}Fe=Fe.next}while(Fe!==null&&Fe!==b);Ae===null?G=w:Ae.next=Z,oo(w,f.memoizedState)||(xr=!0),f.memoizedState=w,f.baseState=G,f.baseQueue=Ae,E.lastRenderedState=w}if(h=E.interleaved,h!==null){M=h;do b=M.lane,Dn.lanes|=b,Lu|=b,M=M.next;while(M!==h)}else M===null&&(E.lanes=0);return[f.memoizedState,E.dispatch]}function T3(h){var f=uo(),E=f.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=h;var w=E.dispatch,M=E.pending,b=f.memoizedState;if(M!==null){E.pending=null;var G=M=M.next;do b=h(b,G.action),G=G.next;while(G!==M);oo(b,f.memoizedState)||(xr=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),E.lastRenderedState=b}return[b,w]}function k7(){}function N7(h,f){var E=Dn,w=uo(),M=f(),b=!oo(w.memoizedState,M);if(b&&(w.memoizedState=M,xr=!0),w=w.queue,Qf(G7.bind(null,E,w,h),[h]),w.getSnapshot!==f||b||di!==null&&di.memoizedState.tag&1){if(E.flags|=2048,Gf(9,U7.bind(null,E,w,M,f),void 0,null),Jn===null)throw Error(o(349));Pu&30||O7(E,f,M)}return M}function O7(h,f,E){h.flags|=16384,h={getSnapshot:f,value:E},f=Dn.updateQueue,f===null?(f={lastEffect:null,stores:null},Dn.updateQueue=f,f.stores=[h]):(E=f.stores,E===null?f.stores=[h]:E.push(h))}function U7(h,f,E,w){f.value=E,f.getSnapshot=w,Q7(f)&&Zr(h,1,-1)}function G7(h,f,E){return E(function(){Q7(f)&&Zr(h,1,-1)})}function Q7(h){var f=h.getSnapshot;h=h.value;try{var E=f();return!oo(h,E)}catch{return!0}}function r5(h){var f=Xo();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:h},f.queue=h,h=h.dispatch=Qk.bind(null,Dn,h),[f.memoizedState,h]}function Gf(h,f,E,w){return h={tag:h,create:f,destroy:E,deps:w,next:null},f=Dn.updateQueue,f===null?(f={lastEffect:null,stores:null},Dn.updateQueue=f,f.lastEffect=h.next=h):(E=f.lastEffect,E===null?f.lastEffect=h.next=h:(w=E.next,E.next=h,h.next=w,f.lastEffect=h)),h}function H7(){return uo().memoizedState}function B3(h,f,E,w){var M=Xo();Dn.flags|=h,M.memoizedState=Gf(1|f,E,void 0,w===void 0?null:w)}function b3(h,f,E,w){var M=uo();w=w===void 0?null:w;var b=void 0;if(Ti!==null){var G=Ti.memoizedState;if(b=G.destroy,w!==null&&t5(w,G.deps)){M.memoizedState=Gf(f,E,b,w);return}}Dn.flags|=h,M.memoizedState=Gf(1|f,E,b,w)}function s5(h,f){return B3(8390656,8,h,f)}function Qf(h,f){return b3(2048,8,h,f)}function z7(h,f){return b3(4,2,h,f)}function V7(h,f){return b3(4,4,h,f)}function W7(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function J7(h,f,E){return E=E!=null?E.concat([h]):null,b3(4,4,W7.bind(null,f,h),E)}function o5(){}function j7(h,f){var E=uo();f=f===void 0?null:f;var w=E.memoizedState;return w!==null&&f!==null&&t5(f,w[1])?w[0]:(E.memoizedState=[h,f],h)}function K7(h,f){var E=uo();f=f===void 0?null:f;var w=E.memoizedState;return w!==null&&f!==null&&t5(f,w[1])?w[0]:(h=h(),E.memoizedState=[h,f],h)}function Uk(h,f){var E=Kt;Kt=E!==0&&4>E?E:4,h(!0);var w=qr.transition;qr.transition={};try{h(!1),f()}finally{Kt=E,qr.transition=w}}function Y7(){return uo().memoizedState}function Gk(h,f,E){var w=ka(h);E={lane:w,action:E,hasEagerState:!1,eagerState:null,next:null},X7(h)?q7(f,E):(Z7(h,f,E),E=Hi(),h=Zr(h,w,E),h!==null&&$7(h,f,w))}function Qk(h,f,E){var w=ka(h),M={lane:w,action:E,hasEagerState:!1,eagerState:null,next:null};if(X7(h))q7(f,M);else{Z7(h,f,M);var b=h.alternate;if(h.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var G=f.lastRenderedState,Z=b(G,E);if(M.hasEagerState=!0,M.eagerState=Z,oo(Z,G))return}catch{}finally{}E=Hi(),h=Zr(h,w,E),h!==null&&$7(h,f,w)}}function X7(h){var f=h.alternate;return h===Dn||f!==null&&f===Dn}function q7(h,f){Of=_3=!0;var E=h.pending;E===null?f.next=f:(f.next=E.next,E.next=f),h.pending=f}function Z7(h,f,E){Jn!==null&&h.mode&1&&!(Rt&2)?(h=f.interleaved,h===null?(E.next=E,lo===null?lo=[f]:lo.push(f)):(E.next=h.next,h.next=E),f.interleaved=E):(h=f.pending,h===null?E.next=E:(E.next=h.next,h.next=E),f.pending=E)}function $7(h,f,E){if(E&4194240){var w=f.lanes;w&=h.pendingLanes,E|=w,f.lanes=E,L1(h,E)}}var R3={readContext:jr,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Hk={readContext:jr,useCallback:function(h,f){return Xo().memoizedState=[h,f===void 0?null:f],h},useContext:jr,useEffect:s5,useImperativeHandle:function(h,f,E){return E=E!=null?E.concat([h]):null,B3(4194308,4,W7.bind(null,f,h),E)},useLayoutEffect:function(h,f){return B3(4194308,4,h,f)},useInsertionEffect:function(h,f){return B3(4,2,h,f)},useMemo:function(h,f){var E=Xo();return f=f===void 0?null:f,h=h(),E.memoizedState=[h,f],h},useReducer:function(h,f,E){var w=Xo();return f=E!==void 0?E(f):f,w.memoizedState=w.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},w.queue=h,h=h.dispatch=Gk.bind(null,Dn,h),[w.memoizedState,h]},useRef:function(h){var f=Xo();return h={current:h},f.memoizedState=h},useState:r5,useDebugValue:o5,useDeferredValue:function(h){var f=r5(h),E=f[0],w=f[1];return s5(function(){var M=qr.transition;qr.transition={};try{w(h)}finally{qr.transition=M}},[h]),E},useTransition:function(){var h=r5(!1),f=h[0];return h=Uk.bind(null,h[1]),Xo().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,E){var w=Dn,M=Xo();if(yn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=f(),Jn===null)throw Error(o(349));Pu&30||O7(w,f,E)}M.memoizedState=E;var b={value:E,getSnapshot:f};return M.queue=b,s5(G7.bind(null,w,b,h),[h]),w.flags|=2048,Gf(9,U7.bind(null,w,b,E,f),void 0,null),E},useId:function(){var h=Xo(),f=Jn.identifierPrefix;if(yn){var E=Yo,w=Ko;E=(w&~(1<<32-_s(w)-1)).toString(32)+E,f=":"+f+"R"+E,E=Uf++,0<E&&(f+="H"+E.toString(32)),f+=":"}else E=Ok++,f=":"+f+"r"+E.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},zk={readContext:jr,useCallback:j7,useContext:jr,useEffect:Qf,useImperativeHandle:J7,useInsertionEffect:z7,useLayoutEffect:V7,useMemo:K7,useReducer:M3,useRef:H7,useState:function(){return M3($l)},useDebugValue:o5,useDeferredValue:function(h){var f=M3($l),E=f[0],w=f[1];return Qf(function(){var M=qr.transition;qr.transition={};try{w(h)}finally{qr.transition=M}},[h]),E},useTransition:function(){var h=M3($l)[0],f=uo().memoizedState;return[h,f]},useMutableSource:k7,useSyncExternalStore:N7,useId:Y7,unstable_isNewReconciler:!1},Vk={readContext:jr,useCallback:j7,useContext:jr,useEffect:Qf,useImperativeHandle:J7,useInsertionEffect:z7,useLayoutEffect:V7,useMemo:K7,useReducer:T3,useRef:H7,useState:function(){return T3($l)},useDebugValue:o5,useDeferredValue:function(h){var f=T3($l),E=f[0],w=f[1];return Qf(function(){var M=qr.transition;qr.transition={};try{w(h)}finally{qr.transition=M}},[h]),E},useTransition:function(){var h=T3($l)[0],f=uo().memoizedState;return[h,f]},useMutableSource:k7,useSyncExternalStore:N7,useId:Y7,unstable_isNewReconciler:!1};function a5(h,f){try{var E="",w=f;do E+=Nk(w),w=w.return;while(w);var M=E}catch(b){M=`
Error generating stack: `+b.message+`
`+b.stack}return{value:h,source:f,stack:M}}function l5(h,f){try{console.error(f.value)}catch(E){setTimeout(function(){throw E})}}var Wk=typeof WeakMap=="function"?WeakMap:Map;function eC(h,f,E){E=jo(-1,E),E.tag=3,E.payload={element:null};var w=f.value;return E.callback=function(){j3||(j3=!0,_5=w),l5(h,f)},E}function tC(h,f,E){E=jo(-1,E),E.tag=3;var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var M=f.value;E.payload=function(){return w(M)},E.callback=function(){l5(h,f)}}var b=h.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(E.callback=function(){l5(h,f),typeof w!="function"&&(La===null?La=new Set([this]):La.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),E}function nC(h,f,E){var w=h.pingCache;if(w===null){w=h.pingCache=new Wk;var M=new Set;w.set(f,M)}else M=w.get(f),M===void 0&&(M=new Set,w.set(f,M));M.has(E)||(M.add(E),h=sN.bind(null,h,f,E),f.then(h,h))}function iC(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function rC(h,f,E,w,M){return h.mode&1?(h.flags|=65536,h.lanes=M,h):(h===f?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(f=jo(-1,1),f.tag=2,Da(E,f))),E.lanes|=1),h)}function ho(h){h.flags|=4}function sC(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Hf,zf,P3,D3;if(Be)Hf=function(h,f){for(var E=f.child;E!==null;){if(E.tag===5||E.tag===6)z(h,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},zf=function(){},P3=function(h,f,E,w,M){if(h=h.memoizedProps,h!==w){var b=f.stateNode,G=co(Xr.current);E=pe(b,E,h,w,M,G),(f.updateQueue=E)&&ho(f)}},D3=function(h,f,E,w){E!==w&&ho(f)};else if(ce){Hf=function(h,f,E,w){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;E&&w&&(b=tn(b,M.type,M.memoizedProps,M)),z(h,b)}else if(M.tag===6)b=M.stateNode,E&&w&&(b=zr(b,M.memoizedProps,M)),z(h,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),Hf(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var oC=function(h,f,E,w){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;E&&w&&(b=tn(b,M.type,M.memoizedProps,M)),Gn(h,b)}else if(M.tag===6)b=M.stateNode,E&&w&&(b=zr(b,M.memoizedProps,M)),Gn(h,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),oC(h,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};zf=function(h,f){var E=f.stateNode;if(!sC(h,f)){h=E.containerInfo;var w=Vt(h);oC(w,f,!1,!1),E.pendingChildren=w,ho(f),ui(h,w)}},P3=function(h,f,E,w,M){var b=h.stateNode,G=h.memoizedProps;if((h=sC(h,f))&&G===w)f.stateNode=b;else{var Z=f.stateNode,Ae=co(Xr.current),Fe=null;G!==w&&(Fe=pe(Z,E,G,w,M,Ae)),h&&Fe===null?f.stateNode=b:(b=it(b,Fe,E,G,w,f,h,Z),ne(b,E,w,M,Ae)&&ho(f),f.stateNode=b,h?ho(f):Hf(b,f,!1,!1))}},D3=function(h,f,E,w){E!==w?(h=co(bu.current),E=co(Xr.current),f.stateNode=q(w,h,E,f),ho(f)):f.stateNode=h.stateNode}}else zf=function(){},P3=function(){},D3=function(){};function Vf(h,f){if(!yn)switch(h.tailMode){case"hidden":f=h.tail;for(var E=null;f!==null;)f.alternate!==null&&(E=f),f=f.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var w=null;E!==null;)E.alternate!==null&&(w=E),E=E.sibling;w===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function bi(h){var f=h.alternate!==null&&h.alternate.child===h.child,E=0,w=0;if(f)for(var M=h.child;M!==null;)E|=M.lanes|M.childLanes,w|=M.subtreeFlags&14680064,w|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)E|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=w,h.childLanes=E,f}function Jk(h,f,E){var w=f.pendingProps;switch(j1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(f),null;case 1:return rr(f.type)&&l3(),bi(f),null;case 3:return w=f.stateNode,Ru(),wt(hi),wt(Zt),e5(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(h===null||h.child===null)&&(Lf(f)?ho(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ts!==null&&(B5(Ts),Ts=null))),zf(h,f),bi(f),null;case 5:Z1(f),E=co(bu.current);var M=f.type;if(h!==null&&f.stateNode!=null)P3(h,f,M,w,E),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return bi(f),null}if(h=co(Xr.current),Lf(f)){if(!oe)throw Error(o(175));h=lt(f.stateNode,f.type,f.memoizedProps,E,h,f,!Df),f.updateQueue=h,h!==null&&ho(f)}else{var b=$(M,w,E,h,f);Hf(b,f,!1,!1),f.stateNode=b,ne(b,M,w,E,h)&&ho(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return bi(f),null;case 6:if(h&&f.stateNode!=null)D3(h,f,h.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(h=co(bu.current),E=co(Xr.current),Lf(f)){if(!oe)throw Error(o(176));if(h=f.stateNode,w=f.memoizedProps,(E=vt(h,w,f,!Df))&&(M=vr,M!==null))switch(b=(M.mode&1)!==0,M.tag){case 3:Is(M.stateNode.containerInfo,h,w,b);break;case 5:Ho(M.type,M.memoizedProps,M.stateNode,h,w,b)}E&&ho(f)}else f.stateNode=q(w,h,E,f)}return bi(f),null;case 13:if(wt(En),w=f.memoizedState,yn&&yr!==null&&f.mode&1&&!(f.flags&128)){for(h=yr;h;)h=re(h);return Tu(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=Lf(f),h===null){if(!w)throw Error(o(318));if(!oe)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));It(h,f)}else Tu(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return bi(f),null}return Ts!==null&&(B5(Ts),Ts=null),f.flags&128?(f.lanes=E,f):(w=w!==null,E=!1,h===null?Lf(f):E=h.memoizedState!==null,w&&!E&&(f.child.flags|=8192,f.mode&1&&(h===null||En.current&1?Zn===0&&(Zn=3):R5())),f.updateQueue!==null&&(f.flags|=4),bi(f),null);case 4:return Ru(),zf(h,f),h===null&&Ve(f.stateNode.containerInfo),bi(f),null;case 10:return Q1(f.type._context),bi(f),null;case 17:return rr(f.type)&&l3(),bi(f),null;case 19:if(wt(En),M=f.memoizedState,M===null)return bi(f),null;if(w=(f.flags&128)!==0,b=M.rendering,b===null)if(w)Vf(M,!1);else{if(Zn!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(b=w3(h),b!==null){for(f.flags|=128,Vf(M,!1),h=b.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=E,w=f.child;w!==null;)E=w,M=h,E.flags&=14680066,b=E.alternate,b===null?(E.childLanes=0,E.lanes=M,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=b.childLanes,E.lanes=b.lanes,E.child=b.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=b.memoizedProps,E.memoizedState=b.memoizedState,E.updateQueue=b.updateQueue,E.type=b.type,M=b.dependencies,E.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),w=w.sibling;return Ht(En,En.current&1|2),f.child}h=h.sibling}M.tail!==null&&fi()>I5&&(f.flags|=128,w=!0,Vf(M,!1),f.lanes=4194304)}else{if(!w)if(h=w3(b),h!==null){if(f.flags|=128,w=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),Vf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!b.alternate&&!yn)return bi(f),null}else 2*fi()-M.renderingStartTime>I5&&E!==1073741824&&(f.flags|=128,w=!0,Vf(M,!1),f.lanes=4194304);M.isBackwards?(b.sibling=f.child,f.child=b):(h=M.last,h!==null?h.sibling=b:f.child=b,M.last=b)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=fi(),f.sibling=null,h=En.current,Ht(En,w?h&1|2:h&1),f):(bi(f),null);case 22:case 23:return b5(),w=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Cr&1073741824&&(bi(f),Be&&f.subtreeFlags&6&&(f.flags|=8192)):bi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var jk=a.ReactCurrentOwner,xr=!1;function Qi(h,f,E,w){f.child=h===null?L7(f,null,E,w):Bu(f,h.child,E,w)}function aC(h,f,E,w,M){E=E.render;var b=f.ref;return Iu(f,M),w=n5(h,f,E,w,b,M),E=i5(),h!==null&&!xr?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~M,qo(h,f,M)):(yn&&E&&J1(f),f.flags|=1,Qi(h,f,w,M),f.child)}function lC(h,f,E,w,M){if(h===null){var b=E.type;return typeof b=="function"&&!P5(b)&&b.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(f.tag=15,f.type=b,cC(h,f,b,w,M)):(h=eA(E.type,null,w,f,f.mode,M),h.ref=f.ref,h.return=f,f.child=h)}if(b=h.child,!(h.lanes&M)){var G=b.memoizedProps;if(E=E.compare,E=E!==null?E:A3,E(G,w)&&h.ref===f.ref)return qo(h,f,M)}return f.flags|=1,h=Oa(b,w),h.ref=f.ref,h.return=f,f.child=h}function cC(h,f,E,w,M){if(h!==null&&A3(h.memoizedProps,w)&&h.ref===f.ref)if(xr=!1,(h.lanes&M)!==0)h.flags&131072&&(xr=!0);else return f.lanes=h.lanes,qo(h,f,M);return c5(h,f,E,w,M)}function uC(h,f,E){var w=f.pendingProps,M=w.children,b=h!==null?h.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Ht(Du,Cr),Cr|=E;else if(E&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=b!==null?b.baseLanes:E,Ht(Du,Cr),Cr|=w;else return h=b!==null?b.baseLanes|E:E,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,Ht(Du,Cr),Cr|=h,null;else b!==null?(w=b.baseLanes|E,f.memoizedState=null):w=E,Ht(Du,Cr),Cr|=w;return Qi(h,f,M,E),f.child}function hC(h,f){var E=f.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(f.flags|=512,f.flags|=2097152)}function c5(h,f,E,w,M){var b=rr(E)?Vo:Zt.current;return b=Wo(f,b),Iu(f,M),E=n5(h,f,E,w,b,M),w=i5(),h!==null&&!xr?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~M,qo(h,f,M)):(yn&&w&&J1(f),f.flags|=1,Qi(h,f,E,M),f.child)}function fC(h,f,E,w,M){if(rr(E)){var b=!0;c3(f)}else b=!1;if(Iu(f,M),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),_7(f,E,w),W1(f,E,w,M),w=!0;else if(h===null){var G=f.stateNode,Z=f.memoizedProps;G.props=Z;var Ae=G.context,Fe=E.contextType;typeof Fe=="object"&&Fe!==null?Fe=jr(Fe):(Fe=rr(E)?Vo:Zt.current,Fe=Wo(f,Fe));var Xe=E.getDerivedStateFromProps,xt=typeof Xe=="function"||typeof G.getSnapshotBeforeUpdate=="function";xt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==w||Ae!==Fe)&&M7(f,G,w,Fe),Pa=!1;var ct=f.memoizedState;G.state=ct,y3(f,w,G,M),Ae=f.memoizedState,Z!==w||ct!==Ae||hi.current||Pa?(typeof Xe=="function"&&(V1(f,E,Xe,w),Ae=f.memoizedState),(Z=Pa||I7(f,E,Z,w,ct,Ae,Fe))?(xt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Ae),G.props=w,G.state=Ae,G.context=Fe,w=Z):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{G=f.stateNode,C7(h,f),Z=f.memoizedProps,Fe=f.type===f.elementType?Z:Ms(f.type,Z),G.props=Fe,xt=f.pendingProps,ct=G.context,Ae=E.contextType,typeof Ae=="object"&&Ae!==null?Ae=jr(Ae):(Ae=rr(E)?Vo:Zt.current,Ae=Wo(f,Ae));var nn=E.getDerivedStateFromProps;(Xe=typeof nn=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Z!==xt||ct!==Ae)&&M7(f,G,w,Ae),Pa=!1,ct=f.memoizedState,G.state=ct,y3(f,w,G,M);var rt=f.memoizedState;Z!==xt||ct!==rt||hi.current||Pa?(typeof nn=="function"&&(V1(f,E,nn,w),rt=f.memoizedState),(Fe=Pa||I7(f,E,Fe,w,ct,rt,Ae)||!1)?(Xe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,rt,Ae),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,rt,Ae)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=rt),G.props=w,G.state=rt,G.context=Ae,w=Fe):(typeof G.componentDidUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Z===h.memoizedProps&&ct===h.memoizedState||(f.flags|=1024),w=!1)}return u5(h,f,E,w,b,M)}function u5(h,f,E,w,M,b){hC(h,f);var G=(f.flags&128)!==0;if(!w&&!G)return M&&m7(f,E,!1),qo(h,f,b);w=f.stateNode,jk.current=f;var Z=G&&typeof E.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,h!==null&&G?(f.child=Bu(f,h.child,null,b),f.child=Bu(f,null,Z,b)):Qi(h,f,Z,b),f.memoizedState=w.state,M&&m7(f,E,!0),f.child}function dC(h){var f=h.stateNode;f.pendingContext?p7(h,f.pendingContext,f.pendingContext!==f.context):f.context&&p7(h,f.context,!1),q1(h,f.containerInfo)}function pC(h,f,E,w,M){return Tu(),X1(M),f.flags|=256,Qi(h,f,E,w),f.child}var L3={dehydrated:null,treeContext:null,retryLane:0};function F3(h){return{baseLanes:h,cachePool:null}}function AC(h,f,E){var w=f.pendingProps,M=En.current,b=!1,G=(f.flags&128)!==0,Z;if((Z=G)||(Z=h!==null&&h.memoizedState===null?!1:(M&2)!==0),Z?(b=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),Ht(En,M&1),h===null)return Y1(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?bf(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(M=w.children,h=w.fallback,b?(w=f.mode,b=f.child,M={mode:"hidden",children:M},!(w&1)&&b!==null?(b.childLanes=0,b.pendingProps=M):b=tA(M,w,0,null),h=sc(h,w,E,null),b.return=f,h.return=f,b.sibling=h,f.child=b,f.child.memoizedState=F3(E),f.memoizedState=L3,h):h5(f,M));if(M=h.memoizedState,M!==null){if(Z=M.dehydrated,Z!==null){if(G)return f.flags&256?(f.flags&=-257,k3(h,f,E,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(b=w.fallback,M=f.mode,w=tA({mode:"visible",children:w.children},M,0,null),b=sc(b,M,E,null),b.flags|=2,w.return=f,b.return=f,w.sibling=b,f.child=w,f.mode&1&&Bu(f,h.child,null,E),f.child.memoizedState=F3(E),f.memoizedState=L3,b);if(!(f.mode&1))f=k3(h,f,E,null);else if(bf(Z))f=k3(h,f,E,Error(o(419)));else if(w=(E&h.childLanes)!==0,xr||w){if(w=Jn,w!==null){switch(E&-E){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}w=b&(w.suspendedLanes|E)?0:b,w!==0&&w!==M.retryLane&&(M.retryLane=w,Zr(h,w,-1))}R5(),f=k3(h,f,E,Error(o(421)))}else a3(Z)?(f.flags|=128,f.child=h.child,f=oN.bind(null,h),O(Z,f),f=null):(E=M.treeContext,oe&&(yr=Ce(Z),vr=f,yn=!0,Ts=null,Df=!1,E!==null&&(Kr[Yr++]=Ko,Kr[Yr++]=Yo,Kr[Yr++]=ql,Ko=E.id,Yo=E.overflow,ql=f)),f=h5(f,f.pendingProps.children),f.flags|=4096);return f}return b?(w=gC(h,f,w.children,w.fallback,E),b=f.child,M=h.child.memoizedState,b.memoizedState=M===null?F3(E):{baseLanes:M.baseLanes|E,cachePool:null},b.childLanes=h.childLanes&~E,f.memoizedState=L3,w):(E=mC(h,f,w.children,E),f.memoizedState=null,E)}return b?(w=gC(h,f,w.children,w.fallback,E),b=f.child,M=h.child.memoizedState,b.memoizedState=M===null?F3(E):{baseLanes:M.baseLanes|E,cachePool:null},b.childLanes=h.childLanes&~E,f.memoizedState=L3,w):(E=mC(h,f,w.children,E),f.memoizedState=null,E)}function h5(h,f){return f=tA({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function mC(h,f,E,w){var M=h.child;return h=M.sibling,E=Oa(M,{mode:"visible",children:E}),!(f.mode&1)&&(E.lanes=w),E.return=f,E.sibling=null,h!==null&&(w=f.deletions,w===null?(f.deletions=[h],f.flags|=16):w.push(h)),f.child=E}function gC(h,f,E,w,M){var b=f.mode;h=h.child;var G=h.sibling,Z={mode:"hidden",children:E};return!(b&1)&&f.child!==h?(E=f.child,E.childLanes=0,E.pendingProps=Z,f.deletions=null):(E=Oa(h,Z),E.subtreeFlags=h.subtreeFlags&14680064),G!==null?w=Oa(G,w):(w=sc(w,b,M,null),w.flags|=2),w.return=f,E.return=f,E.sibling=w,f.child=E,w}function k3(h,f,E,w){return w!==null&&X1(w),Bu(f,h.child,null,E),h=h5(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function vC(h,f,E){h.lanes|=f;var w=h.alternate;w!==null&&(w.lanes|=f),H1(h.return,f,E)}function f5(h,f,E,w,M){var b=h.memoizedState;b===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:E,tailMode:M}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=w,b.tail=E,b.tailMode=M)}function yC(h,f,E){var w=f.pendingProps,M=w.revealOrder,b=w.tail;if(Qi(h,f,w.children,E),w=En.current,w&2)w=w&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&vC(h,E,f);else if(h.tag===19)vC(h,E,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}w&=1}if(Ht(En,w),!(f.mode&1))f.memoizedState=null;else switch(M){case"forwards":for(E=f.child,M=null;E!==null;)h=E.alternate,h!==null&&w3(h)===null&&(M=E),E=E.sibling;E=M,E===null?(M=f.child,f.child=null):(M=E.sibling,E.sibling=null),f5(f,!1,M,E,b);break;case"backwards":for(E=null,M=f.child,f.child=null;M!==null;){if(h=M.alternate,h!==null&&w3(h)===null){f.child=M;break}h=M.sibling,M.sibling=E,E=M,M=h}f5(f,!0,E,null,b);break;case"together":f5(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function qo(h,f,E){if(h!==null&&(f.dependencies=h.dependencies),Lu|=f.lanes,!(E&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,E=Oa(h,h.pendingProps),f.child=E,E.return=f;h.sibling!==null;)h=h.sibling,E=E.sibling=Oa(h,h.pendingProps),E.return=f;E.sibling=null}return f.child}function Kk(h,f,E){switch(f.tag){case 3:dC(f),Tu();break;case 5:F7(f);break;case 1:rr(f.type)&&c3(f);break;case 4:q1(f,f.stateNode.containerInfo);break;case 10:x7(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Ht(En,En.current&1),f.flags|=128,null):E&f.child.childLanes?AC(h,f,E):(Ht(En,En.current&1),h=qo(h,f,E),h!==null?h.sibling:null);Ht(En,En.current&1);break;case 19:if(w=(E&f.childLanes)!==0,h.flags&128){if(w)return yC(h,f,E);f.flags|=128}var M=f.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ht(En,En.current),w)break;return null;case 22:case 23:return f.lanes=0,uC(h,f,E)}return qo(h,f,E)}function Yk(h,f){switch(j1(f),f.tag){case 1:return rr(f.type)&&l3(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Ru(),wt(hi),wt(Zt),e5(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return Z1(f),null;case 13:if(wt(En),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Tu()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return wt(En),null;case 4:return Ru(),null;case 10:return Q1(f.type._context),null;case 22:case 23:return b5(),null;case 24:return null;default:return null}}var N3=!1,ec=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,ze=null;function O3(h,f){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(w){ar(h,f,w)}else E.current=null}function d5(h,f,E){try{E()}catch(w){ar(h,f,w)}}var xC=!1;function qk(h,f){for(j(h.containerInfo),ze=f;ze!==null;)if(h=ze,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,ze=f;else for(;ze!==null;){h=ze;try{var E=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,M=E.memoizedState,b=h.stateNode,G=b.getSnapshotBeforeUpdate(h.elementType===h.type?w:Ms(h.type,w),M);b.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Be&&Ue(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){ar(h,h.return,Z)}if(f=h.sibling,f!==null){f.return=h.return,ze=f;break}ze=h.return}return E=xC,xC=!1,E}function tc(h,f,E){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var M=w=w.next;do{if((M.tag&h)===h){var b=M.destroy;M.destroy=void 0,b!==void 0&&d5(f,E,b)}M=M.next}while(M!==w)}}function Wf(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var E=f=f.next;do{if((E.tag&h)===h){var w=E.create;E.destroy=w()}E=E.next}while(E!==f)}}function p5(h){var f=h.ref;if(f!==null){var E=h.stateNode;switch(h.tag){case 5:h=Y(E);break;default:h=E}typeof f=="function"?f(h):f.current=h}}function CC(h,f,E){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(d3,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var w=h=h.next;do{var M=w,b=M.destroy;M=M.tag,b!==void 0&&(M&2||M&4)&&d5(f,E,b),w=w.next}while(w!==h)}break;case 1:if(O3(f,E),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(G){ar(f,E,G)}break;case 5:O3(f,E);break;case 4:Be?MC(h,f,E):ce&&ce&&(f=f.stateNode.containerInfo,E=Vt(f),ro(f,E))}}function EC(h,f,E){for(var w=f;;)if(CC(h,w,E),w.child===null||Be&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function SC(h){var f=h.alternate;f!==null&&(h.alternate=null,SC(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&tt(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function wC(h){return h.tag===5||h.tag===3||h.tag===4}function IC(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||wC(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function _C(h){if(Be){e:{for(var f=h.return;f!==null;){if(wC(f))break e;f=f.return}throw Error(o(160))}var E=f;switch(E.tag){case 5:f=E.stateNode,E.flags&32&&(Pt(f),E.flags&=-33),E=IC(h),m5(h,E,f);break;case 3:case 4:f=E.stateNode.containerInfo,E=IC(h),A5(h,E,f);break;default:throw Error(o(161))}}}function A5(h,f,E){var w=h.tag;if(w===5||w===6)h=h.stateNode,f?Me(E,h,f):Ge(E,h);else if(w!==4&&(h=h.child,h!==null))for(A5(h,f,E),h=h.sibling;h!==null;)A5(h,f,E),h=h.sibling}function m5(h,f,E){var w=h.tag;if(w===5||w===6)h=h.stateNode,f?he(E,h,f):ot(E,h);else if(w!==4&&(h=h.child,h!==null))for(m5(h,f,E),h=h.sibling;h!==null;)m5(h,f,E),h=h.sibling}function MC(h,f,E){for(var w=f,M=!1,b,G;;){if(!M){M=w.return;e:for(;;){if(M===null)throw Error(o(160));switch(b=M.stateNode,M.tag){case 5:G=!1;break e;case 3:b=b.containerInfo,G=!0;break e;case 4:b=b.containerInfo,G=!0;break e}M=M.return}M=!0}if(w.tag===5||w.tag===6)EC(h,w,E),G?at(b,w.stateNode):Ne(b,w.stateNode);else if(w.tag===18)G?Rn(b,w.stateNode):Ft(b,w.stateNode);else if(w.tag===4){if(w.child!==null){b=w.stateNode.containerInfo,G=!0,w.child.return=w,w=w.child;continue}}else if(CC(h,w,E),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(M=!1)}w.sibling.return=w.return,w=w.sibling}}function g5(h,f){if(Be){switch(f.tag){case 0:case 11:case 14:case 15:tc(3,f,f.return),Wf(3,f),tc(5,f,f.return);return;case 1:return;case 5:var E=f.stateNode;if(E!=null){var w=f.memoizedProps;h=h!==null?h.memoizedProps:w;var M=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&K(E,b,M,h,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));E=f.memoizedProps,ge(f.stateNode,h!==null?h.memoizedProps:E,E);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Ot(f.stateNode.containerInfo);return;case 12:return;case 13:U3(f);return;case 19:U3(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:tc(3,f,f.return),Wf(3,f),tc(5,f,f.return);return;case 12:return;case 13:U3(f);return;case 19:U3(f);return;case 3:oe&&h!==null&&h.memoizedState.isDehydrated&&Ot(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ce){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,ro(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function U3(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new Xk),f.forEach(function(w){var M=aN.bind(null,h,w);E.has(w)||(E.add(w),w.then(M,M))})}}function Zk(h,f){for(ze=f;ze!==null;){f=ze;var E=f.deletions;if(E!==null)for(var w=0;w<E.length;w++){var M=E[w];try{var b=h;Be?MC(b,M,f):EC(b,M,f);var G=M.alternate;G!==null&&(G.return=null),M.return=null}catch(nt){ar(M,f,nt)}}if(E=f.child,f.subtreeFlags&12854&&E!==null)E.return=f,ze=E;else for(;ze!==null;){f=ze;try{var Z=f.flags;if(Z&32&&Be&&Pt(f.stateNode),Z&512){var Ae=f.alternate;if(Ae!==null){var Fe=Ae.ref;Fe!==null&&(typeof Fe=="function"?Fe(null):Fe.current=null)}}if(Z&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Xe=f.alternate;(Xe===null||Xe.memoizedState===null)&&(w5=fi())}break;case 22:var xt=f.memoizedState!==null,ct=f.alternate,nn=ct!==null&&ct.memoizedState!==null;if(E=f,Be){e:if(w=E,M=xt,b=null,Be)for(var rt=w;;){if(rt.tag===5){if(b===null){b=rt;var Ri=rt.stateNode;M?Nt(Ri):de(rt.stateNode,rt.memoizedProps)}}else if(rt.tag===6){if(b===null){var es=rt.stateNode;M?X(es):Se(es,rt.memoizedProps)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===w)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===w)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===w)break e;b===rt&&(b=null),rt=rt.return}b===rt&&(b=null),rt.sibling.return=rt.return,rt=rt.sibling}}if(xt&&!nn&&E.mode&1){ze=E;for(var se=E.child;se!==null;){for(E=ze=se;ze!==null;){w=ze;var te=w.child;switch(w.tag){case 0:case 11:case 14:case 15:tc(4,w,w.return);break;case 1:O3(w,w.return);var ue=w.stateNode;if(typeof ue.componentWillUnmount=="function"){var We=w.return;try{ue.props=w.memoizedProps,ue.state=w.memoizedState,ue.componentWillUnmount()}catch(nt){ar(w,We,nt)}}break;case 5:O3(w,w.return);break;case 22:if(w.memoizedState!==null){bC(E);continue}}te!==null?(te.return=w,ze=te):bC(E)}se=se.sibling}}}switch(Z&4102){case 2:_C(f),f.flags&=-3;break;case 6:_C(f),f.flags&=-3,g5(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,g5(f.alternate,f);break;case 4:g5(f.alternate,f)}}catch(nt){ar(f,f.return,nt)}if(E=f.sibling,E!==null){E.return=f.return,ze=E;break}ze=f.return}}}function $k(h,f,E){ze=h,TC(h)}function TC(h,f,E){for(var w=(h.mode&1)!==0;ze!==null;){var M=ze,b=M.child;if(M.tag===22&&w){var G=M.memoizedState!==null||N3;if(!G){var Z=M.alternate,Ae=Z!==null&&Z.memoizedState!==null||ec;Z=N3;var Fe=ec;if(N3=G,(ec=Ae)&&!Fe)for(ze=M;ze!==null;)G=ze,Ae=G.child,G.tag===22&&G.memoizedState!==null?RC(M):Ae!==null?(Ae.return=G,ze=Ae):RC(M);for(;b!==null;)ze=b,TC(b),b=b.sibling;ze=M,N3=Z,ec=Fe}BC(h)}else M.subtreeFlags&8772&&b!==null?(b.return=M,ze=b):BC(h)}}function BC(h){for(;ze!==null;){var f=ze;if(f.flags&8772){var E=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ec||Wf(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!ec)if(E===null)w.componentDidMount();else{var M=f.elementType===f.type?E.memoizedProps:Ms(f.type,E.memoizedProps);w.componentDidUpdate(M,E.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&S7(f,b,w);break;case 3:var G=f.updateQueue;if(G!==null){if(E=null,f.child!==null)switch(f.child.tag){case 5:E=Y(f.child.stateNode);break;case 1:E=f.child.stateNode}S7(f,G,E)}break;case 5:var Z=f.stateNode;E===null&&f.flags&4&&qe(Z,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&f.memoizedState===null){var Ae=f.alternate;if(Ae!==null){var Fe=Ae.memoizedState;if(Fe!==null){var Xe=Fe.dehydrated;Xe!==null&&Lt(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ec||f.flags&512&&p5(f)}catch(xt){ar(f,f.return,xt)}}if(f===h){ze=null;break}if(E=f.sibling,E!==null){E.return=f.return,ze=E;break}ze=f.return}}function bC(h){for(;ze!==null;){var f=ze;if(f===h){ze=null;break}var E=f.sibling;if(E!==null){E.return=f.return,ze=E;break}ze=f.return}}function RC(h){for(;ze!==null;){var f=ze;try{switch(f.tag){case 0:case 11:case 15:var E=f.return;try{Wf(4,f)}catch(Ae){ar(f,E,Ae)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var M=f.return;try{w.componentDidMount()}catch(Ae){ar(f,M,Ae)}}var b=f.return;try{p5(f)}catch(Ae){ar(f,b,Ae)}break;case 5:var G=f.return;try{p5(f)}catch(Ae){ar(f,G,Ae)}}}catch(Ae){ar(f,f.return,Ae)}if(f===h){ze=null;break}var Z=f.sibling;if(Z!==null){Z.return=f.return,ze=Z;break}ze=f.return}}var G3=0,Q3=1,H3=2,z3=3,V3=4;if(typeof Symbol=="function"&&Symbol.for){var Jf=Symbol.for;G3=Jf("selector.component"),Q3=Jf("selector.has_pseudo_class"),H3=Jf("selector.role"),z3=Jf("selector.test_id"),V3=Jf("selector.text")}function v5(h){var f=_e(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=Bt(h),h===null)throw Error(o(362));return h.stateNode.current}function y5(h,f){switch(f.$$typeof){case G3:if(h.type===f.value)return!0;break;case Q3:e:{f=f.value,h=[h,0];for(var E=0;E<h.length;){var w=h[E++],M=h[E++],b=f[M];if(w.tag!==5||!ae(w)){for(;b!=null&&y5(w,b);)M++,b=f[M];if(M===f.length){f=!0;break e}else for(w=w.child;w!==null;)h.push(w,M),w=w.sibling}}f=!1}return f;case H3:if(h.tag===5&&Ie(h.stateNode,f.value))return!0;break;case V3:if((h.tag===5||h.tag===6)&&(h=F(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case z3:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function x5(h){switch(h.$$typeof){case G3:return"<"+(B(h.value)||"Unknown")+">";case Q3:return":has("+(x5(h)||"")+")";case H3:return'[role="'+h.value+'"]';case V3:return'"'+h.value+'"';case z3:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function PC(h,f){var E=[];h=[h,0];for(var w=0;w<h.length;){var M=h[w++],b=h[w++],G=f[b];if(M.tag!==5||!ae(M)){for(;G!=null&&y5(M,G);)b++,G=f[b];if(b===f.length)E.push(M);else for(M=M.child;M!==null;)h.push(M,b),M=M.sibling}}return E}function C5(h,f){if(!St)throw Error(o(363));h=v5(h),h=PC(h,f),f=[],h=Array.from(h);for(var E=0;E<h.length;){var w=h[E++];if(w.tag===5)ae(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)h.push(w),w=w.sibling}return f}var eN=Math.ceil,W3=a.ReactCurrentDispatcher,E5=a.ReactCurrentOwner,Qn=a.ReactCurrentBatchConfig,Rt=0,Jn=null,jn=null,xi=0,Cr=0,Du=Wr(0),Zn=0,jf=null,Lu=0,J3=0,S5=0,Kf=null,sr=null,w5=0,I5=1/0;function Fu(){I5=fi()+500}var j3=!1,_5=null,La=null,K3=!1,Fa=null,Y3=0,Yf=0,M5=null,X3=-1,q3=0;function Hi(){return Rt&6?fi():X3!==-1?X3:X3=fi()}function ka(h){return h.mode&1?Rt&2&&xi!==0?xi&-xi:kk.transition!==null?(q3===0&&(h=u3,u3<<=1,!(u3&4194240)&&(u3=64),q3=h),q3):(h=Kt,h!==0?h:Oe()):1}function Zr(h,f,E){if(50<Yf)throw Yf=0,M5=null,Error(o(185));var w=Z3(h,f);return w===null?null:(Pf(w,f,E),(!(Rt&2)||w!==Jn)&&(w===Jn&&(!(Rt&2)&&(J3|=f),Zn===4&&Na(w,xi)),or(w,E),f===1&&Rt===0&&!(h.mode&1)&&(Fu(),p3&&ao())),w)}function Z3(h,f){h.lanes|=f;var E=h.alternate;for(E!==null&&(E.lanes|=f),E=h,h=h.return;h!==null;)h.childLanes|=f,E=h.alternate,E!==null&&(E.childLanes|=f),E=h,h=h.return;return E.tag===3?E.stateNode:null}function or(h,f){var E=h.callbackNode;Mk(h,f);var w=f3(h,h===Jn?xi:0);if(w===0)E!==null&&v7(E),h.callbackNode=null,h.callbackPriority=0;else if(f=w&-w,h.callbackPriority!==f){if(E!=null&&v7(E),f===1)h.tag===0?Fk(LC.bind(null,h)):y7(LC.bind(null,h)),et?Je(function(){Rt===0&&ao()}):F1(k1,ao),E=null;else{switch(g7(w)){case 1:E=k1;break;case 4:E=Rk;break;case 16:E=N1;break;case 536870912:E=Pk;break;default:E=N1}E=zC(E,DC.bind(null,h))}h.callbackPriority=f,h.callbackNode=E}}function DC(h,f){if(X3=-1,q3=0,Rt&6)throw Error(o(327));var E=h.callbackNode;if(rc()&&h.callbackNode!==E)return null;var w=f3(h,h===Jn?xi:0);if(w===0)return null;if(w&30||w&h.expiredLanes||f)f=$3(h,w);else{f=w;var M=Rt;Rt|=2;var b=NC();(Jn!==h||xi!==f)&&(Fu(),nc(h,f));do try{iN();break}catch(Z){kC(h,Z)}while(1);G1(),W3.current=b,Rt=M,jn!==null?f=0:(Jn=null,xi=0,f=Zn)}if(f!==0){if(f===2&&(M=P1(h),M!==0&&(w=M,f=T5(h,M))),f===1)throw E=jf,nc(h,0),Na(h,w),or(h,fi()),E;if(f===6)Na(h,w);else{if(M=h.current.alternate,!(w&30)&&!tN(M)&&(f=$3(h,w),f===2&&(b=P1(h),b!==0&&(w=b,f=T5(h,b))),f===1))throw E=jf,nc(h,0),Na(h,w),or(h,fi()),E;switch(h.finishedWork=M,h.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:ic(h,sr);break;case 3:if(Na(h,w),(w&130023424)===w&&(f=w5+500-fi(),10<f)){if(f3(h,0)!==0)break;if(M=h.suspendedLanes,(M&w)!==w){Hi(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=Te(ic.bind(null,h,sr),f);break}ic(h,sr);break;case 4:if(Na(h,w),(w&4194240)===w)break;for(f=h.eventTimes,M=-1;0<w;){var G=31-_s(w);b=1<<G,G=f[G],G>M&&(M=G),w&=~b}if(w=M,w=fi()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*eN(w/1960))-w,10<w){h.timeoutHandle=Te(ic.bind(null,h,sr),w);break}ic(h,sr);break;case 5:ic(h,sr);break;default:throw Error(o(329))}}}return or(h,fi()),h.callbackNode===E?DC.bind(null,h):null}function T5(h,f){var E=Kf;return h.current.memoizedState.isDehydrated&&(nc(h,f).flags|=256),h=$3(h,f),h!==2&&(f=sr,sr=E,f!==null&&B5(f)),h}function B5(h){sr===null?sr=h:sr.push.apply(sr,h)}function tN(h){for(var f=h;;){if(f.flags&16384){var E=f.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var w=0;w<E.length;w++){var M=E[w],b=M.getSnapshot;M=M.value;try{if(!oo(b(),M))return!1}catch{return!1}}}if(E=f.child,f.subtreeFlags&16384&&E!==null)E.return=f,f=E;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Na(h,f){for(f&=~S5,f&=~J3,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var E=31-_s(f),w=1<<E;h[E]=-1,f&=~w}}function LC(h){if(Rt&6)throw Error(o(327));rc();var f=f3(h,0);if(!(f&1))return or(h,fi()),null;var E=$3(h,f);if(h.tag!==0&&E===2){var w=P1(h);w!==0&&(f=w,E=T5(h,w))}if(E===1)throw E=jf,nc(h,0),Na(h,f),or(h,fi()),E;if(E===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,ic(h,sr),or(h,fi()),null}function FC(h){Fa!==null&&Fa.tag===0&&!(Rt&6)&&rc();var f=Rt;Rt|=1;var E=Qn.transition,w=Kt;try{if(Qn.transition=null,Kt=1,h)return h()}finally{Kt=w,Qn.transition=E,Rt=f,!(Rt&6)&&ao()}}function b5(){Cr=Du.current,wt(Du)}function nc(h,f){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==Le&&(h.timeoutHandle=Le,Pe(E)),jn!==null)for(E=jn.return;E!==null;){var w=E;switch(j1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&l3();break;case 3:Ru(),wt(hi),wt(Zt),e5();break;case 5:Z1(w);break;case 4:Ru();break;case 13:wt(En);break;case 19:wt(En);break;case 10:Q1(w.type._context);break;case 22:case 23:b5()}E=E.return}if(Jn=h,jn=h=Oa(h.current,null),xi=Cr=f,Zn=0,jf=null,S5=J3=Lu=0,sr=Kf=null,lo!==null){for(f=0;f<lo.length;f++)if(E=lo[f],w=E.interleaved,w!==null){E.interleaved=null;var M=w.next,b=E.pending;if(b!==null){var G=b.next;b.next=M,w.next=G}E.pending=w}lo=null}return h}function kC(h,f){do{var E=jn;try{if(G1(),I3.current=R3,_3){for(var w=Dn.memoizedState;w!==null;){var M=w.queue;M!==null&&(M.pending=null),w=w.next}_3=!1}if(Pu=0,di=Ti=Dn=null,Of=!1,Uf=0,E5.current=null,E===null||E.return===null){Zn=1,jf=f,jn=null;break}e:{var b=h,G=E.return,Z=E,Ae=f;if(f=xi,Z.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Fe=Ae,Xe=Z,xt=Xe.tag;if(!(Xe.mode&1)&&(xt===0||xt===11||xt===15)){var ct=Xe.alternate;ct?(Xe.updateQueue=ct.updateQueue,Xe.memoizedState=ct.memoizedState,Xe.lanes=ct.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var nn=iC(G);if(nn!==null){nn.flags&=-257,rC(nn,G,Z,b,f),nn.mode&1&&nC(b,Fe,f),f=nn,Ae=Fe;var rt=f.updateQueue;if(rt===null){var Ri=new Set;Ri.add(Ae),f.updateQueue=Ri}else rt.add(Ae);break e}else{if(!(f&1)){nC(b,Fe,f),R5();break e}Ae=Error(o(426))}}else if(yn&&Z.mode&1){var es=iC(G);if(es!==null){!(es.flags&65536)&&(es.flags|=256),rC(es,G,Z,b,f),X1(Ae);break e}}b=Ae,Zn!==4&&(Zn=2),Kf===null?Kf=[b]:Kf.push(b),Ae=a5(Ae,Z),Z=G;do{switch(Z.tag){case 3:Z.flags|=65536,f&=-f,Z.lanes|=f;var se=eC(Z,Ae,f);E7(Z,se);break e;case 1:b=Ae;var te=Z.type,ue=Z.stateNode;if(!(Z.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(La===null||!La.has(ue)))){Z.flags|=65536,f&=-f,Z.lanes|=f;var We=tC(Z,b,f);E7(Z,We);break e}}Z=Z.return}while(Z!==null)}UC(E)}catch(nt){f=nt,jn===E&&E!==null&&(jn=E=E.return);continue}break}while(1)}function NC(){var h=W3.current;return W3.current=R3,h===null?R3:h}function R5(){(Zn===0||Zn===3||Zn===2)&&(Zn=4),Jn===null||!(Lu&268435455)&&!(J3&268435455)||Na(Jn,xi)}function $3(h,f){var E=Rt;Rt|=2;var w=NC();Jn===h&&xi===f||nc(h,f);do try{nN();break}catch(M){kC(h,M)}while(1);if(G1(),Rt=E,W3.current=w,jn!==null)throw Error(o(261));return Jn=null,xi=0,Zn}function nN(){for(;jn!==null;)OC(jn)}function iN(){for(;jn!==null&&!Bk();)OC(jn)}function OC(h){var f=HC(h.alternate,h,Cr);h.memoizedProps=h.pendingProps,f===null?UC(h):jn=f,E5.current=null}function UC(h){var f=h;do{var E=f.alternate;if(h=f.return,f.flags&32768){if(E=Yk(E,f),E!==null){E.flags&=32767,jn=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Zn=6,jn=null;return}}else if(E=Jk(E,f,Cr),E!==null){jn=E;return}if(f=f.sibling,f!==null){jn=f;return}jn=f=h}while(f!==null);Zn===0&&(Zn=5)}function ic(h,f){var E=Kt,w=Qn.transition;try{Qn.transition=null,Kt=1,rN(h,f,E)}finally{Qn.transition=w,Kt=E}return null}function rN(h,f,E){do rc();while(Fa!==null);if(Rt&6)throw Error(o(327));var w=h.finishedWork,M=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var b=w.lanes|w.childLanes;if(Tk(h,b),h===Jn&&(jn=Jn=null,xi=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||K3||(K3=!0,zC(N1,function(){return rc(),null})),b=(w.flags&15990)!==0,w.subtreeFlags&15990||b){b=Qn.transition,Qn.transition=null;var G=Kt;Kt=1;var Z=Rt;Rt|=4,E5.current=null,qk(h,w),Zk(h,w),W(h.containerInfo),h.current=w,$k(w),bk(),Rt=Z,Kt=G,Qn.transition=b}else h.current=w;if(K3&&(K3=!1,Fa=h,Y3=M),b=h.pendingLanes,b===0&&(La=null),Dk(w.stateNode),or(h,fi()),f!==null)for(E=h.onRecoverableError,w=0;w<f.length;w++)E(f[w]);if(j3)throw j3=!1,h=_5,_5=null,h;return Y3&1&&h.tag!==0&&rc(),b=h.pendingLanes,b&1?h===M5?Yf++:(Yf=0,M5=h):Yf=0,ao(),null}function rc(){if(Fa!==null){var h=g7(Y3),f=Qn.transition,E=Kt;try{if(Qn.transition=null,Kt=16>h?16:h,Fa===null)var w=!1;else{if(h=Fa,Fa=null,Y3=0,Rt&6)throw Error(o(331));var M=Rt;for(Rt|=4,ze=h.current;ze!==null;){var b=ze,G=b.child;if(ze.flags&16){var Z=b.deletions;if(Z!==null){for(var Ae=0;Ae<Z.length;Ae++){var Fe=Z[Ae];for(ze=Fe;ze!==null;){var Xe=ze;switch(Xe.tag){case 0:case 11:case 15:tc(8,Xe,b)}var xt=Xe.child;if(xt!==null)xt.return=Xe,ze=xt;else for(;ze!==null;){Xe=ze;var ct=Xe.sibling,nn=Xe.return;if(SC(Xe),Xe===Fe){ze=null;break}if(ct!==null){ct.return=nn,ze=ct;break}ze=nn}}}var rt=b.alternate;if(rt!==null){var Ri=rt.child;if(Ri!==null){rt.child=null;do{var es=Ri.sibling;Ri.sibling=null,Ri=es}while(Ri!==null)}}ze=b}}if(b.subtreeFlags&2064&&G!==null)G.return=b,ze=G;else e:for(;ze!==null;){if(b=ze,b.flags&2048)switch(b.tag){case 0:case 11:case 15:tc(9,b,b.return)}var se=b.sibling;if(se!==null){se.return=b.return,ze=se;break e}ze=b.return}}var te=h.current;for(ze=te;ze!==null;){G=ze;var ue=G.child;if(G.subtreeFlags&2064&&ue!==null)ue.return=G,ze=ue;else e:for(G=te;ze!==null;){if(Z=ze,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:Wf(9,Z)}}catch(nt){ar(Z,Z.return,nt)}if(Z===G){ze=null;break e}var We=Z.sibling;if(We!==null){We.return=Z.return,ze=We;break e}ze=Z.return}}if(Rt=M,ao(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(d3,h)}catch{}w=!0}return w}finally{Kt=E,Qn.transition=f}}return!1}function GC(h,f,E){f=a5(E,f),f=eC(h,f,1),Da(h,f),f=Hi(),h=Z3(h,1),h!==null&&(Pf(h,1,f),or(h,f))}function ar(h,f,E){if(h.tag===3)GC(h,h,E);else for(;f!==null;){if(f.tag===3){GC(f,h,E);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(La===null||!La.has(w))){h=a5(E,h),h=tC(f,h,1),Da(f,h),h=Hi(),f=Z3(f,1),f!==null&&(Pf(f,1,h),or(f,h));break}}f=f.return}}function sN(h,f,E){var w=h.pingCache;w!==null&&w.delete(f),f=Hi(),h.pingedLanes|=h.suspendedLanes&E,Jn===h&&(xi&E)===E&&(Zn===4||Zn===3&&(xi&130023424)===xi&&500>fi()-w5?nc(h,0):S5|=E),or(h,f)}function QC(h,f){f===0&&(h.mode&1?(f=h3,h3<<=1,!(h3&130023424)&&(h3=4194304)):f=1);var E=Hi();h=Z3(h,f),h!==null&&(Pf(h,f,E),or(h,E))}function oN(h){var f=h.memoizedState,E=0;f!==null&&(E=f.retryLane),QC(h,E)}function aN(h,f){var E=0;switch(h.tag){case 13:var w=h.stateNode,M=h.memoizedState;M!==null&&(E=M.retryLane);break;case 19:w=h.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),QC(h,E)}var HC;HC=function(h,f,E){if(h!==null)if(h.memoizedProps!==f.pendingProps||hi.current)xr=!0;else{if(!(h.lanes&E)&&!(f.flags&128))return xr=!1,Kk(h,f,E);xr=!!(h.flags&131072)}else xr=!1,yn&&f.flags&1048576&&T7(f,E3,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var M=Wo(f,Zt.current);Iu(f,E),M=n5(null,f,w,h,M,E);var b=i5();return f.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,rr(w)?(b=!0,c3(f)):b=!1,f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,z1(f),M.updater=x3,f.stateNode=M,M._reactInternals=f,W1(f,w,h,E),f=u5(null,f,w,!0,b,E)):(f.tag=0,yn&&b&&J1(f),Qi(null,f,M,E),f=f.child),f;case 16:w=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,M=w._init,w=M(w._payload),f.type=w,M=f.tag=cN(w),h=Ms(w,h),M){case 0:f=c5(null,f,w,h,E);break e;case 1:f=fC(null,f,w,h,E);break e;case 11:f=aC(null,f,w,h,E);break e;case 14:f=lC(null,f,w,Ms(w.type,h),E);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,M=f.pendingProps,M=f.elementType===w?M:Ms(w,M),c5(h,f,w,M,E);case 1:return w=f.type,M=f.pendingProps,M=f.elementType===w?M:Ms(w,M),fC(h,f,w,M,E);case 3:e:{if(dC(f),h===null)throw Error(o(387));w=f.pendingProps,b=f.memoizedState,M=b.element,C7(h,f),y3(f,w,null,E);var G=f.memoizedState;if(w=G.element,oe&&b.isDehydrated)if(b={element:w,isDehydrated:!1,cache:G.cache,transitions:G.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){M=Error(o(423)),f=pC(h,f,w,E,M);break e}else if(w!==M){M=Error(o(424)),f=pC(h,f,w,E,M);break e}else for(oe&&(yr=ie(f.stateNode.containerInfo),vr=f,yn=!0,Ts=null,Df=!1),E=L7(f,null,w,E),f.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Tu(),w===M){f=qo(h,f,E);break e}Qi(h,f,w,E)}f=f.child}return f;case 5:return F7(f),h===null&&Y1(f),w=f.type,M=f.pendingProps,b=h!==null?h.memoizedProps:null,G=M.children,ye(w,M)?G=null:b!==null&&ye(w,b)&&(f.flags|=32),hC(h,f),Qi(h,f,G,E),f.child;case 6:return h===null&&Y1(f),null;case 13:return AC(h,f,E);case 4:return q1(f,f.stateNode.containerInfo),w=f.pendingProps,h===null?f.child=Bu(f,null,w,E):Qi(h,f,w,E),f.child;case 11:return w=f.type,M=f.pendingProps,M=f.elementType===w?M:Ms(w,M),aC(h,f,w,M,E);case 7:return Qi(h,f,f.pendingProps,E),f.child;case 8:return Qi(h,f,f.pendingProps.children,E),f.child;case 12:return Qi(h,f,f.pendingProps.children,E),f.child;case 10:e:{if(w=f.type._context,M=f.pendingProps,b=f.memoizedProps,G=M.value,x7(f,w,G),b!==null)if(oo(b.value,G)){if(b.children===M.children&&!hi.current){f=qo(h,f,E);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Z=b.dependencies;if(Z!==null){G=b.child;for(var Ae=Z.firstContext;Ae!==null;){if(Ae.context===w){if(b.tag===1){Ae=jo(-1,E&-E),Ae.tag=2;var Fe=b.updateQueue;if(Fe!==null){Fe=Fe.shared;var Xe=Fe.pending;Xe===null?Ae.next=Ae:(Ae.next=Xe.next,Xe.next=Ae),Fe.pending=Ae}}b.lanes|=E,Ae=b.alternate,Ae!==null&&(Ae.lanes|=E),H1(b.return,E,f),Z.lanes|=E;break}Ae=Ae.next}}else if(b.tag===10)G=b.type===f.type?null:b.child;else if(b.tag===18){if(G=b.return,G===null)throw Error(o(341));G.lanes|=E,Z=G.alternate,Z!==null&&(Z.lanes|=E),H1(G,E,f),G=b.sibling}else G=b.child;if(G!==null)G.return=b;else for(G=b;G!==null;){if(G===f){G=null;break}if(b=G.sibling,b!==null){b.return=G.return,G=b;break}G=G.return}b=G}Qi(h,f,M.children,E),f=f.child}return f;case 9:return M=f.type,w=f.pendingProps.children,Iu(f,E),M=jr(M),w=w(M),f.flags|=1,Qi(h,f,w,E),f.child;case 14:return w=f.type,M=Ms(w,f.pendingProps),M=Ms(w.type,M),lC(h,f,w,M,E);case 15:return cC(h,f,f.type,f.pendingProps,E);case 17:return w=f.type,M=f.pendingProps,M=f.elementType===w?M:Ms(w,M),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,rr(w)?(h=!0,c3(f)):h=!1,Iu(f,E),_7(f,w,M),W1(f,w,M,E),u5(null,f,w,!0,h,E);case 19:return yC(h,f,E);case 22:return uC(h,f,E)}throw Error(o(156,f.tag))};function zC(h,f){return F1(h,f)}function lN(h,f,E,w){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(h,f,E,w){return new lN(h,f,E,w)}function P5(h){return h=h.prototype,!(!h||!h.isReactComponent)}function cN(h){if(typeof h=="function")return P5(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===y)return 14}return 2}function Oa(h,f){var E=h.alternate;return E===null?(E=$r(h.tag,f,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=f,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,f=h.dependencies,E.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function eA(h,f,E,w,M,b){var G=2;if(w=h,typeof h=="function")P5(h)&&(G=1);else if(typeof h=="string")G=5;else e:switch(h){case u:return sc(E.children,M,b,f);case d:G=8,M|=8;break;case p:return h=$r(12,E,f,M|2),h.elementType=p,h.lanes=b,h;case v:return h=$r(13,E,f,M),h.elementType=v,h.lanes=b,h;case C:return h=$r(19,E,f,M),h.elementType=C,h.lanes=b,h;case S:return tA(E,M,b,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case A:G=10;break e;case m:G=9;break e;case g:G=11;break e;case y:G=14;break e;case x:G=16,w=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=$r(G,E,f,M),f.elementType=h,f.type=w,f.lanes=b,f}function sc(h,f,E,w){return h=$r(7,h,w,f),h.lanes=E,h}function tA(h,f,E,w){return h=$r(22,h,w,f),h.elementType=S,h.lanes=E,h.stateNode={},h}function D5(h,f,E){return h=$r(6,h,null,f),h.lanes=E,h}function L5(h,f,E){return f=$r(4,h.children!==null?h.children:[],h.key,f),f.lanes=E,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function uN(h,f,E,w,M){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D1(0),this.expirationTimes=D1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D1(0),this.identifierPrefix=w,this.onRecoverableError=M,oe&&(this.mutableSourceEagerHydrationData=null)}function VC(h,f,E,w,M,b,G,Z,Ae){return h=new uN(h,f,E,Z,Ae),f===1?(f=1,b===!0&&(f|=8)):f=0,b=$r(3,null,null,f),h.current=b,b.stateNode=h,b.memoizedState={element:w,isDehydrated:E,cache:null,transitions:null},z1(b),h}function WC(h){if(!h)return Jr;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(rr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var E=h.type;if(rr(E))return A7(h,E,f)}return f}function JC(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=H(f),h===null?null:h.stateNode}function jC(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<f?E:f}}function F5(h,f){jC(h,f),(h=h.alternate)&&jC(h,f)}function hN(h){return h=H(h),h===null?null:h.stateNode}function fN(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var f=Hi();Zr(h,134217728,f),F5(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=Hi(),E=ka(h);Zr(h,E,f),F5(h,E)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var E=Rf(f.pendingLanes);E!==0&&(L1(f,E|1),or(f,fi()),!(Rt&6)&&(Fu(),ao()))}break;case 13:var w=Hi();FC(function(){return Zr(h,1,w)}),F5(h,1)}},n.batchedUpdates=function(h,f){var E=Rt;Rt|=1;try{return h(f)}finally{Rt=E,Rt===0&&(Fu(),p3&&ao())}},n.createComponentSelector=function(h){return{$$typeof:G3,value:h}},n.createContainer=function(h,f,E,w,M,b,G){return VC(h,f,!1,null,E,w,M,b,G)},n.createHasPseudoClassSelector=function(h){return{$$typeof:Q3,value:h}},n.createHydrationContainer=function(h,f,E,w,M,b,G,Z,Ae){return h=VC(E,w,!0,h,M,b,G,Z,Ae),h.context=WC(null),E=h.current,w=Hi(),M=ka(E),b=jo(w,M),b.callback=f??null,Da(E,b),h.current.lanes=M,Pf(h,M,w),or(h,w),h},n.createPortal=function(h,f,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:h,containerInfo:f,implementation:E}},n.createRoleSelector=function(h){return{$$typeof:H3,value:h}},n.createTestNameSelector=function(h){return{$$typeof:z3,value:h}},n.createTextSelector=function(h){return{$$typeof:V3,value:h}},n.deferredUpdates=function(h){var f=Kt,E=Qn.transition;try{return Qn.transition=null,Kt=16,h()}finally{Kt=f,Qn.transition=E}},n.discreteUpdates=function(h,f,E,w,M){var b=Kt,G=Qn.transition;try{return Qn.transition=null,Kt=1,h(f,E,w,M)}finally{Kt=b,Qn.transition=G,Rt===0&&Fu()}},n.findAllNodes=C5,n.findBoundingRects=function(h,f){if(!St)throw Error(o(363));f=C5(h,f),h=[];for(var E=0;E<f.length;E++)h.push(Q(f[E]));for(f=h.length-1;0<f;f--){E=h[f];for(var w=E.x,M=w+E.width,b=E.y,G=b+E.height,Z=f-1;0<=Z;Z--)if(f!==Z){var Ae=h[Z],Fe=Ae.x,Xe=Fe+Ae.width,xt=Ae.y,ct=xt+Ae.height;if(w>=Fe&&b>=xt&&M<=Xe&&G<=ct){h.splice(f,1);break}else if(w!==Fe||E.width!==Ae.width||ct<b||xt>G){if(!(b!==xt||E.height!==Ae.height||Xe<w||Fe>M)){Fe>w&&(Ae.width+=Fe-w,Ae.x=w),Xe<M&&(Ae.width=M-Fe),h.splice(f,1);break}}else{xt>b&&(Ae.height+=xt-b,Ae.y=b),ct<G&&(Ae.height=G-xt),h.splice(f,1);break}}}return h},n.findHostInstance=JC,n.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?U(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return JC(h)},n.flushControlled=function(h){var f=Rt;Rt|=1;var E=Qn.transition,w=Kt;try{Qn.transition=null,Kt=1,h()}finally{Kt=w,Qn.transition=E,Rt=f,Rt===0&&(Fu(),ao())}},n.flushPassiveEffects=rc,n.flushSync=FC,n.focusWithin=function(h,f){if(!St)throw Error(o(363));for(h=v5(h),f=PC(h,f),f=Array.from(f),h=0;h<f.length;){var E=f[h++];if(!ae(E)){if(E.tag===5&&De(E.stateNode))return!0;for(E=E.child;E!==null;)f.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Kt},n.getFindAllNodesFailureDescription=function(h,f){if(!St)throw Error(o(363));var E=0,w=[];h=[v5(h),0];for(var M=0;M<h.length;){var b=h[M++],G=h[M++],Z=f[G];if((b.tag!==5||!ae(b))&&(y5(b,Z)&&(w.push(x5(Z)),G++,G>E&&(E=G)),G<f.length))for(b=b.child;b!==null;)h.push(b,G),b=b.sibling}if(E<f.length){for(h=[];E<f.length;E++)h.push(x5(f[E]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return Y(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:hN,findFiberByHostInstance:h.findFiberByHostInstance||fN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{d3=f.inject(h),so=f}catch{}h=!!f.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,f,E,w){if(!St)throw Error(o(363));h=C5(h,f);var M=ke(h,E,w).disconnect;return{disconnect:function(){M()}}},n.registerMutableSourceForHydration=function(h,f){var E=f._getVersion;E=E(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,E]:h.mutableSourceEagerHydrationData.push(f,E)},n.runWithPriority=function(h,f){var E=Kt;try{return Kt=h,f()}finally{Kt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,f,E,w){var M=f.current,b=Hi(),G=ka(M);return E=WC(E),f.context===null?f.context=E:f.pendingContext=E,f=jo(b,G),f.payload={element:h},w=w===void 0?null:w,w!==null&&(f.callback=w),Da(M,f),h=Zr(M,G,b),h!==null&&v3(h,M,G),G},n};dP.exports=hK;var fK=dP.exports;const dK=m4(fK),pK=t=>typeof t=="object"&&typeof t.then=="function",Qc=[];function mP(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function gP(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const s of Qc)if(mP(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!n)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=Qc.indexOf(r);s!==-1&&Qc.splice(s,1)},promise:(pK(t)?t:t(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(Qc.push(r),!n)throw r.promise}const AK=(t,e,n)=>gP(t,e,!1,n),mK=(t,e,n)=>void gP(t,e,!0,n),gK=t=>{if(t===void 0||t.length===0)Qc.splice(0,Qc.length);else{const e=Qc.find(n=>mP(t,n.keys,n.equal));e&&e.remove()}},Zx={},vK=t=>void Object.assign(Zx,t);function yK(t,e){function n(u,{args:d=[],attach:p,...A},m){let g=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(A.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const C=A.object;v=rh(C,{type:u,root:m,attach:p,primitive:!0})}else{const C=Zx[g];if(!C)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=rh(new C(...d),{type:u,root:m,attach:p,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v instanceof gt?v.__r3f.attach="geometry":v instanceof qn&&(v.__r3f.attach="material")),g!=="inject"&&Wv(v,A),v}function i(u,d){let p=!1;if(d){var A,m;(A=d.__r3f)!=null&&A.attach?Vv(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(m=u.__r3f)==null||m.objects.push(d),d.__r3f||rh(d,{}),d.__r3f.parent=u,g8(d),sh(d)}}function r(u,d,p){let A=!1;if(d){var m,g;if((m=d.__r3f)!=null&&m.attach)Vv(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const v=u.children.filter(y=>y!==d),C=v.indexOf(p);u.children=[...v.slice(0,C),d,...v.slice(C)],A=!0}A||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||rh(d,{}),d.__r3f.parent=u,g8(d),sh(d)}}function s(u,d,p=!1){u&&[...u].forEach(A=>o(d,A,p))}function o(u,d,p){if(d){var A,m,g;if(d.__r3f&&(d.__r3f.parent=null),(A=u.__r3f)!=null&&A.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==d)),(m=d.__r3f)!=null&&m.attach)Lw(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var v;u.remove(d),(v=d.__r3f)!=null&&v.root&&MK(d.__r3f.root,d)}const y=(g=d.__r3f)==null?void 0:g.primitive,x=p===void 0?d.dispose!==null&&!y:p;if(!y){var C;s((C=d.__r3f)==null?void 0:C.objects,d,x),s(d.children,d,x)}delete d.__r3f,x&&d.dispose&&d.type!=="Scene"&&A8.unstable_scheduleCallback(A8.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),sh(u)}}function a(u,d,p,A){var m;const g=(m=u.__r3f)==null?void 0:m.parent;if(!g)return;const v=n(d,p,u.__r3f.root);if(u.children){for(const C of u.children)C.__r3f&&i(v,C);u.children=u.children.filter(C=>!C.__r3f)}u.__r3f.objects.forEach(C=>i(v,C)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),i(g,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[A,A.alternate].forEach(C=>{C!==null&&(C.stateNode=v,C.ref&&(typeof C.ref=="function"?C.ref(v):C.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:dK({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,i(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const A=u.getState().scene;A.__r3f&&r(A,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,A){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&A.object&&A.object!==u)return[!0];{const{args:v=[],children:C,...y}=A,{args:x=[],children:S,...I}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((B,_)=>B!==x[_]))return[!0];const T=wP(u,y,I,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[d,p],A,m,g,v){d?a(u,A,g,v):Wv(u,p)},commitMount(u,d,p,A){var m;const g=(m=u.__r3f)!=null?m:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>rh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:A}=(d=u.__r3f)!=null?d:{};p&&A&&Lw(A,u,p),u.isObject3D&&(u.visible=!1),sh(u)},unhideInstance(u,d){var p;const{attach:A,parent:m}=(p=u.__r3f)!=null?p:{};A&&m&&Vv(m,u,A),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),sh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&An.fun(performance.now)?performance.now:An.fun(Date.now)?Date.now:()=>0,scheduleTimeout:An.fun(setTimeout)?setTimeout:void 0,cancelTimeout:An.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Wv}}var bw,Rw;const zv=t=>"colorSpace"in t||"outputColorSpace"in t,vP=()=>{var t;return(t=Zx.ColorManagement)!=null?t:null},yP=t=>t&&t.isOrthographicCamera,xK=t=>t&&t.hasOwnProperty("current"),N0=typeof window<"u"&&((bw=window.document)!=null&&bw.createElement||((Rw=window.navigator)==null?void 0:Rw.product)==="ReactNative")?V.useLayoutEffect:V.useEffect;function xP(t){const e=V.useRef(t);return N0(()=>void(e.current=t),[t]),e}function CK({set:t}){return N0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class CP extends V.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}CP.getDerivedStateFromError=()=>({error:!0});const EP="__default",Pw=new Map,EK=t=>t&&!!t.memoized&&!!t.changes;function SP(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const md=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},An={obj:t=>t===Object(t)&&!An.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(An.str(t)||An.num(t))return t===e;const s=An.obj(t);if(s&&i==="reference")return t===e;const o=An.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!An.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(An.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function SK(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function wK(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function rh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function m8(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const Dw=/-\d+$/;function Vv(t,e,n){if(An.str(n)){if(Dw.test(n)){const s=n.replace(Dw,""),{target:o,key:a}=m8(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=m8(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function Lw(t,e,n){var i,r;if(An.str(n)){const{target:s,key:o}=m8(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function wP(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=t==null?void 0:t.__r3f)!=null?u:{},p=Object.entries(r),A=[];if(c){const g=Object.keys(l);for(let v=0;v<g.length;v++)r.hasOwnProperty(g[v])||p.unshift([g[v],EP+"remove"])}p.forEach(([g,v])=>{var C;if((C=t.__r3f)!=null&&C.primitive&&g==="object"||An.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return A.push([g,v,!0,[]]);let y=[];g.includes("-")&&(y=g.split("-")),A.push([g,v,!1,y]);for(const x in r){const S=r[x];x.startsWith(`${g}-`)&&A.push([x,S,!1,x.split("-")])}});const m={...r};return d.memoizedProps&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:A}}function Wv(t,e){var n,i,r;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=EK(e)?e:wP(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[A,m,g,v]=c[p];if(zv(t)){const S="srgb",I="srgb-linear";A==="encoding"?(A="colorSpace",m=m===3001?S:I):A==="outputEncoding"&&(A="outputColorSpace",m=m===3001?S:I)}let C=t,y=C[A];if(v.length&&(y=v.reduce((x,S)=>x[S],t),!(y&&y.set))){const[x,...S]=v.reverse();C=S.reverse().reduce((I,T)=>I[T],t),A=x}if(m===EP+"remove")if(C.constructor){let x=Pw.get(C.constructor);x||(x=new C.constructor,Pw.set(C.constructor,x)),m=x[A]}else m=0;if(g)m?s.handlers[A]=m:delete s.handlers[A],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Yc)){if(Array.isArray(m))y.fromArray?y.fromArray(m):y.set(...m);else if(y.copy&&m&&m.constructor&&y.constructor===m.constructor)y.copy(m);else if(m!==void 0){const x=y instanceof Re;!x&&y.setScalar?y.setScalar(m):y instanceof Yc&&m instanceof Yc?y.mask=m.mask:y.set(m),!vP()&&!a.linear&&x&&y.convertSRGBToLinear()}}else if(C[A]=m,C[A]instanceof gn&&C[A].format===Nn&&C[A].type===gi){const x=C[A];zv(x)&&zv(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}sh(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=t.__r3f)!=null&&r.parent&&g8(t),t}function sh(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function g8(t){t.onUpdate==null||t.onUpdate(t)}function IK(t,e){t.manual||(yP(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function rm(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function _K(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sh.ContinuousEventPriority;default:return Sh.DefaultEventPriority}}function IP(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function MK(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{IP(n.capturedMap,e,i,r)})}function TK(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function i(l,c){const u=t.getState(),d=new Set,p=[],A=c?c(u.internal.interaction):u.internal.interaction;for(let C=0;C<A.length;C++){const y=md(A[C]);y&&(y.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(C){const y=md(C);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var x;y.events.compute==null||y.events.compute(l,y,(x=y.previousRoot)==null?void 0:x.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(C,!0):[]}let g=A.flatMap(m).sort((C,y)=>{const x=md(C.object),S=md(y.object);return!x||!S?C.distance-y.distance:S.events.priority-x.events.priority||C.distance-y.distance}).filter(C=>{const y=rm(C);return d.has(y)?!1:(d.add(y),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const C of g){let y=C.object;for(;y;){var v;(v=y.__r3f)!=null&&v.eventCount&&p.push({...C,eventObject:y}),y=y.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let C of u.internal.capturedMap.get(l.pointerId).values())d.has(rm(C.intersection))||p.push(C.intersection);return p}function r(l,c,u,d){const p=t.getState();if(l.length){const A={stopped:!1};for(const m of l){const g=md(m.object)||p,{raycaster:v,pointer:C,camera:y,internal:x}=g,S=new D(C.x,C.y,0).unproject(y),I=P=>{var L,H;return(L=(H=x.capturedMap.get(P))==null?void 0:H.has(m.eventObject))!=null?L:!1},T=P=>{const L={intersection:m,target:c.target};x.capturedMap.has(P)?x.capturedMap.get(P).set(m.eventObject,L):x.capturedMap.set(P,new Map([[m.eventObject,L]])),c.target.setPointerCapture(P)},B=P=>{const L=x.capturedMap.get(P);L&&IP(x.capturedMap,m.eventObject,L,P)};let _={};for(let P in c){let L=c[P];typeof L!="function"&&(_[P]=L)}let R={...m,..._,pointer:C,intersections:l,stopped:A.stopped,delta:u,unprojectedPoint:S,ray:v.ray,camera:y,stopPropagation(){const P="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!P||P.has(m.eventObject))&&(R.stopped=A.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(L=>L.eventObject===m.eventObject))){const L=l.slice(0,l.indexOf(m));s([...L,m])}},target:{hasPointerCapture:I,setPointerCapture:T,releasePointerCapture:B},currentTarget:{hasPointerCapture:I,setPointerCapture:T,releasePointerCapture:B},nativeEvent:c};if(d(R),A.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,A=p==null?void 0:p.handlers;if(c.hovered.delete(rm(u)),p!=null&&p.eventCount){const m={...u,intersections:l};A.onPointerOut==null||A.onPointerOut(m),A.onPointerLeave==null||A.onPointerLeave(m)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=u;const A=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=i(u,A?n:void 0),C=m?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(x=>x.eventObject)),m&&!v.length&&C<=2&&(o(u,p.interaction),d&&d(u)),A&&s(v);function y(x){const S=x.eventObject,I=S.__r3f,T=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(A){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const B=rm(x),_=p.hovered.get(B);_?_.stopped&&x.stopPropagation():(p.hovered.set(B,x),T.onPointerOver==null||T.onPointerOver(x),T.onPointerEnter==null||T.onPointerEnter(x))}T.onPointerMove==null||T.onPointerMove(x)}else{const B=T[l];B?(!m||p.initialHits.includes(S))&&(o(u,p.interaction.filter(_=>!p.initialHits.includes(_))),B(x)):m&&p.initialHits.includes(S)&&o(u,p.interaction.filter(_=>!p.initialHits.includes(_)))}}r(v,u,C,y)}}return{handlePointer:a}}const _P=t=>!!(t!=null&&t.render),MP=V.createContext(null),BK=(t,e)=>{const n=fP((a,l)=>{const c=new D,u=new D,d=new D;function p(C=l().camera,y=u,x=l().size){const{width:S,height:I,top:T,left:B}=x,_=S/I;y instanceof D?d.copy(y):d.set(...y);const R=C.getWorldPosition(c).distanceTo(d);if(yP(C))return{width:S/C.zoom,height:I/C.zoom,top:T,left:B,factor:1,distance:R,aspect:_};{const P=C.fov*Math.PI/180,L=2*Math.tan(P/2)*R,H=L*(S/I);return{width:H,height:L,top:T,left:B,factor:S/H,distance:R,aspect:_}}}let A;const m=C=>a(y=>({performance:{...y.performance,current:C}})),g=new le;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(C=1)=>t(l(),C),advance:(C,y)=>e(C,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new j2,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const C=l();A&&clearTimeout(A),C.performance.current!==C.performance.min&&m(C.performance.min),A=setTimeout(()=>m(l().performance.max),C.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:C=>a(y=>({...y,events:{...y.events,...C}})),setSize:(C,y,x,S,I)=>{const T=l().camera,B={width:C,height:y,top:S||0,left:I||0,updateStyle:x};a(_=>({size:B,viewport:{..._.viewport,...p(T,u,B)}}))},setDpr:C=>a(y=>{const x=SP(C);return{viewport:{...y.viewport,dpr:x,initialDpr:y.viewport.initialDpr||x}}}),setFrameloop:(C="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,C!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:C}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:V.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(C,y,x)=>{const S=l().internal;return S.priority=S.priority+(y>0?1:0),S.subscribers.push({ref:C,priority:y,store:x}),S.subscribers=S.subscribers.sort((I,T)=>I.priority-T.priority),()=>{const I=l().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(y>0?1:0),I.subscribers=I.subscribers.filter(T=>T.ref!==C))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,IK(a,l),u.setPixelRatio(c.dpr);const A=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,A)}a!==o&&(o=a,d(A=>({viewport:{...A.viewport,...A.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let sm,bK=new Set,RK=new Set,PK=new Set;function Jv(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function gd(t,e){switch(t){case"before":return Jv(bK,e);case"after":return Jv(RK,e);case"tail":return Jv(PK,e)}}let jv,Kv;function Yv(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),jv=e.internal.subscribers,sm=0;sm<jv.length;sm++)Kv=jv[sm],Kv.ref.current(Kv.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function DK(t){let e=!1,n,i,r;function s(l){i=requestAnimationFrame(s),e=!0,n=0,gd("before",l);for(const u of t.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(n+=Yv(l,r))}if(gd("after",l),n===0)return gd("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return t.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&gd("before",l),u)Yv(l,u,d);else for(const p of t.values())Yv(l,p.store.getState());c&&gd("after",l)}return{loop:s,invalidate:o,advance:a}}function TP(){const t=V.useContext(MP);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ir(t=n=>n,e){return TP()(t,e)}function wf(t,e=0){const n=TP(),i=n.getState().internal.subscribe,r=xP(t);return N0(()=>i(r,e,n),[e,i,n]),null}const Fw=new WeakMap;function BP(t,e){return function(n,...i){let r=Fw.get(n);return r||(r=new n,Fw.set(n,r)),t&&t(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,SK(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function Vl(t,e,n,i){const r=Array.isArray(e)?e:[e],s=AK(BP(n,i),[t,...r],{equal:An.equ});return Array.isArray(e)?s:s[0]}Vl.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return mK(BP(n),[t,...i])};Vl.clear=function(t,e){const n=Array.isArray(e)?e:[e];return gK([t,...n])};const rf=new Map,{invalidate:kw,advance:Nw}=DK(rf),{reconciler:Pg,applyProps:go}=yK(rf,_K),th={objects:"shallow",strict:!1},LK=(t,e)=>{const n=typeof t=="function"?t(e):t;return _P(n)?n:new Tx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function FK(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function kK(t){const e=rf.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||BK(kw,Nw),o=n||Pg.createContainer(s,Sh.ConcurrentRoot,null,!1,null,"",r,null);e||rf.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:A,events:m,onCreated:g,shadows:v=!1,linear:C=!1,flat:y=!1,legacy:x=!1,orthographic:S=!1,frameloop:I="always",dpr:T=[1,2],performance:B,raycaster:_,camera:R,onPointerMissed:P}=u,L=s.getState(),H=L.gl;L.gl||L.set({gl:H=LK(d,t)});let N=L.raycaster;N||L.set({raycaster:N=new aP});const{params:U,...J}=_||{};if(An.equ(J,N,th)||go(N,{...J}),An.equ(U,N.params,th)||go(N,{params:{...N.params,...U}}),!L.camera||L.camera===c&&!An.equ(c,R,th)){c=R;const z=R instanceof g0,ne=z?R:S?new fs(0,0,0,0,.1,1e3):new on(75,0,.1,1e3);z||(ne.position.z=5,R&&go(ne,R),!L.camera&&!(R!=null&&R.rotation)&&ne.lookAt(0,0,0)),L.set({camera:ne})}if(!L.scene){let z;A instanceof Rg?z=A:(z=new Rg,A&&go(z,A)),L.set({scene:rh(z)})}if(!L.xr){var Y;const z=(ye,q)=>{const Te=s.getState();Te.frameloop!=="never"&&Nw(ye,!0,Te,q)},ne=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?z:null),ye.gl.xr.isPresenting||kw(ye)},pe={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",ne),ye.xr.addEventListener("sessionend",ne)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",ne),ye.xr.removeEventListener("sessionend",ne)}};typeof((Y=H.xr)==null?void 0:Y.addEventListener)=="function"&&pe.connect(),L.set({xr:pe})}if(H.shadowMap){const z=H.shadowMap.enabled,ne=H.shadowMap.type;if(H.shadowMap.enabled=!!v,An.boo(v))H.shadowMap.type=Xd;else if(An.str(v)){var ee;const pe={basic:Rb,percentage:_2,soft:Xd,variance:Fc};H.shadowMap.type=(ee=pe[v])!=null?ee:Xd}else An.obj(v)&&Object.assign(H.shadowMap,v);(z!==H.shadowMap.enabled||ne!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const k=vP();k&&("enabled"in k?k.enabled=!x:"legacyMode"in k&&(k.legacyMode=x)),go(H,{outputEncoding:C?3e3:3001,toneMapping:y?br:Ax}),L.legacy!==x&&L.set(()=>({legacy:x})),L.linear!==C&&L.set(()=>({linear:C})),L.flat!==y&&L.set(()=>({flat:y})),d&&!An.fun(d)&&!_P(d)&&!An.equ(d,H,th)&&go(H,d),m&&!L.events.handlers&&L.set({events:m(s)});const $=FK(t,p);return An.equ($,L.size,th)||L.setSize($.width,$.height,$.updateStyle,$.top,$.left),T&&L.viewport.dpr!==SP(T)&&L.setDpr(T),L.frameloop!==I&&L.setFrameloop(I),L.onPointerMissed||L.set({onPointerMissed:P}),B&&!An.equ(B,L.performance,th)&&L.set(z=>({performance:{...z.performance,...B}})),a=g,l=!0,this},render(u){return l||this.configure(),Pg.updateContainer(V.createElement(NK,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){bP(t)}}}function NK({store:t,children:e,onCreated:n,rootElement:i}){return N0(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),V.createElement(MP.Provider,{value:t},e)}function bP(t,e){const n=rf.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),Pg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),wK(r),rf.delete(t),e&&e(t)}catch{}},500)})}}Pg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:V.version});function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xs.apply(this,arguments)}function v8(t,e,n){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}v8.debounce=v8;var OK=v8;const Ow=m4(OK);function UK(t){let{debounce:e,scroll:n,polyfill:i,offsetSize:r}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=V.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=V.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=V.useRef(!1);V.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,A,m]=V.useMemo(()=>{const y=()=>{if(!l.current.element)return;const{left:x,top:S,width:I,height:T,bottom:B,right:_,x:R,y:P}=l.current.element.getBoundingClientRect(),L={left:x,top:S,width:I,height:T,bottom:B,right:_,x:R,y:P};l.current.element instanceof HTMLElement&&r&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),d.current&&!zK(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[y,u?Ow(y,u):y,c?Ow(y,c):y]},[a,r,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(y=>y.addEventListener("scroll",m,{capture:!0,passive:!0})))}const C=y=>{!y||y===l.current.element||(g(),l.current.element=y,l.current.scrollContainers=RP(y),v())};return QK(m,!!n),GK(A),V.useEffect(()=>{g(),v()},[n,m,A]),V.useEffect(()=>g,[]),[C,o,p]}function GK(t){V.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function QK(t,e){V.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function RP(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...RP(t.parentElement)]}const HK=["x","y","top","bottom","left","right","width","height"],zK=(t,e)=>HK.every(n=>t[n]===e[n]);var VK=Object.defineProperty,WK=Object.defineProperties,JK=Object.getOwnPropertyDescriptors,Uw=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,Gw=(t,e,n)=>e in t?VK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qw=(t,e)=>{for(var n in e||(e={}))jK.call(e,n)&&Gw(t,n,e[n]);if(Uw)for(var n of Uw(e))KK.call(e,n)&&Gw(t,n,e[n]);return t},YK=(t,e)=>WK(t,JK(e));function PP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=PP(i,e,n);if(r)return r;i=e?null:i.sibling}}function DP(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const $x=DP(V.createContext(null));class LP extends V.Component{render(){return V.createElement($x.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Hw,ReactCurrentDispatcher:zw}=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function XK(){const t=V.useContext($x);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=V.useId();return V.useMemo(()=>{for(const i of[Hw==null?void 0:Hw.current,t,t==null?void 0:t.alternate]){if(!i)continue;const r=PP(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function qK(){var t,e;const n=XK(),[i]=V.useState(()=>new Map);i.clear();let r=n;for(;r;){const s=(t=r.type)==null?void 0:t._context;s&&s!==$x&&!i.has(s)&&i.set(s,(e=zw==null?void 0:zw.current)==null?void 0:e.readContext(DP(s))),r=r.return}return i}function ZK(){const t=qK();return V.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>V.createElement(e,null,V.createElement(n.Provider,YK(Qw({},i),{value:t.get(n)}))),e=>V.createElement(LP,Qw({},e))),[t])}const Xv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $K(t){const{handlePointer:e}=TK(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Xv).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Xv[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Xv[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const eY=V.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=$K,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:A,frameloop:m,dpr:g,performance:v,raycaster:C,camera:y,scene:x,onPointerMissed:S,onCreated:I,...T},B){V.useMemo(()=>vK(lK),[]);const _=ZK(),[R,P]=UK({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=V.useRef(null),H=V.useRef(null);V.useImperativeHandle(B,()=>L.current);const N=xP(S),[U,J]=V.useState(!1),[Y,ee]=V.useState(!1);if(U)throw U;if(Y)throw Y;const k=V.useRef(null);N0(()=>{const W=L.current;P.width>0&&P.height>0&&W&&(k.current||(k.current=kK(W)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:A,frameloop:m,dpr:g,performance:v,raycaster:C,camera:y,scene:x,size:P,onPointerMissed:(...$)=>N.current==null?void 0:N.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?xK(a)?a.current:a:H.current),l&&$.setEvents({compute:(z,ne)=>{const pe=z[l+"X"],ye=z[l+"Y"];ne.pointer.set(pe/ne.size.width*2-1,-(ye/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),I==null||I($)}}),k.current.render(V.createElement(_,null,V.createElement(CP,{set:ee},V.createElement(V.Suspense,{fallback:V.createElement(CK,{set:J})},e)))))}),V.useEffect(()=>{const W=L.current;if(W)return()=>bP(W)},[]);const j=a?"none":"auto";return V.createElement("div",xs({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...r}},T),V.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},V.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),K2=V.forwardRef(function(e,n){return V.createElement(LP,null,V.createElement(eY,xs({},e,{ref:n})))}),O0=new D,e9=new D,tY=new D;function nY(t,e,n){const i=O0.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,s=n.height/2;return[i.x*r+r,-(i.y*s)+s]}function iY(t,e){const n=O0.setFromMatrixPosition(t.matrixWorld),i=e9.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),s=e.getWorldDirection(tY);return r.angleTo(s)>Math.PI/2}function rY(t,e,n,i){const r=O0.setFromMatrixPosition(t.matrixWorld),s=r.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(n.ray.origin)<a}return!0}function sY(t,e){if(e instanceof fs)return e.zoom;if(e instanceof on){const n=O0.setFromMatrixPosition(t.matrixWorld),i=e9.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=n.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function oY(t,e,n){if(e instanceof on||e instanceof fs){const i=O0.setFromMatrixPosition(t.matrixWorld),r=e9.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const y8=t=>Math.abs(t)<1e-10?0:t;function FP(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=y8(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const aY=(t=>e=>FP(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),lY=(t=>(e,n)=>FP(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function cY(t){return t&&typeof t=="object"&&"current"in t}const uY=V.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:A,receiveShadow:m,material:g,geometry:v,zIndexRange:C=[16777271,0],calculatePosition:y=nY,as:x="div",wrapperClass:S,pointerEvents:I="auto",...T},B)=>{const{gl:_,camera:R,scene:P,size:L,raycaster:H,events:N,viewport:U}=Ir(),[J]=V.useState(()=>document.createElement(x)),Y=V.useRef(),ee=V.useRef(null),k=V.useRef(0),j=V.useRef([0,0]),W=V.useRef(null),$=V.useRef(null),z=(a==null?void 0:a.current)||N.connected||_.domElement.parentNode,ne=V.useRef(null),pe=V.useRef(!1),ye=V.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&cY(d[0]),[d]);V.useLayoutEffect(()=>{const Ee=_.domElement;d&&d==="blending"?(Ee.style.zIndex=`${Math.floor(C[0]/2)}`,Ee.style.position="absolute",Ee.style.pointerEvents="none"):(Ee.style.zIndex=null,Ee.style.position=null,Ee.style.pointerEvents=null)},[d]),V.useLayoutEffect(()=>{if(ee.current){const Ee=Y.current=vb(J);if(P.updateMatrixWorld(),u)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Be=y(ee.current,R,L);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Be[0]}px,${Be[1]}px,0);transform-origin:0 0;`}return z&&(r?z.prepend(J):z.appendChild(J)),()=>{z&&z.removeChild(J),Ee.unmount()}}},[z,u]),V.useLayoutEffect(()=>{S&&(J.className=S)},[S]);const q=V.useMemo(()=>u?{position:"absolute",top:0,left:0,width:L.width,height:L.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-L.height/2,left:-L.width/2,width:L.width,height:L.height},...n},[n,s,o,L,u]),Te=V.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);V.useLayoutEffect(()=>{if(pe.current=!1,u){var Ee;(Ee=Y.current)==null||Ee.render(V.createElement("div",{ref:W,style:q},V.createElement("div",{ref:$,style:Te},V.createElement("div",{ref:B,className:i,style:n,children:t}))))}else{var Be;(Be=Y.current)==null||Be.render(V.createElement("div",{ref:B,style:q,className:i,children:t}))}});const Pe=V.useRef(!0);wf(Ee=>{if(ee.current){R.updateMatrixWorld(),ee.current.updateWorldMatrix(!0,!1);const Be=u?j.current:y(ee.current,R,L);if(u||Math.abs(k.current-R.zoom)>e||Math.abs(j.current[0]-Be[0])>e||Math.abs(j.current[1]-Be[1])>e){const ce=iY(ee.current,R);let oe=!1;ye&&(Array.isArray(d)?oe=d.map(tt=>tt.current):d!=="blending"&&(oe=[P]));const _e=Pe.current;if(oe){const tt=rY(ee.current,R,H,oe);Pe.current=tt&&!ce}else Pe.current=!ce;_e!==Pe.current&&(p?p(!Pe.current):J.style.display=Pe.current?"block":"none");const Ve=Math.floor(C[0]/2),Oe=d?ye?[C[0],Ve]:[Ve-1,0]:C;if(J.style.zIndex=`${oY(ee.current,R,Oe)}`,u){const[tt,et]=[L.width/2,L.height/2],Je=R.projectionMatrix.elements[5]*et,{isOrthographicCamera:St,top:Bt,left:Q,bottom:F,right:ae}=R,Ie=aY(R.matrixWorldInverse),De=St?`scale(${Je})translate(${y8(-(ae+Q)/2)}px,${y8((Bt+F)/2)}px)`:`translateZ(${Je}px)`;let ke=ee.current.matrixWorld;c&&(ke=R.matrixWorldInverse.clone().transpose().copyPosition(ke).scale(ee.current.scale),ke.elements[3]=ke.elements[7]=ke.elements[11]=0,ke.elements[15]=1),J.style.width=L.width+"px",J.style.height=L.height+"px",J.style.perspective=St?"":`${Je}px`,W.current&&$.current&&(W.current.style.transform=`${De}${Ie}translate(${tt}px,${et}px)`,$.current.style.transform=lY(ke,1/((l||10)/400)))}else{const tt=l===void 0?1:sY(ee.current,R)*l;J.style.transform=`translate3d(${Be[0]}px,${Be[1]}px,0) scale(${tt})`}j.current=Be,k.current=R.zoom}}if(!ye&&ne.current&&!pe.current)if(u){if(W.current){const Be=W.current.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const{isOrthographicCamera:ce}=R;if(ce||v)T.scale&&(Array.isArray(T.scale)?T.scale instanceof D?ne.current.scale.copy(T.scale.clone().divideScalar(1)):ne.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ne.current.scale.setScalar(1/T.scale));else{const oe=(l||10)/400,_e=Be.clientWidth*oe,Ve=Be.clientHeight*oe;ne.current.scale.set(_e,Ve,1)}pe.current=!0}}}else{const Be=J.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const ce=1/U.factor,oe=Be.clientWidth*ce,_e=Be.clientHeight*ce;ne.current.scale.set(oe,_e,1),pe.current=!0}ne.current.lookAt(Ee.camera.position)}});const Le=V.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return V.createElement("group",xs({},T,{ref:ee}),d&&!ye&&V.createElement("mesh",{castShadow:A,receiveShadow:m,ref:ne},v||V.createElement("planeGeometry",null),g||V.createElement("shaderMaterial",{side:Os,vertexShader:Le.vertexShader,fragmentShader:Le.fragmentShader})))});let vd=0;const hY=fP(t=>(Eh.onStart=(e,n,i)=>{t({active:!0,item:e,loaded:n,total:i,progress:(n-vd)/(i-vd)*100})},Eh.onLoad=()=>{t({active:!1})},Eh.onError=e=>t(n=>({errors:[...n.errors,e]})),Eh.onProgress=(e,n,i)=>{n===i&&(vd=i),t({active:!0,item:e,loaded:n,total:i,progress:(n-vd)/(i-vd)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function t9(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function n9(){}n9.prototype.s2u=function(t){for(var e=this.s2uTable,n="",i=0;i<t.length;){var r=t[i++];if(!(r>=0&&r<=126||r>=161&&r<=223)&&i<t.length&&(r=r<<8|t[i++]),e[r]===void 0)return console.error("unknown char code "+r+"."),n;n+=String.fromCharCode(e[r])}return n};n9.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function Vw(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new n9}Vw.prototype={constructor:Vw,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var i=[],r=0;r<e;r++)i.push(this.getIndex(t,n));return i},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function Ww(){}Ww.prototype={constructor:Ww,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],i=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=i}};const kP=0,fY=2,dY=0,pY=0,AY=2,mY=0,gY=0,vY=1,x8=2,yY=1,xY=64,NP=0,OP=9,i9=15,UP=16,r9=22,GP=37,s9=43,QP=76,HP=83,zP=97,VP=100,WP=103,JP=109;class CY{constructor(){this.vkFormat=NP,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=kP,this.levels=[],this.dataFormatDescriptor=[{vendorId:pY,descriptorType:dY,descriptorBlockSize:0,versionNumber:AY,colorModel:mY,colorPrimaries:yY,transferFunction:x8,flags:gY,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class yd{constructor(e,n,i,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,i),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),i=e+2**32*n;return this._offset+=8,i}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const i=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==n&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}const Vi=[171,75,84,88,32,50,48,187,13,10,26,10];function Jw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function EY(t){const e=new Uint8Array(t.buffer,t.byteOffset,Vi.length);if(e[0]!==Vi[0]||e[1]!==Vi[1]||e[2]!==Vi[2]||e[3]!==Vi[3]||e[4]!==Vi[4]||e[5]!==Vi[5]||e[6]!==Vi[6]||e[7]!==Vi[7]||e[8]!==Vi[8]||e[9]!==Vi[9]||e[10]!==Vi[10]||e[11]!==Vi[11])throw new Error("Missing KTX 2.0 identifier.");const n=new CY,i=17*Uint32Array.BYTES_PER_ELEMENT,r=new yd(t,Vi.length,i,!0);n.vkFormat=r._nextUint32(),n.typeSize=r._nextUint32(),n.pixelWidth=r._nextUint32(),n.pixelHeight=r._nextUint32(),n.pixelDepth=r._nextUint32(),n.layerCount=r._nextUint32(),n.faceCount=r._nextUint32();const s=r._nextUint32();n.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),d=r._nextUint64(),p=s*3*8,A=new yd(t,Vi.length+i,p,!0);for(let W=0;W<s;W++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+A._nextUint64(),A._nextUint64()),uncompressedByteLength:A._nextUint64()});const m=new yd(t,o,a,!0),g={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},v=6,C=4,y=(g.descriptorBlockSize/4-v)/C;for(let W=0;W<y;W++){const $={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelType:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};$.channelType&xY?($.sampleLower=m._nextInt32(),$.sampleUpper=m._nextInt32()):($.sampleLower=m._nextUint32(),$.sampleUpper=m._nextUint32()),g.samples[W]=$}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(g);const x=new yd(t,l,c,!0);for(;x._offset<c;){const W=x._nextUint32(),$=x._scan(W),z=Jw($),ne=x._scan(W-$.byteLength);n.keyValue[z]=z.match(/^ktx/i)?Jw(ne):ne,x._offset%4&&x._skip(4-x._offset%4)}if(d<=0)return n;const S=new yd(t,u,d,!0),I=S._nextUint16(),T=S._nextUint16(),B=S._nextUint32(),_=S._nextUint32(),R=S._nextUint32(),P=S._nextUint32(),L=[];for(let W=0;W<s;W++)L.push({imageFlags:S._nextUint32(),rgbSliceByteOffset:S._nextUint32(),rgbSliceByteLength:S._nextUint32(),alphaSliceByteOffset:S._nextUint32(),alphaSliceByteLength:S._nextUint32()});const H=u+S._offset,N=H+B,U=N+_,J=U+R,Y=new Uint8Array(t.buffer,t.byteOffset+H,B),ee=new Uint8Array(t.buffer,t.byteOffset+N,_),k=new Uint8Array(t.buffer,t.byteOffset+U,R),j=new Uint8Array(t.buffer,t.byteOffset+J,P);return n.globalData={endpointCount:I,selectorCount:T,imageDescs:L,endpointsData:Y,selectorsData:ee,tablesData:k,extendedData:j},n}let qv,ra,C8;const Zv={env:{emscripten_notify_memory_growth:function(t){C8=new Uint8Array(ra.exports.memory.buffer)}}};class SY{init(){return qv||(qv=typeof fetch<"u"?fetch("data:application/wasm;base64,"+jw).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,Zv)).then(this._init):WebAssembly.instantiate(Buffer.from(jw,"base64"),Zv).then(this._init),qv)}_init(e){ra=e.instance,Zv.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!ra)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,r=ra.exports.malloc(i);C8.set(e,r),n=n||Number(ra.exports.ZSTD_findDecompressedSize(r,i));const s=ra.exports.malloc(n),o=ra.exports.ZSTD_decompress(s,n,r,i),a=C8.slice(s,s+o);return ra.exports.free(r),ra.exports.free(s),a}}const jw="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},i=Object.defineProperty,r=i(n,n,n)&&i}catch{}return r}(),e=function(n){if(this==null)throw TypeError();var i=String(this),r=i.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=r)){var o=i.charCodeAt(s),a;return o>=55296&&o<=56319&&r>s+1&&(a=i.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function jP(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var wY=new jP,IY=new jP,KP=new Uint8Array(30),YP=new Uint16Array(30),_Y=new Uint8Array(30),MY=new Uint16Array(30);function XP(t,e,n,i){var r,s;for(r=0;r<n;++r)t[r]=0;for(r=0;r<30-n;++r)t[r+n]=r/n|0;for(s=i,r=0;r<30;++r)e[r]=s,s+=1<<t[r]}function TY(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}TY(wY,IY);XP(KP,YP,4,3);XP(_Y,MY,2,1);KP[28]=0;YP[28]=258;function nh(t,e,n,i,r){return Math.pow(1-r,3)*t+3*Math.pow(1-r,2)*r*e+3*(1-r)*Math.pow(r,2)*n+Math.pow(r,3)*i}function Wl(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Wl.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Wl.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Wl.prototype.addX=function(t){this.addPoint(t,null)};Wl.prototype.addY=function(t){this.addPoint(null,t)};Wl.prototype.addBezier=function(t,e,n,i,r,s,o,a){var l=[t,e],c=[n,i],u=[r,s],d=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var p=0;p<=1;p++){var A=6*l[p]-12*c[p]+6*u[p],m=-3*l[p]+9*c[p]-9*u[p]+3*d[p],g=3*c[p]-3*l[p];if(m===0){if(A===0)continue;var v=-g/A;0<v&&v<1&&(p===0&&this.addX(nh(l[p],c[p],u[p],d[p],v)),p===1&&this.addY(nh(l[p],c[p],u[p],d[p],v)));continue}var C=Math.pow(A,2)-4*g*m;if(!(C<0)){var y=(-A+Math.sqrt(C))/(2*m);0<y&&y<1&&(p===0&&this.addX(nh(l[p],c[p],u[p],d[p],y)),p===1&&this.addY(nh(l[p],c[p],u[p],d[p],y)));var x=(-A-Math.sqrt(C))/(2*m);0<x&&x<1&&(p===0&&this.addX(nh(l[p],c[p],u[p],d[p],x)),p===1&&this.addY(nh(l[p],c[p],u[p],d[p],x)))}}};Wl.prototype.addQuad=function(t,e,n,i,r,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(i-e),l=o+1/3*(r-t),c=a+1/3*(s-e);this.addBezier(t,e,o,a,l,c,r,s)};function ci(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}ci.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};ci.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};ci.prototype.curveTo=ci.prototype.bezierCurveTo=function(t,e,n,i,r,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:i,x:r,y:s})};ci.prototype.quadTo=ci.prototype.quadraticCurveTo=function(t,e,n,i){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:i})};ci.prototype.close=ci.prototype.closePath=function(){this.commands.push({type:"Z"})};ci.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Wl){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};ci.prototype.getBoundingBox=function(){for(var t=new Wl,e=0,n=0,i=0,r=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=i=o.x,n=r=o.y;break;case"L":t.addPoint(o.x,o.y),i=o.x,r=o.y;break;case"Q":t.addQuad(i,r,o.x1,o.y1,o.x,o.y),i=o.x,r=o.y;break;case"C":t.addBezier(i,r,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,r=o.y;break;case"Z":i=e,r=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};ci.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};ci.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var i="",r=0;r<this.commands.length;r+=1){var s=this.commands[r];s.type==="M"?i+="M"+n(s.x,s.y):s.type==="L"?i+="L"+n(s.x,s.y):s.type==="C"?i+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?i+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(i+="Z")}return i};ci.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};ci.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function qP(t){throw new Error(t)}function Kw(t,e){t||qP(e)}var yt={fail:qP,argument:Kw,assert:Kw},Yw=32768,Xw=2147483648,sf={},He={},At={};function $s(t){return function(){return t}}He.BYTE=function(t){return yt.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};At.BYTE=$s(1);He.CHAR=function(t){return[t.charCodeAt(0)]};At.CHAR=$s(1);He.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};At.CHARARRAY=function(t){return typeof t>"u"?0:t.length};He.USHORT=function(t){return[t>>8&255,t&255]};At.USHORT=$s(2);He.SHORT=function(t){return t>=Yw&&(t=-(2*Yw-t)),[t>>8&255,t&255]};At.SHORT=$s(2);He.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};At.UINT24=$s(3);He.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};At.ULONG=$s(4);He.LONG=function(t){return t>=Xw&&(t=-(2*Xw-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};At.LONG=$s(4);He.FIXED=He.ULONG;At.FIXED=At.ULONG;He.FWORD=He.SHORT;At.FWORD=At.SHORT;He.UFWORD=He.USHORT;At.UFWORD=At.USHORT;He.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};At.LONGDATETIME=$s(8);He.TAG=function(t){return yt.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};At.TAG=$s(4);He.Card8=He.BYTE;At.Card8=At.BYTE;He.Card16=He.USHORT;At.Card16=At.USHORT;He.OffSize=He.BYTE;At.OffSize=At.BYTE;He.SID=He.USHORT;At.SID=At.USHORT;He.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?He.NUMBER16(t):He.NUMBER32(t)};At.NUMBER=function(t){return He.NUMBER(t).length};He.NUMBER16=function(t){return[28,t>>8&255,t&255]};At.NUMBER16=$s(3);He.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};At.NUMBER32=$s(5);He.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var i=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*i)/i).toString()}for(var r="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?r+=e[++s]==="-"?"c":"b":a==="."?r+="a":a==="-"?r+="e":r+=a}r+=r.length&1?"f":"ff";for(var l=[30],c=0,u=r.length;c<u;c+=2)l.push(parseInt(r.substr(c,2),16));return l};At.REAL=function(t){return He.REAL(t).length};He.NAME=He.CHARARRAY;At.NAME=At.CHARARRAY;He.STRING=He.CHARARRAY;At.STRING=At.CHARARRAY;sf.UTF8=function(t,e,n){for(var i=[],r=n,s=0;s<r;s++,e+=1)i[s]=t.getUint8(e);return String.fromCharCode.apply(null,i)};sf.UTF16=function(t,e,n){for(var i=[],r=n/2,s=0;s<r;s++,e+=2)i[s]=t.getUint16(e);return String.fromCharCode.apply(null,i)};He.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var i=t.charCodeAt(n);e[e.length]=i>>8&255,e[e.length]=i&255}return e};At.UTF16=function(t){return t.length*2};var E8={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};sf.MACSTRING=function(t,e,n,i){var r=E8[i];if(r!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=r[a&127]}return s}};var om=typeof WeakMap=="function"&&new WeakMap,am,BY=function(t){if(!am){am={};for(var e in E8)am[e]=new String(e)}var n=am[t];if(n!==void 0){if(om){var i=om.get(n);if(i!==void 0)return i}var r=E8[t];if(r!==void 0){for(var s={},o=0;o<r.length;o++)s[r.charCodeAt(o)]=o+128;return om&&om.set(n,s),s}}};He.MACSTRING=function(t,e){var n=BY(e);if(n!==void 0){for(var i=[],r=0;r<t.length;r++){var s=t.charCodeAt(r);if(s>=128&&(s=n[s],s===void 0))return;i[r]=s}return i}};At.MACSTRING=function(t,e){var n=He.MACSTRING(t,e);return n!==void 0?n.length:0};function S8(t){return t>=-128&&t<=127}function bY(t,e,n){for(var i=0,r=t.length;e<r&&i<64&&t[e]===0;)++e,++i;return n.push(128|i-1),e}function RY(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(!S8(o)||o===0&&s+1<r&&t[s+1]===0)break;++s,++i}n.push(i-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function PY(t,e,n){for(var i=0,r=t.length,s=e;s<r&&i<64;){var o=t[s];if(o===0||S8(o)&&s+1<r&&S8(t[s+1]))break;++s,++i}n.push(64|i-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}He.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var i=t[e];i===0?e=bY(t,e,n):i>=-128&&i<=127?e=RY(t,e,n):e=PY(t,e,n)}return n};He.INDEX=function(t){for(var e=1,n=[e],i=[],r=0;r<t.length;r+=1){var s=He.OBJECT(t[r]);Array.prototype.push.apply(i,s),e+=s.length,n.push(e)}if(i.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,He.BYTE,He.USHORT,He.UINT24,He.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(He.Card16(t.length),He.OffSize(a),o,i)};At.INDEX=function(t){return He.INDEX(t).length};He.DICT=function(t){for(var e=[],n=Object.keys(t),i=n.length,r=0;r<i;r+=1){var s=parseInt(n[r],0),o=t[s];e=e.concat(He.OPERAND(o.value,o.type)),e=e.concat(He.OPERATOR(s))}return e};At.DICT=function(t){return He.DICT(t).length};He.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};He.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)yt.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(He.OPERAND(t[i],e[i]));else if(e==="SID")n=n.concat(He.NUMBER(t));else if(e==="offset")n=n.concat(He.NUMBER32(t));else if(e==="number")n=n.concat(He.NUMBER(t));else if(e==="real")n=n.concat(He.REAL(t));else throw new Error("Unknown operand type "+e);return n};He.OP=He.BYTE;At.OP=At.BYTE;var lm=typeof WeakMap=="function"&&new WeakMap;He.CHARSTRING=function(t){if(lm){var e=lm.get(t);if(e!==void 0)return e}for(var n=[],i=t.length,r=0;r<i;r+=1){var s=t[r];n=n.concat(He[s.type](s.value))}return lm&&lm.set(t,n),n};At.CHARSTRING=function(t){return He.CHARSTRING(t).length};He.OBJECT=function(t){var e=He[t.type];return yt.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};At.OBJECT=function(t){var e=At[t.type];return yt.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};He.TABLE=function(t){for(var e=[],n=t.fields.length,i=[],r=[],s=0;s<n;s+=1){var o=t.fields[s],a=He[o.type];yt.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(r.push(e.length),e=e.concat([0,0]),i.push(c)):e=e.concat(c)}for(var u=0;u<i.length;u+=1){var d=r[u],p=e.length;yt.argument(p<65536,"Table "+t.tableName+" too big."),e[d]=p>>8,e[d+1]=p&255,e=e.concat(i[u])}return e};At.TABLE=function(t){for(var e=0,n=t.fields.length,i=0;i<n;i+=1){var r=t.fields[i],s=At[r.type];yt.argument(s!==void 0,"No sizeOf function for field type "+r.type+" ("+r.name+")");var o=t[r.name];o===void 0&&(o=r.value),e+=s(o),r.type==="TABLE"&&(e+=2)}return e};He.RECORD=He.TABLE;At.RECORD=At.TABLE;He.LITERAL=function(t){return t};At.LITERAL=function(t){return t.length};function vi(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var i=0;i<e.length;i+=1){var r=e[i];this[r.name]=r.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}vi.prototype.encode=function(){return He.TABLE(this)};vi.prototype.sizeOf=function(){return At.TABLE(this)};function Xp(t,e,n){n===void 0&&(n=e.length);var i=new Array(e.length+1);i[0]={name:t+"Count",type:"USHORT",value:n};for(var r=0;r<e.length;r++)i[r+1]={name:t+r,type:"USHORT",value:e[r]};return i}function w8(t,e,n){var i=e.length,r=new Array(i+1);r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return r}function qp(t,e,n){var i=e.length,r=[];r[0]={name:t+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r=r.concat(n(e[s],s));return r}function Dg(t){t.format===1?vi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Xp("glyph",t.glyphs))):t.format===2?vi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(qp("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):yt.assert(!1,"Coverage format must be 1 or 2.")}Dg.prototype=Object.create(vi.prototype);Dg.prototype.constructor=Dg;function Lg(t){vi.call(this,"scriptListTable",qp("scriptRecord",t,function(e,n){var i=e.script,r=i.defaultLangSys;return yt.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new vi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new vi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(Xp("featureIndex",r.featureIndexes)))}].concat(qp("langSys",i.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new vi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Xp("featureIndex",a.featureIndexes)))}]})))}]}))}Lg.prototype=Object.create(vi.prototype);Lg.prototype.constructor=Lg;function Fg(t){vi.call(this,"featureListTable",qp("featureRecord",t,function(e,n){var i=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new vi("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(Xp("lookupListIndex",i.lookupListIndexes)))}]}))}Fg.prototype=Object.create(vi.prototype);Fg.prototype.constructor=Fg;function kg(t,e){vi.call(this,"lookupListTable",w8("lookup",t,function(n){var i=e[n.lookupType];return yt.assert(!!i,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new vi("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(w8("subtable",n.subtables,i)))}))}kg.prototype=Object.create(vi.prototype);kg.prototype.constructor=kg;var $e={Table:vi,Record:vi,Coverage:Dg,ScriptList:Lg,FeatureList:Fg,LookupList:kg,ushortList:Xp,tableList:w8,recordList:qp};function qw(t,e){return t.getUint8(e)}function Ng(t,e){return t.getUint16(e,!1)}function DY(t,e){return t.getInt16(e,!1)}function o9(t,e){return t.getUint32(e,!1)}function ZP(t,e){var n=t.getInt16(e,!1),i=t.getUint16(e+2,!1);return n+i/65535}function LY(t,e){for(var n="",i=e;i<e+4;i+=1)n+=String.fromCharCode(t.getInt8(i));return n}function FY(t,e,n){for(var i=0,r=0;r<n;r+=1)i<<=8,i+=t.getUint8(e+r);return i}function kY(t,e,n){for(var i=[],r=e;r<n;r+=1)i.push(t.getUint8(r));return i}function NY(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var OY={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function fe(t,e){this.data=t,this.offset=e,this.relativeOffset=0}fe.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};fe.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};fe.prototype.parseCard8=fe.prototype.parseByte;fe.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};fe.prototype.parseCard16=fe.prototype.parseUShort;fe.prototype.parseSID=fe.prototype.parseUShort;fe.prototype.parseOffset16=fe.prototype.parseUShort;fe.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};fe.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};fe.prototype.parseULong=function(){var t=o9(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};fe.prototype.parseOffset32=fe.prototype.parseULong;fe.prototype.parseFixed=function(){var t=ZP(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};fe.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,i="";this.relativeOffset+=t;for(var r=0;r<t;r++)i+=String.fromCharCode(e.getUint8(n+r));return i};fe.prototype.parseTag=function(){return this.parseString(4)};fe.prototype.parseLongDateTime=function(){var t=o9(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};fe.prototype.parseVersion=function(t){var e=Ng(this.data,this.offset+this.relativeOffset),n=Ng(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};fe.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=OY[t]*e};fe.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint32(i),i+=4;return this.relativeOffset+=t*4,e};fe.prototype.parseOffset16List=fe.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint16(i),i+=2;return this.relativeOffset+=t*2,e};fe.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getInt16(i),i+=2;return this.relativeOffset+=t*2,e};fe.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,i=this.offset+this.relativeOffset,r=0;r<t;r++)e[r]=n.getUint8(i++);return this.relativeOffset+=t,e};fe.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};fe.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=0;i<t;i++)n[i]=e.call(this);return n};fe.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};fe.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),i=Object.keys(e),r=0;r<t;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}n[r]=s}return n};fe.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i],s=t[r];n[r]=s.call(this)}return n};fe.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};fe.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),i=0;i<e;i++)n[i]=this.parseValueRecord(t);return n};fe.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new fe(this.data,this.offset+e).parseStruct(t)};fe.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new fe(this.data,this.offset+e).parseStruct(t)};fe.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,i=this.relativeOffset,r=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){r[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=t.call(this);r[s]=l}else r[s]=this.parseUShortList()}return this.relativeOffset=i,r};fe.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var i=new Array(n),r=0;r<n;r++)i[r]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};fe.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:fe.uShort,end:fe.uShort,classId:fe.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};fe.list=function(t,e){return function(){return this.parseList(t,e)}};fe.list32=function(t,e){return function(){return this.parseList32(t,e)}};fe.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};fe.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};fe.pointer=function(t){return function(){return this.parsePointer(t)}};fe.pointer32=function(t){return function(){return this.parsePointer32(t)}};fe.tag=fe.prototype.parseTag;fe.byte=fe.prototype.parseByte;fe.uShort=fe.offset16=fe.prototype.parseUShort;fe.uShortList=fe.prototype.parseUShortList;fe.uLong=fe.offset32=fe.prototype.parseULong;fe.uLongList=fe.prototype.parseULongList;fe.struct=fe.prototype.parseStruct;fe.coverage=fe.prototype.parseCoverage;fe.classDef=fe.prototype.parseClassDef;var Zw={reserved:fe.uShort,reqFeatureIndex:fe.uShort,featureIndexes:fe.uShortList};fe.prototype.parseScriptList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,script:fe.pointer({defaultLangSys:fe.pointer(Zw),langSysRecords:fe.recordList({tag:fe.tag,langSys:fe.pointer(Zw)})})}))||[]};fe.prototype.parseFeatureList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,feature:fe.pointer({featureParams:fe.offset16,lookupListIndexes:fe.uShortList})}))||[]};fe.prototype.parseLookupList=function(t){return this.parsePointer(fe.list(fe.pointer(function(){var e=this.parseUShort();yt.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),i=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(fe.pointer(t[e])),markFilteringSet:i?this.parseUShort():void 0}})))||[]};fe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();yt.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:fe.offset32,featureTableSubstitutionOffset:fe.offset32});return n})||[]};var Et={getByte:qw,getCard8:qw,getUShort:Ng,getCard16:Ng,getShort:DY,getULong:o9,getFixed:ZP,getTag:LY,getOffset:FY,getBytes:kY,bytesToString:NY,Parser:fe};function UY(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var i=0;i<n;i+=1)for(var r=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=r;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function GY(t,e,n,i,r){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new Et.Parser(n,i+r+14),a=new Et.Parser(n,i+r+16+s*2),l=new Et.Parser(n,i+r+16+s*4),c=new Et.Parser(n,i+r+16+s*6),u=i+r+16+s*8,d=0;d<s-1;d+=1)for(var p=void 0,A=o.parseUShort(),m=a.parseUShort(),g=l.parseShort(),v=c.parseUShort(),C=m;C<=A;C+=1)v!==0?(u=c.offset+c.relativeOffset-2,u+=v,u+=(C-m)*2,p=Et.getUShort(n,u),p!==0&&(p=p+g&65535)):p=C+g&65535,t.glyphIndexMap[C]=p}function QY(t,e){var n={};n.version=Et.getUShort(t,e),yt.argument(n.version===0,"cmap table version should be 0."),n.numTables=Et.getUShort(t,e+2);for(var i=-1,r=n.numTables-1;r>=0;r-=1){var s=Et.getUShort(t,e+4+r*8),o=Et.getUShort(t,e+4+r*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){i=Et.getULong(t,e+4+r*8+4);break}}if(i===-1)throw new Error("No valid cmap sub-tables found.");var a=new Et.Parser(t,e+i);if(n.format=a.parseUShort(),n.format===12)UY(n,a);else if(n.format===4)GY(n,a,t,e,i);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function HY(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function zY(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function VY(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var i=t.get(n);if(i.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new $e.Table("cmap",r);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)HY(s,o.unicodes[a],n);s.segments=s.segments.sort(function(y,x){return y.start-x.start})}zY(s);var l=s.segments.length,c=0,u=[],d=[],p=[],A=[],m=[],g=[];for(n=0;n<l;n+=1){var v=s.segments[n];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:v.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:v.start}),p=p.concat({name:"idDelta_"+n,type:"SHORT",value:v.delta}),A=A.concat({name:"idRangeOffset_"+n,type:"USHORT",value:v.offset}),v.glyphId!==void 0&&(m=m.concat({name:"glyph_"+n,type:"USHORT",value:v.glyphId}))):c+=1,!e&&v.glyphIndex!==void 0&&(g=g.concat({name:"cmap12Start_"+n,type:"ULONG",value:v.start}),g=g.concat({name:"cmap12End_"+n,type:"ULONG",value:v.end}),g=g.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:v.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(d),s.fields=s.fields.concat(p),s.fields=s.fields.concat(A),s.fields=s.fields.concat(m),s.cmap4Length=14+u.length*2+2+d.length*2+p.length*2+A.length*2+m.length*2,!e){var C=16+g.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:C},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),s.fields=s.fields.concat(g)}return s}var WY={parse:QY,make:VY},Wm=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],JY=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],jY=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],$w=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function $P(t){this.font=t}$P.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var i=0;i<n.length;i+=1)for(var r=n.get(i),s=0;s<r.unicodes.length;s+=1)if(r.unicodes[s]===e)return i}return null};function Og(t,e){this.encoding=t,this.charset=e}Og.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function KY(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()}var pc={line:KY};function YY(t,e){var n=e||new ci;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(i){n=i}}}function Ss(t){this.bindConstructorValues(t)}Ss.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",YY(this,t.path))};Ss.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Ss.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Ss.prototype.getPath=function(t,e,n,i,r){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;i||(i={});var a=i.xScale,l=i.yScale;if(i.hinting&&r&&r.hinting&&(o=this.path&&r.hinting.exec(this,n)),o)s=r.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new ci,d=0;d<s.length;d+=1){var p=s[d];p.type==="M"?u.moveTo(t+p.x*a,e+-p.y*l):p.type==="L"?u.lineTo(t+p.x*a,e+-p.y*l):p.type==="Q"?u.quadraticCurveTo(t+p.x1*a,e+-p.y1*l,t+p.x*a,e+-p.y*l):p.type==="C"?u.curveTo(t+p.x1*a,e+-p.y1*l,t+p.x2*a,e+-p.y2*l,t+p.x*a,e+-p.y*l):p.type==="Z"&&u.closePath()}return u};Ss.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var i=this.points[n];e.push(i),i.lastPointOfContour&&(t.push(e),e=[])}return yt.argument(e.length===0,"There are still points left in the current contour."),t};Ss.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];r.type!=="Z"&&(e.push(r.x),n.push(r.y)),(r.type==="Q"||r.type==="C")&&(e.push(r.x1),n.push(r.y1)),r.type==="C"&&(e.push(r.x2),n.push(r.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};Ss.prototype.draw=function(t,e,n,i,r){this.getPath(e,n,i,r).draw(t)};Ss.prototype.drawPoints=function(t,e,n,i){function r(d,p,A,m){t.beginPath();for(var g=0;g<d.length;g+=1)t.moveTo(p+d[g].x*m,A+d[g].y*m),t.arc(p+d[g].x*m,A+d[g].y*m,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24;for(var s=1/this.path.unitsPerEm*i,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",r(o,e,n,s),t.fillStyle="red",r(a,e,n,s)};Ss.prototype.drawMetrics=function(t,e,n,i){var r;e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:24,r=1/this.path.unitsPerEm*i,t.lineWidth=1,t.strokeStyle="black",pc.line(t,e,-1e4,e,1e4),pc.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",pc.line(t,e+s*r,-1e4,e+s*r,1e4),pc.line(t,e+a*r,-1e4,e+a*r,1e4),pc.line(t,-1e4,n+-o*r,1e4,n+-o*r),pc.line(t,-1e4,n+-l*r,1e4,n+-l*r),t.strokeStyle="green",pc.line(t,e+c*r,-1e4,e+c*r,1e4)};function cm(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(i){t[n]=i},enumerable:!0,configurable:!0})}function a9(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];i.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=i}this.length=e&&e.length||0}a9.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var i=0;i<n.unicodes.length;i++)e.addUnicode(n.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};a9.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function XY(t,e){return new Ss({index:e,font:t})}function qY(t,e,n,i,r,s){return function(){var o=new Ss({index:e,font:t});return o.path=function(){n(o,i,r);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},cm(o,"xMin","_xMin"),cm(o,"xMax","_xMax"),cm(o,"yMin","_yMin"),cm(o,"yMax","_yMax"),o}}function ZY(t,e,n,i){return function(){var r=new Ss({index:e,font:t});return r.path=function(){var s=n(t,r,i);return s.unitsPerEm=t.unitsPerEm,s},r}}var To={GlyphSet:a9,glyphLoader:XY,ttfGlyphLoader:qY,cffGlyphLoader:ZY};function eD(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!eD(t[n],e[n]))return!1;return!0}else return!1}function I8(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function $a(t,e,n){var i=[],r=[],s=Et.getCard16(t,e),o,a;if(s!==0){var l=Et.getByte(t,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)i.push(Et.getOffset(t,c,l)),c+=l;a=o+i[s]}else a=e+2;for(var d=0;d<i.length-1;d+=1){var p=Et.getBytes(t,o+i[d],o+i[d+1]);n&&(p=n(p)),r.push(p)}return{objects:r,startOffset:e,endOffset:a}}function $Y(t,e){var n=[],i=Et.getCard16(t,e),r,s;if(i!==0){var o=Et.getByte(t,e+2);r=e+(i+1)*o+2;for(var a=e+3,l=0;l<i+1;l+=1)n.push(Et.getOffset(t,a,o)),a+=o;s=r+n[i]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function eX(t,e,n,i,r){var s=Et.getCard16(n,i),o=0;if(s!==0){var a=Et.getByte(n,i+2);o=i+(s+1)*a+2}var l=Et.getBytes(n,o+e[t],o+e[t+1]);return r&&(l=r(l)),l}function tX(t){for(var e="",n=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),s=r>>4,o=r&15;if(s===n||(e+=i[s],o===n))break;e+=i[o]}return parseFloat(e)}function nX(t,e){var n,i,r,s;if(e===28)return n=t.parseByte(),i=t.parseByte(),n<<8|i;if(e===29)return n=t.parseByte(),i=t.parseByte(),r=t.parseByte(),s=t.parseByte(),n<<24|i<<16|r<<8|s;if(e===30)return tX(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function iX(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n][0],r=t[n][1],s=void 0;if(r.length===1?s=r[0]:s=r,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=s}return e}function tD(t,e,n){e=e!==void 0?e:0;var i=new Et.Parser(t,e),r=[],s=[];for(n=n!==void 0?n:t.length;i.relativeOffset<n;){var o=i.parseByte();o<=21?(o===12&&(o=1200+i.parseByte()),r.push([o,s]),s=[]):s.push(nX(i,o))}return iX(r)}function tp(t,e){return e<=390?e=Wm[e]:e=t[e-391],e}function nD(t,e,n){for(var i={},r,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)r=t[o.op]!==void 0?t[o.op][l]:void 0,r===void 0&&(r=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(r=tp(n,r)),a[l]=r;i[o.name]=a}else r=t[o.op],r===void 0&&(r=o.value!==void 0?o.value:null),o.type==="SID"&&(r=tp(n,r)),i[o.name]=r}return i}function rX(t,e){var n={};return n.formatMajor=Et.getCard8(t,e),n.formatMinor=Et.getCard8(t,e+1),n.size=Et.getCard8(t,e+2),n.offsetSize=Et.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var iD=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],rD=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function sX(t,e){var n=tD(t,0,t.byteLength);return nD(n,iD,e)}function sD(t,e,n,i){var r=tD(t,e,n);return nD(r,rD,i)}function eI(t,e,n,i){for(var r=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=sX(o,i);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=sD(t,c+e,l,i);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var d=c+u.subrs,p=$a(t,d+e);a._subrs=p.objects,a._subrsBias=I8(a._subrs)}a._privateDict=u}r.push(a)}return r}function oX(t,e,n,i){var r,s,o=new Et.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<n;c+=1)r=o.parseSID(),a.push(tp(i,r));else if(l===1)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push(tp(i,r)),r+=1}else if(l===2)for(;a.length<=n;){r=o.parseSID(),s=o.parseCard16();for(var d=0;d<=s;d+=1)a.push(tp(i,r)),r+=1}else throw new Error("Unknown charset format "+l);return a}function aX(t,e,n){var i,r={},s=new Et.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)i=s.parseCard8(),r[i]=l;else if(o===1){var c=s.parseCard8();i=1;for(var u=0;u<c;u+=1)for(var d=s.parseCard8(),p=s.parseCard8(),A=d;A<=d+p;A+=1)r[A]=i,i+=1}else throw new Error("Unknown encoding format "+o);return new Og(r,n)}function tI(t,e,n){var i,r,s,o,a=new ci,l=[],c=0,u=!1,d=!1,p=0,A=0,m,g,v,C;if(t.isCIDFont){var y=t.tables.cff.topDict._fdSelect[e.index],x=t.tables.cff.topDict._fdArray[y];m=x._subrs,g=x._subrsBias,v=x._defaultWidthX,C=x._nominalWidthX}else m=t.tables.cff.topDict._subrs,g=t.tables.cff.topDict._subrsBias,v=t.tables.cff.topDict._defaultWidthX,C=t.tables.cff.topDict._nominalWidthX;var S=v;function I(_,R){d&&a.closePath(),a.moveTo(_,R),d=!0}function T(){var _;_=l.length%2!==0,_&&!u&&(S=l.shift()+C),c+=l.length>>1,l.length=0,u=!0}function B(_){for(var R,P,L,H,N,U,J,Y,ee,k,j,W,$=0;$<_.length;){var z=_[$];switch($+=1,z){case 1:T();break;case 3:T();break;case 4:l.length>1&&!u&&(S=l.shift()+C,u=!0),A+=l.pop(),I(p,A);break;case 5:for(;l.length>0;)p+=l.shift(),A+=l.shift(),a.lineTo(p,A);break;case 6:for(;l.length>0&&(p+=l.shift(),a.lineTo(p,A),l.length!==0);)A+=l.shift(),a.lineTo(p,A);break;case 7:for(;l.length>0&&(A+=l.shift(),a.lineTo(p,A),l.length!==0);)p+=l.shift(),a.lineTo(p,A);break;case 8:for(;l.length>0;)i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o+l.shift(),a.curveTo(i,r,s,o,p,A);break;case 10:N=l.pop()+g,U=m[N],U&&B(U);break;case 11:return;case 12:switch(z=_[$],$+=1,z){case 35:i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),J=s+l.shift(),Y=o+l.shift(),ee=J+l.shift(),k=Y+l.shift(),j=ee+l.shift(),W=k+l.shift(),p=j+l.shift(),A=W+l.shift(),l.shift(),a.curveTo(i,r,s,o,J,Y),a.curveTo(ee,k,j,W,p,A);break;case 34:i=p+l.shift(),r=A,s=i+l.shift(),o=r+l.shift(),J=s+l.shift(),Y=o,ee=J+l.shift(),k=o,j=ee+l.shift(),W=A,p=j+l.shift(),a.curveTo(i,r,s,o,J,Y),a.curveTo(ee,k,j,W,p,A);break;case 36:i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),J=s+l.shift(),Y=o,ee=J+l.shift(),k=o,j=ee+l.shift(),W=k+l.shift(),p=j+l.shift(),a.curveTo(i,r,s,o,J,Y),a.curveTo(ee,k,j,W,p,A);break;case 37:i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),J=s+l.shift(),Y=o+l.shift(),ee=J+l.shift(),k=Y+l.shift(),j=ee+l.shift(),W=k+l.shift(),Math.abs(j-p)>Math.abs(W-A)?p=j+l.shift():A=W+l.shift(),a.curveTo(i,r,s,o,J,Y),a.curveTo(ee,k,j,W,p,A);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+z),l.length=0}break;case 14:l.length>0&&!u&&(S=l.shift()+C,u=!0),d&&(a.closePath(),d=!1);break;case 18:T();break;case 19:case 20:T(),$+=c+7>>3;break;case 21:l.length>2&&!u&&(S=l.shift()+C,u=!0),A+=l.pop(),p+=l.pop(),I(p,A);break;case 22:l.length>1&&!u&&(S=l.shift()+C,u=!0),p+=l.pop(),I(p,A);break;case 23:T();break;case 24:for(;l.length>2;)i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o+l.shift(),a.curveTo(i,r,s,o,p,A);p+=l.shift(),A+=l.shift(),a.lineTo(p,A);break;case 25:for(;l.length>6;)p+=l.shift(),A+=l.shift(),a.lineTo(p,A);i=p+l.shift(),r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o+l.shift(),a.curveTo(i,r,s,o,p,A);break;case 26:for(l.length%2&&(p+=l.shift());l.length>0;)i=p,r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s,A=o+l.shift(),a.curveTo(i,r,s,o,p,A);break;case 27:for(l.length%2&&(A+=l.shift());l.length>0;)i=p+l.shift(),r=A,s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o,a.curveTo(i,r,s,o,p,A);break;case 28:R=_[$],P=_[$+1],l.push((R<<24|P<<16)>>16),$+=2;break;case 29:N=l.pop()+t.gsubrsBias,U=t.gsubrs[N],U&&B(U);break;case 30:for(;l.length>0&&(i=p,r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,A),l.length!==0);)i=p+l.shift(),r=A,s=i+l.shift(),o=r+l.shift(),A=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,A);break;case 31:for(;l.length>0&&(i=p+l.shift(),r=A,s=i+l.shift(),o=r+l.shift(),A=o+l.shift(),p=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,A),l.length!==0);)i=p,r=A+l.shift(),s=i+l.shift(),o=r+l.shift(),p=s+l.shift(),A=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,p,A);break;default:z<32?console.log("Glyph "+e.index+": unknown operator "+z):z<247?l.push(z-139):z<251?(R=_[$],$+=1,l.push((z-247)*256+R+108)):z<255?(R=_[$],$+=1,l.push(-(z-251)*256-R-108)):(R=_[$],P=_[$+1],L=_[$+2],H=_[$+3],$+=4,l.push((R<<24|P<<16|L<<8|H)/65536))}}}return B(n),e.advanceWidth=S,a}function lX(t,e,n,i){var r=[],s,o=new Et.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");r.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var d,p=0;p<c;p++){if(s=o.parseCard8(),d=o.parseCard16(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;u<d;u++)r.push(s);u=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return r}function cX(t,e,n,i){n.tables.cff={};var r=rX(t,e),s=$a(t,r.endOffset,Et.bytesToString),o=$a(t,s.endOffset),a=$a(t,o.endOffset,Et.bytesToString),l=$a(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=I8(n.gsubrs);var c=eI(t,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=u.fdArray,p=u.fdSelect;if(d===0||p===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var A=$a(t,d),m=eI(t,e,A.objects,a.objects);u._fdArray=m,p+=e,u._fdSelect=lX(t,p,n.numGlyphs,m.length)}var g=e+u.private[1],v=sD(t,g,u.private[0],a.objects);if(n.defaultWidthX=v.defaultWidthX,n.nominalWidthX=v.nominalWidthX,v.subrs!==0){var C=g+v.subrs,y=$a(t,C);n.subrs=y.objects,n.subrsBias=I8(n.subrs)}else n.subrs=[],n.subrsBias=0;var x;i.lowMemory?(x=$Y(t,e+u.charStrings),n.nGlyphs=x.offsets.length):(x=$a(t,e+u.charStrings),n.nGlyphs=x.objects.length);var S=oX(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new Og(JY,S):u.encoding===1?n.cffEncoding=new Og(jY,S):n.cffEncoding=aX(t,e+u.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new To.GlyphSet(n),i.lowMemory)n._push=function(B){var _=eX(B,x.offsets,t,e+u.charStrings);n.glyphs.push(B,To.cffGlyphLoader(n,B,tI,_))};else for(var I=0;I<n.nGlyphs;I+=1){var T=x.objects[I];n.glyphs.push(I,To.cffGlyphLoader(n,I,tI,T))}}function oD(t,e){var n,i=Wm.indexOf(t);return i>=0&&(n=i),i=e.indexOf(t),i>=0?n=i+Wm.length:(n=Wm.length+e.length,e.push(t)),n}function uX(){return new $e.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function hX(t){var e=new $e.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function aD(t,e,n){for(var i={},r=0;r<t.length;r+=1){var s=t[r],o=e[s.name];o!==void 0&&!eD(o,s.value)&&(s.type==="SID"&&(o=oD(o,n)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function nI(t,e){var n=new $e.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=aD(iD,t,e),n}function iI(t){var e=new $e.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function fX(t){var e=new $e.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function dX(){return new $e.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function pX(t,e){for(var n=new $e.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<t.length;i+=1){var r=t[i],s=oD(r,e);n.fields.push({name:"glyph_"+i,type:"SID",value:s})}return n}function AX(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var i=0,r=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*i+u*l.x1),y1:Math.round(c*r+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-i),p=Math.round(l.y1-r),A=Math.round(l.x2-l.x1),m=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:p}),e.push({name:"dx2",type:"NUMBER",value:A}),e.push({name:"dy2",type:"NUMBER",value:m}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),r=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function mX(t){for(var e=new $e.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var i=t.get(n),r=AX(i);e.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return e}function gX(t,e){var n=new $e.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=aD(rD,t,e),n}function vX(t,e){for(var n=new $e.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,r={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var c=[];n.header=uX(),n.nameIndex=hX([e.postScriptName]);var u=nI(r,c);n.topDictIndex=iI(u),n.globalSubrIndex=dX(),n.charsets=pX(o,c),n.charStringsIndex=mX(t),n.privateDict=gX(s,c),n.stringIndex=fX(c);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return r.charset=d,r.encoding=0,r.charStrings=r.charset+n.charsets.sizeOf(),r.private[1]=r.charStrings+n.charStringsIndex.sizeOf(),u=nI(r,c),n.topDictIndex=iI(u),n}var yX={parse:cX,make:vX};function xX(t,e){var n={},i=new Et.Parser(t,e);return n.version=i.parseVersion(),n.fontRevision=Math.round(i.parseFixed()*1e3)/1e3,n.checkSumAdjustment=i.parseULong(),n.magicNumber=i.parseULong(),yt.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=i.parseUShort(),n.unitsPerEm=i.parseUShort(),n.created=i.parseLongDateTime(),n.modified=i.parseLongDateTime(),n.xMin=i.parseShort(),n.yMin=i.parseShort(),n.xMax=i.parseShort(),n.yMax=i.parseShort(),n.macStyle=i.parseUShort(),n.lowestRecPPEM=i.parseUShort(),n.fontDirectionHint=i.parseShort(),n.indexToLocFormat=i.parseShort(),n.glyphDataFormat=i.parseShort(),n}function CX(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new $e.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var EX={parse:xX,make:CX};function SX(t,e){var n={},i=new Et.Parser(t,e);return n.version=i.parseVersion(),n.ascender=i.parseShort(),n.descender=i.parseShort(),n.lineGap=i.parseShort(),n.advanceWidthMax=i.parseUShort(),n.minLeftSideBearing=i.parseShort(),n.minRightSideBearing=i.parseShort(),n.xMaxExtent=i.parseShort(),n.caretSlopeRise=i.parseShort(),n.caretSlopeRun=i.parseShort(),n.caretOffset=i.parseShort(),i.relativeOffset+=8,n.metricDataFormat=i.parseShort(),n.numberOfHMetrics=i.parseUShort(),n}function wX(t){return new $e.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var IX={parse:SX,make:wX};function _X(t,e,n,i,r){for(var s,o,a=new Et.Parser(t,e),l=0;l<i;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var c=r.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function MX(t,e,n,i,r){t._hmtxTableData={};for(var s,o,a=new Et.Parser(e,n),l=0;l<r;l+=1)l<i&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function TX(t,e,n,i,r,s,o){o.lowMemory?MX(t,e,n,i,r):_X(e,n,i,r,s)}function BX(t){for(var e=new $e.Table("hmtx",[]),n=0;n<t.length;n+=1){var i=t.get(n),r=i.advanceWidth||0,s=i.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var bX={parse:TX,make:BX};function RX(t){for(var e=new $e.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",i=12+t.length*4,r=0;r<t.length;++r){var s=n.indexOf(t[r]);s<0&&(s=n.length,n+=t[r]),e.fields.push({name:"offset "+r,type:"USHORT",value:i+s}),e.fields.push({name:"length "+r,type:"USHORT",value:t[r].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function PX(t,e){var n=new Et.Parser(t,e),i=n.parseULong();yt.argument(i===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var r=n.parseULong(),s=[],o=0;o<r;o++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));s.push(a)}return s}var DX={make:RX,parse:PX};function LX(t,e){var n={},i=new Et.Parser(t,e);return n.version=i.parseVersion(),n.numGlyphs=i.parseUShort(),n.version===1&&(n.maxPoints=i.parseUShort(),n.maxContours=i.parseUShort(),n.maxCompositePoints=i.parseUShort(),n.maxCompositeContours=i.parseUShort(),n.maxZones=i.parseUShort(),n.maxTwilightPoints=i.parseUShort(),n.maxStorage=i.parseUShort(),n.maxFunctionDefs=i.parseUShort(),n.maxInstructionDefs=i.parseUShort(),n.maxStackElements=i.parseUShort(),n.maxSizeOfInstructions=i.parseUShort(),n.maxComponentElements=i.parseUShort(),n.maxComponentDepth=i.parseUShort()),n}function FX(t){return new $e.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var kX={parse:LX,make:FX},lD=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],cD={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},NX={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},uD={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function OX(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return cD[e];case 3:return uD[e]}}var _8="utf-16",UX={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},GX={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function hD(t,e,n){switch(t){case 0:return _8;case 1:return GX[n]||UX[e];case 3:if(e===1||e===10)return _8;break}}function QX(t,e,n){for(var i={},r=new Et.Parser(t,e),s=r.parseUShort(),o=r.parseUShort(),a=r.offset+r.parseUShort(),l=0;l<o;l++){var c=r.parseUShort(),u=r.parseUShort(),d=r.parseUShort(),p=r.parseUShort(),A=lD[p]||p,m=r.parseUShort(),g=r.parseUShort(),v=OX(c,d,n),C=hD(c,u,d);if(C!==void 0&&v!==void 0){var y=void 0;if(C===_8?y=sf.UTF16(t,a+g,m):y=sf.MACSTRING(t,a+g,m,C),y){var x=i[A];x===void 0&&(x=i[A]={}),x[v]=y}}}return s===1&&r.parseUShort(),i}function $v(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function rI(t,e,n,i,r,s){return new $e.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:s}])}function HX(t,e){var n=t.length,i=e.length-n+1;e:for(var r=0;r<i;r++)for(;r<i;r++){for(var s=0;s<n;s++)if(e[r+s]!==t[s])continue e;return r}return-1}function sI(t,e){var n=HX(t,e);if(n<0){n=e.length;for(var i=0,r=t.length;i<r;++i)e.push(t[i])}return n}function zX(t,e){var n,i=[],r={},s=$v(lD);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');r[n]=t[o],i.push(n)}for(var l=$v(cD),c=$v(uD),u=[],d=[],p=0;p<i.length;p++){n=i[p];var A=r[n];for(var m in A){var g=A[m],v=1,C=l[m],y=NX[C],x=hD(v,y,C),S=He.MACSTRING(g,x);S===void 0&&(v=0,C=e.indexOf(m),C<0&&(C=e.length,e.push(m)),y=4,S=He.UTF16(g));var I=sI(S,d);u.push(rI(v,y,C,n,S.length,I));var T=c[m];if(T!==void 0){var B=He.UTF16(g),_=sI(B,d);u.push(rI(3,1,T,n,B.length,_))}}}u.sort(function(L,H){return L.platformID-H.platformID||L.encodingID-H.encodingID||L.languageID-H.languageID||L.nameID-H.nameID});for(var R=new $e.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),P=0;P<u.length;P++)R.fields.push({name:"record_"+P,type:"RECORD",value:u[P]});return R.fields.push({name:"strings",type:"LITERAL",value:d}),R}var VX={parse:QX,make:zX},M8=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function WX(t){for(var e=0;e<M8.length;e+=1){var n=M8[e];if(t>=n.begin&&t<n.end)return e}return-1}function JX(t,e){var n={},i=new Et.Parser(t,e);n.version=i.parseUShort(),n.xAvgCharWidth=i.parseShort(),n.usWeightClass=i.parseUShort(),n.usWidthClass=i.parseUShort(),n.fsType=i.parseUShort(),n.ySubscriptXSize=i.parseShort(),n.ySubscriptYSize=i.parseShort(),n.ySubscriptXOffset=i.parseShort(),n.ySubscriptYOffset=i.parseShort(),n.ySuperscriptXSize=i.parseShort(),n.ySuperscriptYSize=i.parseShort(),n.ySuperscriptXOffset=i.parseShort(),n.ySuperscriptYOffset=i.parseShort(),n.yStrikeoutSize=i.parseShort(),n.yStrikeoutPosition=i.parseShort(),n.sFamilyClass=i.parseShort(),n.panose=[];for(var r=0;r<10;r++)n.panose[r]=i.parseByte();return n.ulUnicodeRange1=i.parseULong(),n.ulUnicodeRange2=i.parseULong(),n.ulUnicodeRange3=i.parseULong(),n.ulUnicodeRange4=i.parseULong(),n.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),n.fsSelection=i.parseUShort(),n.usFirstCharIndex=i.parseUShort(),n.usLastCharIndex=i.parseUShort(),n.sTypoAscender=i.parseShort(),n.sTypoDescender=i.parseShort(),n.sTypoLineGap=i.parseShort(),n.usWinAscent=i.parseUShort(),n.usWinDescent=i.parseUShort(),n.version>=1&&(n.ulCodePageRange1=i.parseULong(),n.ulCodePageRange2=i.parseULong()),n.version>=2&&(n.sxHeight=i.parseShort(),n.sCapHeight=i.parseShort(),n.usDefaultChar=i.parseUShort(),n.usBreakChar=i.parseUShort(),n.usMaxContent=i.parseUShort()),n}function jX(t){return new $e.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var oI={parse:JX,make:jX,unicodeRanges:M8,getUnicodeRange:WX};function KX(t,e){var n={},i=new Et.Parser(t,e);switch(n.version=i.parseVersion(),n.italicAngle=i.parseFixed(),n.underlinePosition=i.parseShort(),n.underlineThickness=i.parseShort(),n.isFixedPitch=i.parseULong(),n.minMemType42=i.parseULong(),n.maxMemType42=i.parseULong(),n.minMemType1=i.parseULong(),n.maxMemType1=i.parseULong(),n.version){case 1:n.names=$w.slice();break;case 2:n.numberOfGlyphs=i.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var r=0;r<n.numberOfGlyphs;r++)n.glyphNameIndex[r]=i.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=$w.length){var o=i.parseChar();n.names.push(i.parseString(o))}break;case 2.5:n.numberOfGlyphs=i.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=i.parseChar();break}return n}function YX(){return new $e.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var XX={parse:KX,make:YX},Ws=new Array(9);Ws[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(fe.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(fe.coverage),substitute:this.parseOffset16List()};yt.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Ws[2]=function(){var e=this.parseUShort();return yt.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),sequences:this.parseListOfLists()}};Ws[3]=function(){var e=this.parseUShort();return yt.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),alternateSets:this.parseListOfLists()}};Ws[4]=function(){var e=this.parseUShort();return yt.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Nh={sequenceIndex:fe.uShort,lookupListIndex:fe.uShort};Ws[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(fe.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Nh)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(fe.coverage),classDef:this.parsePointer(fe.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Nh)}})};if(n===3){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:n,coverages:this.parseList(i,fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(r,Nh)}}yt.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Ws[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(fe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nh)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(fe.coverage),backtrackClassDef:this.parsePointer(fe.classDef),inputClassDef:this.parsePointer(fe.classDef),lookaheadClassDef:this.parsePointer(fe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nh)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),inputCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(Nh)};yt.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Ws[7]=function(){var e=this.parseUShort();yt.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),i=new fe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Ws[n].call(i)}};Ws[8]=function(){var e=this.parseUShort();return yt.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(fe.coverage),backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),substitutes:this.parseUShortList()}};function qX(t,e){e=e||0;var n=new fe(t,e),i=n.parseVersion(1);return yt.argument(i===1||i===1.1,"Unsupported GSUB table version."),i===1?{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ws)}:{version:i,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Ws),variations:n.parseFeatureVariationsList()}}var If=new Array(9);If[1]=function(e){return e.substFormat===1?new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.ushortList("substitute",e.substitute)))};If[2]=function(e){return yt.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("seqSet",e.sequences,function(n){return new $e.Table("sequenceSetTable",$e.ushortList("sequence",n))})))};If[3]=function(e){return yt.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("altSet",e.alternateSets,function(n){return new $e.Table("alternateSetTable",$e.ushortList("alternate",n))})))};If[4]=function(e){return yt.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("ligSet",e.ligatureSets,function(n){return new $e.Table("ligatureSetTable",$e.tableList("ligature",n,function(i){return new $e.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat($e.ushortList("component",i.components,i.components.length+1)))}))})))};If[6]=function(e){if(e.substFormat===1){var n=new $e.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new $e.Coverage(e.coverage)}].concat($e.tableList("chainRuleSet",e.chainRuleSets,function(s){return new $e.Table("chainRuleSetTable",$e.tableList("chainRule",s,function(o){var a=$e.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat($e.ushortList("inputGlyph",o.input,o.input.length+1)).concat($e.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat($e.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new $e.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)yt.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var i=[{name:"substFormat",type:"USHORT",value:e.substFormat}];i.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){i.push({name:"backtrackCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){i.push({name:"inputCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){i.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new $e.Coverage(s)})}),i.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){i=i.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var r=new $e.Table("chainContextTable",i);return r}yt.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function ZX(t){return new $e.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $e.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new $e.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new $e.LookupList(t.lookups,If)}])}var $X={parse:qX,make:ZX};function eq(t,e){var n=new Et.Parser(t,e),i=n.parseULong();yt.argument(i===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var r=n.parseULong(),s={},o=0;o<r;o++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=sf.UTF8(t,e+l,c);s[a]=u}return s}function tq(t){var e=Object.keys(t).length,n="",i=16+e*12,r=new $e.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],r.fields.push({name:"tag "+s,type:"TAG",value:s}),r.fields.push({name:"offset "+s,type:"ULONG",value:i+o}),r.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}var nq={parse:eq,make:tq};function aI(t){return Math.log(t)/Math.log(2)|0}function l9(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function lI(t,e,n,i){return new $e.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:i!==void 0?i:0}])}function fD(t){var e=new $e.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,aI(e.numTables));e.searchRange=16*n,e.entrySelector=aI(n),e.rangeShift=e.numTables*16-e.searchRange;for(var i=[],r=[],s=e.sizeOf()+lI().sizeOf()*e.numTables;s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];yt.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=lI(a.tableName,l9(a.encode()),s,l);for(i.push({name:c.tag+" Table Record",type:"RECORD",value:c}),r.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,yt.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(u,d){return u.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(i),e.fields=e.fields.concat(r),e}function cI(t,e,n){for(var i=0;i<e.length;i+=1){var r=t.charToGlyphIndex(e[i]);if(r>0){var s=t.glyphs.get(r);return s.getMetrics()}}return n}function iq(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function rq(t){for(var e=[],n=[],i=[],r=[],s=[],o=[],a=[],l,c=0,u=0,d=0,p=0,A=0,m=0;m<t.glyphs.length;m+=1){var g=t.glyphs.get(m),v=g.unicode|0;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+m+"): advanceWidth is not a number.");(l>v||l===void 0)&&v>0&&(l=v),c<v&&(c=v);var C=oI.getUnicodeRange(v);if(C<32)u|=1<<C;else if(C<64)d|=1<<C-32;else if(C<96)p|=1<<C-64;else if(C<123)A|=1<<C-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(g.name!==".notdef"){var y=g.getMetrics();e.push(y.xMin),n.push(y.yMin),i.push(y.xMax),r.push(y.yMax),o.push(y.leftSideBearing),a.push(y.rightSideBearing),s.push(g.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,r),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:iq(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};x.ascender=t.ascender,x.descender=t.descender;var S=EX.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),I=IX.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),T=kX.make(t.glyphs.length),B=oI.make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:d,ulUnicodeRange3:p,ulUnicodeRange4:A,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:cI(t,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:cI(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),_=bX.make(t.glyphs),R=WY.make(t.glyphs),P=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),H=P+" "+L,N=t.getEnglishName("postScriptName");N||(N=P.replace(/\s/g,"")+"-"+L);var U={};for(var J in t.names)U[J]=t.names[J];U.uniqueID||(U.uniqueID={en:t.getEnglishName("manufacturer")+":"+H}),U.postScriptName||(U.postScriptName={en:N}),U.preferredFamily||(U.preferredFamily=t.names.fontFamily),U.preferredSubfamily||(U.preferredSubfamily=t.names.fontSubfamily);var Y=[],ee=VX.make(U,Y),k=Y.length>0?DX.make(Y):void 0,j=XX.make(),W=yX.make(t.glyphs,{version:t.getEnglishName("version"),fullName:H,familyName:P,weightName:L,postScriptName:N,unitsPerEm:t.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),$=t.metas&&Object.keys(t.metas).length>0?nq.make(t.metas):void 0,z=[S,I,T,B,ee,R,j,W,_];k&&z.push(k),t.tables.gsub&&z.push($X.make(t.tables.gsub)),$&&z.push($);for(var ne=fD(z),pe=ne.encode(),ye=l9(pe),q=ne.fields,Te=!1,Pe=0;Pe<q.length;Pe+=1)if(q[Pe].name==="head table"){q[Pe].value.checkSumAdjustment=2981146554-ye,Te=!0;break}if(!Te)throw new Error("Could not find head table with checkSum to adjust.");return ne}var sq={make:fD,fontToTable:rq,computeCheckSum:l9};function e6(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r].tag;if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function uI(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>>1,s=t[r];if(s===e)return r;s<e?n=r+1:i=r-1}return-n-1}function hI(t,e){for(var n,i=0,r=t.length-1;i<=r;){var s=i+r>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?i=s+1:r=s-1}if(i>0)return n=t[i-1],e>n.end?0:n}function U0(t,e){this.font=t,this.tableName=e}U0.prototype={searchTag:e6,binSearch:uI,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var i=t.scripts[n].tag;if(i==="DFLT")return i;i==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var i=n.scripts,r=e6(n.scripts,t);if(r>=0)return i[r].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-r,0,s),s.script}}},getLangSysTable:function(t,e,n){var i=this.getScriptTable(t,n);if(i){if(!e||e==="dflt"||e==="DFLT")return i.defaultLangSys;var r=e6(i.langSysRecords,e);if(r>=0)return i.langSysRecords[r].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-r,0,s),s.langSys}}},getFeatureTable:function(t,e,n,i){var r=this.getLangSysTable(t,e,i);if(r){for(var s,o=r.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(i){var c=a.length;return yt.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(t,e,n,i,r){var s=this.getFeatureTable(t,e,n,r),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===i&&o.push(a);if(o.length===0&&r){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=c.length;return c.push(a),l.push(d),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=hI(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=uI(t.glyphs,e);return n>=0?n:-1;case 2:var i=hI(t.ranges,e);return i?i.index+e-i.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,i=0;i<n.length;i++)for(var r=n[i],s=r.start,o=r.end,a=s;a<=o;a++)e.push(a);return e}};function G0(t){U0.call(this,t,"gpos")}G0.prototype=U0.prototype;G0.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};G0.prototype.getKerningValue=function(t,e,n){for(var i=0;i<t.length;i++)for(var r=t[i].subtables,s=0;s<r.length;s++){var o=r[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(o.classDef1,e),p=this.getGlyphClass(o.classDef2,n),A=o.classRecords[d][p];return A.value1&&A.value1.xAdvance||0}}return 0};G0.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Qr(t){U0.call(this,t,"gsub")}function oq(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function c9(t,e,n){for(var i=t.subtables,r=0;r<i.length;r++){var s=i[r];if(s.substFormat===e)return s}if(n)return i.push(n),n}Qr.prototype=U0.prototype;Qr.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Qr.prototype.getSingle=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,1),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(u=0;u<c.length;u++){var p=c[u];i.push({sub:p,by:p+d})}}else{var A=l.substitute;for(u=0;u<c.length;u++)i.push({sub:c[u],by:A[u]})}}return i};Qr.prototype.getMultiple=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,2),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var d=c[u],p=l.sequences[u];i.push({sub:d,by:p})}}return i};Qr.prototype.getAlternates=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,3),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<c.length;d++)i.push({sub:c[d],by:u[d]});return i};Qr.prototype.getLigatures=function(t,e,n){for(var i=[],r=this.getLookupTables(e,n,t,4),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<c.length;d++)for(var p=c[d],A=u[d],m=0;m<A.length;m++){var g=A[m];i.push({sub:[p].concat(g.components),by:g.ligGlyph})}return i};Qr.prototype.addSingle=function(t,e,n,i){var r=this.getLookupTables(n,i,t,1,!0)[0],s=c9(r,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});yt.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Qr.prototype.addMultiple=function(t,e,n,i){yt.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var r=this.getLookupTables(n,i,t,2,!0)[0],s=c9(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});yt.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Qr.prototype.addAlternate=function(t,e,n,i){var r=this.getLookupTables(n,i,t,3,!0)[0],s=c9(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});yt.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Qr.prototype.addLigature=function(t,e,n,i){var r=this.getLookupTables(n,i,t,4,!0)[0],s=r.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},r.subtables[0]=s),yt.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],d=0;d<u.length;d++)if(oq(u[d].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};Qr.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Qr.prototype.add=function(t,e,n,i){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,i);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,i):this.addAlternate(t,e,n,i);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,i);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,i):this.addLigature(t,e,n,i)}};function aq(){return typeof window<"u"}function lq(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),i=0;i<e.length;++i)e[i]=n[i];return e}function xd(t,e){if(!t)throw e}function fI(t,e,n,i,r){var s;return(e&i)>0?(s=t.parseByte(),e&r||(s=-s),s=n+s):(e&r)>0?s=n:s=n+t.parseShort(),s}function dD(t,e,n){var i=new Et.Parser(e,n);t.numberOfContours=i.parseShort(),t._xMin=i.parseShort(),t._yMin=i.parseShort(),t._xMax=i.parseShort(),t._yMax=i.parseShort();var r,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(i.parseUShort());t.instructionLength=i.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(i.parseByte());var c=o[o.length-1]+1;r=[];for(var u=0;u<c;u+=1)if(s=i.parseByte(),r.push(s),(s&8)>0)for(var d=i.parseByte(),p=0;p<d;p+=1)r.push(s),u+=1;if(yt.argument(r.length===c,"Bad flags."),o.length>0){var A=[],m;if(c>0){for(var g=0;g<c;g+=1)s=r[g],m={},m.onCurve=!!(s&1),m.lastPointOfContour=o.indexOf(g)>=0,A.push(m);for(var v=0,C=0;C<c;C+=1)s=r[C],m=A[C],m.x=fI(i,s,v,2,16),v=m.x;for(var y=0,x=0;x<c;x+=1)s=r[x],m=A[x],m.y=fI(i,s,y,4,32),y=m.y}t.points=A}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var S=!0;S;){r=i.parseUShort();var I={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(r&1)>0?(r&2)>0?(I.dx=i.parseShort(),I.dy=i.parseShort()):I.matchedPoints=[i.parseUShort(),i.parseUShort()]:(r&2)>0?(I.dx=i.parseChar(),I.dy=i.parseChar()):I.matchedPoints=[i.parseByte(),i.parseByte()],(r&8)>0?I.xScale=I.yScale=i.parseF2Dot14():(r&64)>0?(I.xScale=i.parseF2Dot14(),I.yScale=i.parseF2Dot14()):(r&128)>0&&(I.xScale=i.parseF2Dot14(),I.scale01=i.parseF2Dot14(),I.scale10=i.parseF2Dot14(),I.yScale=i.parseF2Dot14()),t.components.push(I),S=!!(r&32)}if(r&256){t.instructionLength=i.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(i.parseByte())}}}function t6(t,e){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],s={x:e.xScale*r.x+e.scale01*r.y+e.dx,y:e.scale10*r.x+e.yScale*r.y+e.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};n.push(s)}return n}function cq(t){for(var e=[],n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r),r.lastPointOfContour&&(e.push(n),n=[])}return yt.argument(n.length===0,"There are still points left in the current contour."),e}function pD(t){var e=new ci;if(!t)return e;for(var n=cq(t),i=0;i<n.length;++i){var r=n[i],s=null,o=r[r.length-1],a=r[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<r.length;++c)if(s=o,o=a,a=r[(c+1)%r.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function AD(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var i=e.components[n],r=t.get(i.glyphIndex);if(r.getPath(),r.points){var s=void 0;if(i.matchedPoints===void 0)s=t6(r.points,i);else{if(i.matchedPoints[0]>e.points.length-1||i.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[i.matchedPoints[0]],a=r.points[i.matchedPoints[1]],l={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=t6([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=t6(r.points,l)}e.points=e.points.concat(s)}}return pD(e.points)}function uq(t,e,n,i){for(var r=new To.GlyphSet(i),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?r.push(s,To.ttfGlyphLoader(i,s,dD,t,e+o,AD)):r.push(s,To.glyphLoader(i,s))}return r}function hq(t,e,n,i){var r=new To.GlyphSet(i);return i._push=function(s){var o=n[s],a=n[s+1];o!==a?r.push(s,To.ttfGlyphLoader(i,s,dD,t,e+o,AD)):r.push(s,To.glyphLoader(i,s))},r}function fq(t,e,n,i,r){return r.lowMemory?hq(t,e,n,i):uq(t,e,n,i)}var dq={getPath:pD,parse:fq},mD,ou,gD,T8;function vD(t){this.font=t,this.getCommands=function(e){return dq.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function pq(t){return t}function yD(t){return Math.sign(t)*Math.round(Math.abs(t))}function Aq(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function mq(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function gq(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function vq(t){return Math.sign(t)*Math.floor(Math.abs(t))}var xD=function(t){var e=this.srPeriod,n=this.srPhase,i=this.srThreshold,r=1;return t<0&&(t=-t,r=-1),t+=i-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*r:t*r},xo={x:1,y:0,axis:"x",distance:function(t,e,n,i){return(n?t.xo:t.x)-(i?e.xo:e.x)},interpolate:function(t,e,n,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*o)/u;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){xo.setRelative(t,t,(l+c)/2,i,!0);return}xo.setRelative(t,t,(l*a+c*o)/u,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,i,r){if(!i||i===this){t.x=(r?e.xo:e.x)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.x=a+(t.y-l)/i.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},fa={x:0,y:1,axis:"y",distance:function(t,e,n,i){return(n?t.yo:t.y)-(i?e.yo:e.y)},interpolate:function(t,e,n,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*o)/u;return}if(r=i.distance(t,e,!0,!0),s=i.distance(t,n,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(n,n,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){fa.setRelative(t,t,(l+c)/2,i,!0);return}fa.setRelative(t,t,(l*a+c*o)/u,i,!0)},normalSlope:0,setRelative:function(t,e,n,i,r){if(!i||i===this){t.y=(r?e.yo:e.y)+n;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y;t.y=l+i.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(xo);Object.freeze(fa);function Q0(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}Q0.prototype.distance=function(t,e,n,i){return this.x*xo.distance(t,e,n,i)+this.y*fa.distance(t,e,n,i)};Q0.prototype.interpolate=function(t,e,n,i){var r,s,o,a,l,c,u;if(o=i.distance(t,e,!0,!0),a=i.distance(t,n,!0,!0),r=i.distance(e,e,!1,!0),s=i.distance(n,n,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(r+s)/2,i,!0);return}this.setRelative(t,t,(r*c+s*l)/u,i,!0)};Q0.prototype.setRelative=function(t,e,n,i,r){i=i||this;var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+n*i.x,l=o+n*i.y,c=i.normalSlope,u=this.slope,d=t.x,p=t.y;t.x=(u*d-c*a+l-p)/(u-c),t.y=u*(t.x-d)+p};Q0.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function H0(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?xo:t===0&&e===1?fa:new Q0(t,e)}function Aa(t,e,n,i){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Aa.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Aa.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var Zp=Object.freeze(new Aa(0,0)),yq={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ul(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xo,this.round=yD}}vD.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,i=this._prepState;if(!i||i.ppem!==e){var r=this._fpgmState;if(!r){ul.prototype=yq,r=this._fpgmState=new ul("fpgm",n.tables.fpgm),r.funcs=[],r.font=n,me.DEBUG&&(console.log("---EXEC FPGM---"),r.step=-1);try{ou(r)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}ul.prototype=r,i=this._prepState=new ul("prep",n.tables.prep),i.ppem=e;var s=n.tables.cvt;if(s)for(var o=i.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else i.cvt=[];me.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{ou(i)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return gD(t,i)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};gD=function(t,e){var n=e.ppem/e.font.unitsPerEm,i=n,r=t.components,s,o,a;if(ul.prototype=e,!r)a=new ul("glyf",t.instructions),me.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),T8(t,a,n,i),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<r.length;c++){var u=r[c],d=l.glyphs.get(u.glyphIndex);a=new ul("glyf",d.instructions),me.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),T8(d,a,n,i);for(var p=Math.round(u.dx*n),A=Math.round(u.dy*i),m=a.gZone,g=a.contours,v=0;v<m.length;v++){var C=m[v];C.xTouched=C.yTouched=!1,C.xo=C.x=C.x+p,C.yo=C.y=C.y+A}var y=o.length;o.push.apply(o,m);for(var x=0;x<g.length;x++)s.push(g[x]+y)}t.instructions&&!a.inhibitGridFit&&(a=new ul("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Aa(0,0),new Aa(Math.round(t.advanceWidth*n),0)),me.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),ou(a),o.length-=2)}return o};T8=function(t,e,n,i){for(var r=t.points||[],s=r.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=r[c],o[c]=new Aa(l.x*n,l.y*i,l.lastPointOfContour,l.onCurve);for(var u,d,p=0;p<s;p++)l=o[p],u||(u=l,a.push(p)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(d=o[p+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(me.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var A=0;A<s;A++)console.log(A,o[A].x,o[A].y)}if(o.push(new Aa(0,0),new Aa(Math.round(t.advanceWidth*n),0)),ou(e),o.length-=2,me.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}}};ou=function(t){var e=t.prog;if(e){var n=e.length,i;for(t.ip=0;t.ip<n;t.ip++){if(me.DEBUG&&t.step++,i=mD[e[t.ip]],!i)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));i(t)}}};function Y2(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Aa(0,0)}function CD(t,e){var n=t.prog,i=t.ip,r=1,s;do if(s=n[++i],s===88)r++;else if(s===89)r--;else if(s===64)i+=n[i+1]+1;else if(s===65)i+=2*n[i+1]+1;else if(s>=176&&s<=183)i+=s-176+1;else if(s>=184&&s<=191)i+=(s-184+1)*2;else if(e&&r===1&&s===27)break;while(r>0);t.ip=i}function dI(t,e){me.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function pI(t,e){me.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function AI(t,e){me.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function mI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log("SPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=H0(a,l)}function gI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log("SFVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=H0(a,l)}function xq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.pv=t.dpv=H0(i,n)}function Cq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SPVFS[]",n,i),t.fv=H0(i,n)}function Eq(t){var e=t.stack,n=t.pv;me.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Sq(t){var e=t.stack,n=t.fv;me.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function wq(t){t.fv=t.pv,me.DEBUG&&console.log(t.step,"SFVTPV[]")}function Iq(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[i],d=l[r],p=l[s],A=t.z2[o];me.DEBUG&&console.log("ISECT[], ",n,i,r,s,o);var m=c.x,g=c.y,v=u.x,C=u.y,y=d.x,x=d.y,S=p.x,I=p.y,T=(m-v)*(x-I)-(g-C)*(y-S),B=m*C-g*v,_=y*I-x*S;A.x=(B*(y-S)-_*(m-v))/T,A.y=(B*(x-I)-_*(g-C))/T}function _q(t){t.rp0=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function Mq(t){t.rp1=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function Tq(t){t.rp2=t.stack.pop(),me.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Bq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||Y2(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function bq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||Y2(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Rq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||Y2(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Pq(t){var e=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||Y2(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Dq(t){t.loop=t.stack.pop(),me.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function Lq(t){me.DEBUG&&console.log(t.step,"RTG[]"),t.round=yD}function Fq(t){me.DEBUG&&console.log(t.step,"RTHG[]"),t.round=mq}function kq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function Nq(t){me.DEBUG&&console.log(t.step,"ELSE[]"),CD(t,!1)}function Oq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function Uq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function Gq(t){var e=t.stack;me.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function n6(t){me.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Qq(t){me.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function Hq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(i)}function zq(t){var e=t.stack;me.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function Vq(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LOOPCALL[]",n,i);var r=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<i;o++)ou(t),me.DEBUG&&console.log(++t.step,o+1<i?"next loopcall":"done loopcall",o);t.ip=r,t.prog=s}function Wq(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,i=t.prog;t.prog=t.funcs[e],ou(t),t.ip=n,t.prog=i,me.DEBUG&&console.log(++t.step,"returning from",e)}function Jq(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function jq(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function Kq(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,i=t.ip,r=e.pop(),s=i;for(me.DEBUG&&console.log(t.step,"FDEF[]",r);n[++i]!==45;);t.ip=i,t.funcs[r]=n.slice(s+1,i)}function vI(t,e){var n=e.stack.pop(),i=e.z0[n],r=e.fv,s=e.pv;me.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(i,Zp);t&&(o=e.round(o)),r.setRelative(i,Zp,o,s),r.touch(i),e.rp0=e.rp1=n}function yI(t,e){var n=e.z2,i=n.length-2,r,s,o;me.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<i;a++)r=n[a],!t.touched(r)&&(s=r.prevTouched(t),s!==r&&(o=r.nextTouched(t),s===o&&t.setRelative(r,r,t.distance(s,s,!1,!0),t,!0),t.interpolate(r,s,o,t)))}function xI(t,e){for(var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],d=o.distance(r,r,!1,!0);s.setRelative(u,u,d,o),s.touch(u),me.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function CI(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;me.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=o.distance(r,r,!1,!0);do c!==r&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function EI(t,e){var n=e.stack,i=t?e.rp1:e.rp2,r=(t?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=n.pop();me.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(r,r,!1,!0),d=l.length-2,p=0;p<d;p++)c=l[p],s.setRelative(c,c,u,o)}function Yq(t){for(var e=t.stack,n=t.loop,i=t.fv,r=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,r),i.setRelative(a,a,r),i.touch(a)}t.loop=1}function Xq(t){for(var e=t.stack,n=t.rp1,i=t.rp2,r=t.loop,s=t.z0[n],o=t.z1[i],a=t.fv,l=t.dpv,c=t.z2;r--;){var u=e.pop(),d=c[u];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"IP[]",u,n,"<->",i),a.interpolate(d,s,o,l),a.touch(d)}t.loop=1}function SI(t,e){var n=e.stack,i=n.pop()/64,r=n.pop(),s=e.z1[r],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,i,l),a.touch(s),me.DEBUG&&console.log(e.step,"MSIRP["+t+"]",i,r),e.rp1=e.rp0,e.rp2=r,t&&(e.rp0=r)}function qq(t){for(var e=t.stack,n=t.rp0,i=t.z0[n],r=t.loop,s=t.fv,o=t.pv,a=t.z1;r--;){var l=e.pop(),c=a[l];me.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,i,0,o),s.touch(c)}t.loop=1}function Zq(t){me.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Aq}function wI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z0[r],o=e.fv,a=e.pv,l=e.cvt[i];me.DEBUG&&console.log(e.step,"MIAP["+t+"]",i,"(",l,")",r);var c=a.distance(s,Zp);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,Zp,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=r}function $q(t){var e=t.prog,n=t.ip,i=t.stack,r=e[++n];me.DEBUG&&console.log(t.step,"NPUSHB[]",r);for(var s=0;s<r;s++)i.push(e[++n]);t.ip=n}function eZ(t){var e=t.ip,n=t.prog,i=t.stack,r=n[++e];me.DEBUG&&console.log(t.step,"NPUSHW[]",r);for(var s=0;s<r;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),i.push(o)}t.ip=e}function tZ(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var i=e.pop(),r=e.pop();me.DEBUG&&console.log(t.step,"WS",i,r),n[r]=i}function nZ(t){var e=t.stack,n=t.store,i=e.pop();me.DEBUG&&console.log(t.step,"RS",i);var r=n&&n[i]||0;e.push(r)}function iZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"WCVTP",n,i),t.cvt[i]=n/64}function rZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function II(t,e){var n=e.stack,i=n.pop(),r=e.z2[i];me.DEBUG&&console.log(e.step,"GC["+t+"]",i),n.push(e.dpv.distance(r,Zp,t,!1)*64)}function _I(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z1[i],o=e.z0[r],a=e.dpv.distance(o,s,t,t);me.DEBUG&&console.log(e.step,"MD["+t+"]",i,r,"->",a),e.stack.push(Math.round(a*64))}function sZ(t){me.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function oZ(t){me.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function aZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LT[]",n,i),e.push(i<n?1:0)}function lZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"LTEQ[]",n,i),e.push(i<=n?1:0)}function cZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"GT[]",n,i),e.push(i>n?1:0)}function uZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"GTEQ[]",n,i),e.push(i>=n?1:0)}function hZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"EQ[]",n,i),e.push(n===i?1:0)}function fZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"NEQ[]",n,i),e.push(n!==i?1:0)}function dZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function pZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function AZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"IF[]",e),e||(CD(t,!0),me.DEBUG&&console.log(t.step,"EIF[]"))}function mZ(t){me.DEBUG&&console.log(t.step,"EIF[]")}function gZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"AND[]",n,i),e.push(n&&i?1:0)}function vZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"OR[]",n,i),e.push(n||i?1:0)}function yZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function i6(t,e){var n=e.stack,i=n.pop(),r=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;me.DEBUG&&console.log(e.step,"DELTAP["+t+"]",i,n);for(var u=0;u<i;u++){var d=n.pop(),p=n.pop(),A=a+((p&240)>>4);if(A===o){var m=(p&15)-8;m>=0&&m++,me.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",m*l);var g=c[d];r.setRelative(g,g,m*l,s)}}}function xZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function CZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function EZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"ADD[]",n,i),e.push(i+n)}function SZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"SUB[]",n,i),e.push(i-n)}function wZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"DIV[]",n,i),e.push(i*64/n)}function IZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MUL[]",n,i),e.push(i*n/64)}function _Z(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function MZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function TZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function BZ(t){var e=t.stack,n=e.pop();me.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function um(t,e){var n=e.stack,i=n.pop();me.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(i/64)*64)}function bZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"WCVTF[]",n,i),t.cvt[i]=n*t.ppem/t.font.unitsPerEm}function r6(t,e){var n=e.stack,i=n.pop(),r=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;me.DEBUG&&console.log(e.step,"DELTAC["+t+"]",i,n);for(var a=0;a<i;a++){var l=n.pop(),c=n.pop(),u=s+((c&240)>>4);if(u===r){var d=(c&15)-8;d>=0&&d++;var p=d*o;me.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",p),e.cvt[l]+=p}}}function RZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=xD;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function PZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=xD;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function DZ(t){me.DEBUG&&console.log(t.step,"ROFF[]"),t.round=pq}function LZ(t){me.DEBUG&&console.log(t.step,"RUTG[]"),t.round=gq}function FZ(t){me.DEBUG&&console.log(t.step,"RDTG[]"),t.round=vq}function kZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function MI(t,e){var n=e.stack,i=n.pop(),r=n.pop(),s=e.z2[i],o=e.z1[r];me.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",i,r);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=H0(a,l)}function NZ(t){var e=t.stack,n=e.pop(),i=0;me.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(i=35),n&32&&(i|=4096),e.push(i)}function OZ(t){var e=t.stack,n=e.pop(),i=e.pop(),r=e.pop();me.DEBUG&&console.log(t.step,"ROLL[]"),e.push(i),e.push(n),e.push(r)}function UZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MAX[]",n,i),e.push(Math.max(i,n))}function GZ(t){var e=t.stack,n=e.pop(),i=e.pop();me.DEBUG&&console.log(t.step,"MIN[]",n,i),e.push(Math.min(i,n))}function QZ(t){var e=t.stack.pop();me.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function HZ(t){var e=t.stack.pop(),n=t.stack.pop();switch(me.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Ja(t,e){var n=e.stack,i=e.prog,r=e.ip;me.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(i[++r]);e.ip=r}function ja(t,e){var n=e.ip,i=e.prog,r=e.stack;me.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=i[++n]<<8|i[++n];o&32768&&(o=-((o^65535)+1)),r.push(o)}e.ip=n}function Ze(t,e,n,i,r,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],d=s.z1[l],p=s.minDis,A=s.fv,m=s.dpv,g,v,C,y;v=g=m.distance(d,u,!0,!0),C=v>=0?1:-1,v=Math.abs(v),t&&(y=s.cvt[a],i&&Math.abs(v-y)<s.cvCutIn&&(v=y)),n&&v<p&&(v=p),i&&(v=s.round(v)),A.setRelative(d,u,C*v,m),A.touch(d),me.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(i?"R":"_")+(r===0?"Gr":r===1?"Bl":r===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+y+")":"",l,"(d =",g,"->",C*v,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}mD=[dI.bind(void 0,fa),dI.bind(void 0,xo),pI.bind(void 0,fa),pI.bind(void 0,xo),AI.bind(void 0,fa),AI.bind(void 0,xo),mI.bind(void 0,0),mI.bind(void 0,1),gI.bind(void 0,0),gI.bind(void 0,1),xq,Cq,Eq,Sq,wq,Iq,_q,Mq,Tq,Bq,bq,Rq,Pq,Dq,Lq,Fq,kq,Nq,Oq,Uq,void 0,void 0,Gq,n6,Qq,Hq,zq,Jq,jq,void 0,void 0,void 0,Vq,Wq,Kq,void 0,vI.bind(void 0,0),vI.bind(void 0,1),yI.bind(void 0,fa),yI.bind(void 0,xo),xI.bind(void 0,0),xI.bind(void 0,1),CI.bind(void 0,0),CI.bind(void 0,1),EI.bind(void 0,0),EI.bind(void 0,1),Yq,Xq,SI.bind(void 0,0),SI.bind(void 0,1),qq,Zq,wI.bind(void 0,0),wI.bind(void 0,1),$q,eZ,tZ,nZ,iZ,rZ,II.bind(void 0,0),II.bind(void 0,1),void 0,_I.bind(void 0,0),_I.bind(void 0,1),sZ,void 0,oZ,void 0,void 0,aZ,lZ,cZ,uZ,hZ,fZ,dZ,pZ,AZ,mZ,gZ,vZ,yZ,i6.bind(void 0,1),xZ,CZ,EZ,SZ,wZ,IZ,_Z,MZ,TZ,BZ,um.bind(void 0,0),um.bind(void 0,1),um.bind(void 0,2),um.bind(void 0,3),void 0,void 0,void 0,void 0,bZ,i6.bind(void 0,2),i6.bind(void 0,3),r6.bind(void 0,1),r6.bind(void 0,2),r6.bind(void 0,3),RZ,PZ,void 0,void 0,DZ,void 0,LZ,FZ,n6,n6,void 0,void 0,void 0,void 0,void 0,kZ,MI.bind(void 0,0),MI.bind(void 0,1),NZ,void 0,OZ,UZ,GZ,QZ,HZ,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ja.bind(void 0,1),Ja.bind(void 0,2),Ja.bind(void 0,3),Ja.bind(void 0,4),Ja.bind(void 0,5),Ja.bind(void 0,6),Ja.bind(void 0,7),Ja.bind(void 0,8),ja.bind(void 0,1),ja.bind(void 0,2),ja.bind(void 0,3),ja.bind(void 0,4),ja.bind(void 0,5),ja.bind(void 0,6),ja.bind(void 0,7),ja.bind(void 0,8),Ze.bind(void 0,0,0,0,0,0),Ze.bind(void 0,0,0,0,0,1),Ze.bind(void 0,0,0,0,0,2),Ze.bind(void 0,0,0,0,0,3),Ze.bind(void 0,0,0,0,1,0),Ze.bind(void 0,0,0,0,1,1),Ze.bind(void 0,0,0,0,1,2),Ze.bind(void 0,0,0,0,1,3),Ze.bind(void 0,0,0,1,0,0),Ze.bind(void 0,0,0,1,0,1),Ze.bind(void 0,0,0,1,0,2),Ze.bind(void 0,0,0,1,0,3),Ze.bind(void 0,0,0,1,1,0),Ze.bind(void 0,0,0,1,1,1),Ze.bind(void 0,0,0,1,1,2),Ze.bind(void 0,0,0,1,1,3),Ze.bind(void 0,0,1,0,0,0),Ze.bind(void 0,0,1,0,0,1),Ze.bind(void 0,0,1,0,0,2),Ze.bind(void 0,0,1,0,0,3),Ze.bind(void 0,0,1,0,1,0),Ze.bind(void 0,0,1,0,1,1),Ze.bind(void 0,0,1,0,1,2),Ze.bind(void 0,0,1,0,1,3),Ze.bind(void 0,0,1,1,0,0),Ze.bind(void 0,0,1,1,0,1),Ze.bind(void 0,0,1,1,0,2),Ze.bind(void 0,0,1,1,0,3),Ze.bind(void 0,0,1,1,1,0),Ze.bind(void 0,0,1,1,1,1),Ze.bind(void 0,0,1,1,1,2),Ze.bind(void 0,0,1,1,1,3),Ze.bind(void 0,1,0,0,0,0),Ze.bind(void 0,1,0,0,0,1),Ze.bind(void 0,1,0,0,0,2),Ze.bind(void 0,1,0,0,0,3),Ze.bind(void 0,1,0,0,1,0),Ze.bind(void 0,1,0,0,1,1),Ze.bind(void 0,1,0,0,1,2),Ze.bind(void 0,1,0,0,1,3),Ze.bind(void 0,1,0,1,0,0),Ze.bind(void 0,1,0,1,0,1),Ze.bind(void 0,1,0,1,0,2),Ze.bind(void 0,1,0,1,0,3),Ze.bind(void 0,1,0,1,1,0),Ze.bind(void 0,1,0,1,1,1),Ze.bind(void 0,1,0,1,1,2),Ze.bind(void 0,1,0,1,1,3),Ze.bind(void 0,1,1,0,0,0),Ze.bind(void 0,1,1,0,0,1),Ze.bind(void 0,1,1,0,0,2),Ze.bind(void 0,1,1,0,0,3),Ze.bind(void 0,1,1,0,1,0),Ze.bind(void 0,1,1,0,1,1),Ze.bind(void 0,1,1,0,1,2),Ze.bind(void 0,1,1,0,1,3),Ze.bind(void 0,1,1,1,0,0),Ze.bind(void 0,1,1,1,0,1),Ze.bind(void 0,1,1,1,0,2),Ze.bind(void 0,1,1,1,0,3),Ze.bind(void 0,1,1,1,1,0),Ze.bind(void 0,1,1,1,1,1),Ze.bind(void 0,1,1,1,1,2),Ze.bind(void 0,1,1,1,1,3)];function _f(t){this.char=t,this.state={},this.activeState=null}function u9(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function zZ(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function Js(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function X2(t){this.eventId=t,this.subscribers=[]}function VZ(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(r){Object.defineProperty(e.events,r,{value:new X2(r)})}),t&&n.forEach(function(r){var s=t[r];typeof s=="function"&&e.events[r].subscribe(s)});var i=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];i.forEach(function(r){e.events[r].subscribe(e.updateContextsRanges)})}function Un(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],VZ.call(this,t)}_f.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};_f.prototype.getState=function(t){return this.state[t]||null};Un.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Un.prototype.composeRUD=function(t){var e=this,n=!0,i=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),r=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(i.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:i.filter(r)};this.dispatch("composeRUD",[i.filter(function(s){return!r(s)})])};Un.prototype.replaceRange=function(t,e,n,i){e=e!==null?e:this.tokens.length;var r=n.every(function(o){return o instanceof _f});if(!isNaN(t)&&this.inboundIndex(t)&&r){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return i||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Un.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof _f){var i=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[i[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Un.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var i=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[i,t,e]),i};Un.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Un.prototype.insertToken=function(t,e,n){var i=t.every(function(r){return r instanceof _f});return i?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};Un.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(i,r){var s=[i,r],o=e===null||e.apply(this,s)===!0,a=[i,r];if(o){var l=n.apply(this,a);i.setState(t,l)}}),this.registeredModifiers.push(t)};X2.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};X2.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};Js.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};Js.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Un.prototype.rangeToText=function(t){if(t instanceof u9)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};Un.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Un.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};Un.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};Un.prototype.dispatch=function(t,e){var n=this,i=this.events[t];i instanceof X2&&i.subscribers.forEach(function(r){r.apply(n,e||[])})};Un.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var i=new zZ(t,e,n);return this.registeredContexts[t]=i,this.contextCheckers.push(i),i};Un.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};Un.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Un.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};Un.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(i){return i.char}),e=0;e<t.length;e++){var n=new Js(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Un.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,i=new u9(n,t,e),r=this.getContext(e).ranges;return i.rangeId=e+"."+r.length,r.push(i),this.getContext(e).openRange=null,i};Un.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(i){var r=i.contextName,s=e.getContext(r).openRange;if(!s&&i.checkStart(t)&&(s=new u9(n,null,r),e.getContext(r).openRange=s,e.dispatch("contextStart",[r,n])),s&&i.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,r);e.dispatch("contextEnd",[r,a])}})};Un.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var i=e[n],r=new Js(e,n);this.dispatch("next",[r]),this.runContextCheck(r);var s=new _f(i);this.tokens.push(s),this.dispatch("newToken",[s,r])}return this.dispatch("end",[this.tokens]),this.tokens};function Cl(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function ED(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Rl(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Jm(t){return/[A-z]/.test(t)}function WZ(t){return/\s/.test(t)}function Hr(t){this.font=t,this.features={}}function bc(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function z0(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,i=0;i<n.length;i++){var r=n[i];if(t>=r.start&&t<=r.end){var s=t-r.start;return r.index+s}}break;default:return-1}return-1}function JZ(t,e){var n=z0(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function jZ(t,e){var n=z0(t,e.coverage);return n===-1?null:e.substitute[n]}function s6(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],s=e.current;s=Array.isArray(s)?s[0]:s;var o=z0(s,r);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function KZ(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var i=s6(e.inputCoverage,t);if(i===-1)return[];var r=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(r);s.length&&Rl(s[0].char);)s.shift();var o=new Js(s,0),a=s6(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&Rl(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new Js(l,0),u=s6(e.backtrackCoverage,c),d=i.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,p=[];if(d)for(var A=0;A<e.lookupRecords.length;A++)for(var m=e.lookupRecords[A],g=m.lookupListIndex,v=this.getLookupByIndex(g),C=0;C<v.subtables.length;C++){var y=v.subtables[C],x=this.getLookupMethod(v,y),S=this.getSubstitutionType(v,y);if(S==="12")for(var I=0;I<i.length;I++){var T=t.get(I),B=x(T);B&&p.push(B)}}return p}function YZ(t,e){var n=t.current,i=z0(n,e.coverage);if(i===-1)return null;for(var r,s=e.ligatureSets[i],o=0;o<s.length;o++){r=s[o];for(var a=0;a<r.components.length;a++){var l=t.lookahead[a],c=r.components[a];if(l!==c)break;if(a===r.components.length-1)return r}}return null}function XZ(t,e){var n=z0(t,e.coverage);return n===-1?null:e.sequences[n]}Hr.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Hr.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,i=0;i<n.length;i++){var r=n[i];if(r.tag===t&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var s=r.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Hr.prototype.mapTagsToFeatures=function(t,e){for(var n={},i=0;i<t.length;i++){var r=t[i].tag,s=t[i].feature;n[r]=s}this.features[e].tags=n};Hr.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var i=this.font.tables.gsub;return e=n.map(function(r){return i.features[r]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};Hr.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),i=e.substFormat.toString();return n+i};Hr.prototype.getLookupMethod=function(t,e){var n=this,i=this.getSubstitutionType(t,e);switch(i){case"11":return function(r){return JZ.apply(n,[r,e])};case"12":return function(r){return jZ.apply(n,[r,e])};case"63":return function(r){return KZ.apply(n,[r,e])};case"41":return function(r){return YZ.apply(n,[r,e])};case"21":return function(r){return XZ.apply(n,[r,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Hr.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,i=this.getFeature({tag:t.tag,script:t.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var r=this.getFeatureLookups(i),s=[].concat(e.context),o=0;o<r.length;o++)for(var a=r[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],d=this.getSubstitutionType(a,u),p=this.getLookupMethod(a,u),A=void 0;switch(d){case"11":A=p(e.current),A&&s.splice(n,1,new bc({id:11,tag:t.tag,substitution:A}));break;case"12":A=p(e.current),A&&s.splice(n,1,new bc({id:12,tag:t.tag,substitution:A}));break;case"63":A=p(e),Array.isArray(A)&&A.length&&s.splice(n,1,new bc({id:63,tag:t.tag,substitution:A}));break;case"41":A=p(e),A&&s.splice(n,1,new bc({id:41,tag:t.tag,substitution:A}));break;case"21":A=p(e.current),A&&s.splice(n,1,new bc({id:21,tag:t.tag,substitution:A}));break}e=new Js(s,n),!(Array.isArray(A)&&!A.length)&&(A=null)}return s.length?s:null};Hr.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(i){return i.tag===t.tag});return e&&n};Hr.prototype.getLookupSubtables=function(t){return t.subtables||null};Hr.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};Hr.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Hr.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function qZ(t){var e=t.current,n=t.get(-1);return n===null&&Cl(e)||!Cl(n)&&Cl(e)}function ZZ(t){var e=t.get(1);return e===null||!Cl(e)}var $Z={startCheck:qZ,endCheck:ZZ};function e$(t){var e=t.current,n=t.get(-1);return(Cl(e)||Rl(e))&&!Cl(n)}function t$(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Cl(e)&&!Rl(e)):var n=WZ(e);if(!n)return!0;if(n){var i=!1;if(i=t.lookahead.some(function(r){return Cl(r)||Rl(r)}),!i)return!0}break;default:return!1}}var n$={startCheck:e$,endCheck:t$};function i$(t,e,n){e[n].setState(t.tag,t.substitution)}function r$(t,e,n){e[n].setState(t.tag,t.substitution)}function s$(t,e,n){t.substitution.forEach(function(i,r){var s=e[n+r];s.setState(t.tag,i)})}function o$(t,e,n){var i=e[n];i.setState(t.tag,t.substitution.ligGlyph);for(var r=t.substitution.components.length,s=0;s<r;s++)i=e[n+s+1],i.setState("deleted",!0)}var TI={11:i$,12:r$,63:s$,41:o$};function h9(t,e,n){t instanceof bc&&TI[t.id]&&TI[t.id](t,e,n)}function a$(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var i=e[n],r=ED(i),s=Rl(i);if(!r&&!s)return!0;if(r)return!1}return!1}function l$(t){if(ED(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],i=Rl(n);if(!i)return!0}return!1}function c$(t){var e=this,n="arab",i=this.featuresTags[n],r=this.tokenizer.getRangeTokens(t);if(r.length!==1){var s=new Js(r.map(function(a){return a.getState("glyphIndex")}),0),o=new Js(r.map(function(a){return a.char}),0);r.forEach(function(a,l){if(!Rl(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;a$(o)&&(c|=1),l$(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(i.indexOf(u)!==-1){var d=e.query.lookupFeature({tag:u,script:n,contextParams:s});if(d instanceof Error)return console.info(d.message);d.forEach(function(p,A){p instanceof bc&&(h9(p,r,A),s.context[A]=p.substitution)})}}})}}function BI(t,e){var n=t.map(function(i){return i.activeState.value});return new Js(n,e||0)}function u$(t){var e=this,n="arab",i=this.tokenizer.getRangeTokens(t),r=BI(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:r});a.length&&(a.forEach(function(l){return h9(l,i,o)}),r=BI(i))})}function h$(t){var e=t.current,n=t.get(-1);return n===null&&Jm(e)||!Jm(n)&&Jm(e)}function f$(t){var e=t.get(1);return e===null||!Jm(e)}var d$={startCheck:h$,endCheck:f$};function bI(t,e){var n=t.map(function(i){return i.activeState.value});return new Js(n,e||0)}function p$(t){var e=this,n="latn",i=this.tokenizer.getRangeTokens(t),r=bI(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:r});a.length&&(a.forEach(function(l){return h9(l,i,o)}),r=bI(i))})}function eo(t){this.baseDir=t||"ltr",this.tokenizer=new Un,this.featuresTags={}}eo.prototype.setText=function(t){this.text=t};eo.prototype.contextChecks={latinWordCheck:d$,arabicWordCheck:$Z,arabicSentenceCheck:n$};function o6(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function A$(){return o6.call(this,"latinWord"),o6.call(this,"arabicWord"),o6.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function m$(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var i=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,i.reverse())})}eo.prototype.registerFeatures=function(t,e){var n=this,i=e.filter(function(r){return n.query.supports({script:t,tag:r})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(i):this.featuresTags[t]=i};eo.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Hr(t));for(var n=0;n<e.length;n++){var i=e[n];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}};eo.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function f9(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function g$(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){f9.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(i){c$.call(t,i)})}}function v$(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){f9.call(this);var i=this.tokenizer.getContextRanges("arabicWord");i.forEach(function(r){u$.call(t,r)})}}}function y$(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){f9.call(this);var i=this.tokenizer.getContextRanges("latinWord");i.forEach(function(r){p$.call(t,r)})}}}eo.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};eo.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(g$.call(this),v$.call(this)),this.checkContextReady("latinWord")&&y$.call(this),this.checkContextReady("arabicSentence")&&m$.call(this)};eo.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),A$.call(this),this.applyFeaturesToContexts())};eo.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};eo.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var i=this.tokenizer.tokens[n];if(!i.state.deleted){var r=i.activeState.value;e.push(Array.isArray(r)?r[0]:r)}}return e};function fn(t){t=t||{},t.tables=t.tables||{},t.empty||(xd(t.familyName,"When creating a new Font object, familyName is required."),xd(t.styleName,"When creating a new Font object, styleName is required."),xd(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),xd(t.ascender,"When creating a new Font object, ascender is required."),xd(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new To.GlyphSet(this,t.glyphs||[]),this.encoding=new $P(this),this.position=new G0(this),this.substitution=new Qr(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new vD(this)}})}fn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};fn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};fn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};fn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};fn.prototype.stringToGlyphs=function(t,e){var n=this,i=new eo,r=function(d){return n.charToGlyphIndex(d.char)};i.registerModifier("glyphIndex",null,r);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;i.applyFeatures(this,s);for(var o=i.getTextGlyphs(t),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};fn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};fn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};fn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};fn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};fn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};fn.prototype.forEachGlyph=function(t,e,n,i,r,s){e=e!==void 0?e:0,n=n!==void 0?n:0,i=i!==void 0?i:72,r=Object.assign({},this.defaultRenderOptions,r);var o=1/this.unitsPerEm*i,a=this.stringToGlyphs(t,r),l;if(r.kerning){var c=r.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,r.language)}for(var u=0;u<a.length;u+=1){var d=a[u];if(s.call(this,d,e,n,i,r),d.advanceWidth&&(e+=d.advanceWidth*o),r.kerning&&u<a.length-1){var p=l?this.position.getKerningValue(l,d.index,a[u+1].index):this.getKerningValue(d,a[u+1]);e+=p*o}r.letterSpacing?e+=r.letterSpacing*i:r.tracking&&(e+=r.tracking/1e3*i)}return e};fn.prototype.getPath=function(t,e,n,i,r){var s=new ci;return this.forEachGlyph(t,e,n,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.extend(u)}),s};fn.prototype.getPaths=function(t,e,n,i,r){var s=[];return this.forEachGlyph(t,e,n,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.push(u)}),s};fn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};fn.prototype.draw=function(t,e,n,i,r,s){this.getPath(e,n,i,r,s).draw(t)};fn.prototype.drawPoints=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,c){o.drawPoints(t,a,l,c)})};fn.prototype.drawMetrics=function(t,e,n,i,r,s){this.forEachGlyph(e,n,i,r,s,function(o,a,l,c){o.drawMetrics(t,a,l,c)})};fn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};fn.prototype.validate=function(){var t=this;function e(i,r){}function n(i){var r=t.getEnglishName(i);r&&r.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};fn.prototype.toTables=function(){return sq.fontToTable(this)};fn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};fn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e[r];return n};fn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var i=this.toArrayBuffer();if(aq())if(window.URL=window.URL||window.webkitURL,window.URL){var r=new DataView(i),s=new Blob([r],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=lq(i);l.writeFileSync(t,c)}};fn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};fn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};fn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ta=new Array(10);Ta[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(fe.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(fe.coverage),values:this.parseValueRecordList()};yt.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Ta[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();yt.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(fe.coverage),r=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,pairSets:this.parseList(fe.pointer(fe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(fe.classDef),a=this.parsePointer(fe.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:i,valueFormat1:r,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,fe.list(c,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}}))}}};Ta[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Ta[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Ta[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Ta[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Ta[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Ta[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Ta[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var x$=Object.defineProperty,C$=(t,e,n)=>e in t?x$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,we=(t,e,n)=>(C$(t,typeof e!="symbol"?e+"":e,n),n);function RI(t,e){if(e===dR)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Tg||e===vx){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===Tg)for(let o=1;o<=i;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new Re;const SD=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:SD.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof gt&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,i=DracoEncoderModule(),r=new i.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof $t&&t.isMesh){s=new i.MeshBuilder,o=new i.Mesh;const p=n.getAttribute("position");s.AddFloatAttributeToMesh(o,i.POSITION,p.count,p.itemSize,p.array);const A=n.getIndex();if(A!==null)s.AddFacesToMesh(o,A.count/3,A.array);else{const m=new(p.count>65535?Uint32Array:Uint16Array)(p.count);for(let g=0;g<m.length;g++)m[g]=g;s.AddFacesToMesh(o,p.count,m)}if(e.exportNormals){const m=n.getAttribute("normal");m!==void 0&&s.AddFloatAttributeToMesh(o,i.NORMAL,m.count,m.itemSize,m.array)}if(e.exportUvs){const m=n.getAttribute("uv");m!==void 0&&s.AddFloatAttributeToMesh(o,i.TEX_COORD,m.count,m.itemSize,m.array)}if(e.exportColor){const m=n.getAttribute("color");m!==void 0&&s.AddFloatAttributeToMesh(o,i.COLOR,m.count,m.itemSize,m.array)}}else if(t instanceof Q2&&t.isPoints){s=new i.PointCloudBuilder,o=new i.PointCloud;const p=n.getAttribute("position");if(s.AddFloatAttribute(o,i.POSITION,p.count,p.itemSize,p.array),e.exportColor){const A=n.getAttribute("color");A!==void 0&&s.AddFloatAttribute(o,i.COLOR,A.count,A.itemSize,A.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new i.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(r.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&r.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let p=0;p<5;p++)e.quantization[p]!==void 0&&r.SetAttributeQuantization(p,e.quantization[p]);let u;if(t instanceof $t&&t.isMesh?u=r.EncodeMeshToDracoBuffer(o,a):u=r.EncodePointCloudToDracoBuffer(o,!0,a),i.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const d=new Int8Array(new ArrayBuffer(u));for(let p=0;p<u;p++)d[p]=a.GetValue(p);return i.destroy(a),i.destroy(r),i.destroy(s),d}};let Fo=SD;we(Fo,"MESH_EDGEBREAKER_ENCODING",1);we(Fo,"MESH_SEQUENTIAL_ENCODING",0);we(Fo,"POINT_CLOUD",0);we(Fo,"TRIANGULAR_MESH",1);we(Fo,"INVALID",-1);we(Fo,"POSITION",0);we(Fo,"NORMAL",1);we(Fo,"COLOR",2);we(Fo,"TEX_COORD",3);we(Fo,"GENERIC",4);const wD=class extends $t{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new on;const n=this,i=e.color!==void 0?new Re(e.color):new Re(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||wD.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new ls,u=new D,d=new D,p=new D,A=new Ke,m=new D(0,0,-1),g=new Gt,v=new D,C=new D,y=new Gt,x=new Ke,S=this.camera,I=new an(r,s,{samples:l,type:Wn}),T=new Jt({uniforms:In.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});T.uniforms.tDiffuse.value=I.texture,T.uniforms.color.value=i,T.uniforms.textureMatrix.value=x,this.material=T,this.onBeforeRender=function(B,_,R){if(d.setFromMatrixPosition(n.matrixWorld),p.setFromMatrixPosition(R.matrixWorld),A.extractRotation(n.matrixWorld),u.set(0,0,1),u.applyMatrix4(A),v.subVectors(d,p),v.dot(u)>0)return;v.reflect(u).negate(),v.add(d),A.extractRotation(R.matrixWorld),m.set(0,0,-1),m.applyMatrix4(A),m.add(p),C.subVectors(d,m),C.reflect(u).negate(),C.add(d),S.position.copy(v),S.up.set(0,1,0),S.up.applyMatrix4(A),S.up.reflect(u),S.lookAt(C),S.far=R.far,S.updateMatrixWorld(),S.projectionMatrix.copy(R.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(S.projectionMatrix),x.multiply(S.matrixWorldInverse),x.multiply(n.matrixWorld),c.setFromNormalAndCoplanarPoint(u,d),c.applyMatrix4(S.matrixWorldInverse),g.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const P=S.projectionMatrix;y.x=(Math.sign(g.x)+P.elements[8])/P.elements[0],y.y=(Math.sign(g.y)+P.elements[9])/P.elements[5],y.z=-1,y.w=(1+P.elements[10])/P.elements[14],g.multiplyScalar(2/g.dot(y)),P.elements[2]=g.x,P.elements[6]=g.y,P.elements[10]=g.z+1-o,P.elements[14]=g.w,n.visible=!1;const L=B.getRenderTarget(),H=B.xr.enabled,N=B.shadowMap.autoUpdate,U=B.toneMapping;let J=!1;"outputColorSpace"in B?J=B.outputColorSpace==="srgb":J=B.outputEncoding===3001,B.xr.enabled=!1,B.shadowMap.autoUpdate=!1,"outputColorSpace"in B?B.outputColorSpace="linear-srgb":B.outputEncoding=3e3,B.toneMapping=br,B.setRenderTarget(I),B.state.buffers.depth.setMask(!0),B.autoClear===!1&&B.clear(),B.render(_,S),B.xr.enabled=H,B.shadowMap.autoUpdate=N,B.toneMapping=U,"outputColorSpace"in B?B.outputColorSpace=J?"srgb":"srgb-linear":B.outputEncoding=J?3001:3e3,B.setRenderTarget(L);const Y=R.viewport;Y!==void 0&&B.state.viewport(Y),n.visible=!0},this.getRenderTarget=function(){return I},this.dispose=function(){I.dispose(),n.material.dispose()}}};let B8=wD;we(B8,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ys.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const ID=class extends $t{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new on;const n=this,i=e.color!==void 0?new Re(e.color):new Re(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||ID.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new ls,d=new Ke,p=new an(r,s,{samples:l,type:Wn});this.material=new Jt({uniforms:In.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=i,this.material.uniforms.tDiffuse.value=p.texture,this.material.uniforms.textureMatrix.value=d;const A=function(){const y=new D,x=new D,S=new Ke,I=new D,T=new D;return function(_){return y.setFromMatrixPosition(n.matrixWorld),x.setFromMatrixPosition(_.matrixWorld),I.subVectors(y,x),S.extractRotation(n.matrixWorld),T.set(0,0,1),T.applyMatrix4(S),I.dot(T)<0}}(),m=function(){const y=new D,x=new D,S=new si,I=new D;return function(){n.matrixWorld.decompose(x,S,I),y.set(0,0,1).applyQuaternion(S).normalize(),y.negate(),u.setFromNormalAndCoplanarPoint(y,x)}}(),g=function(){const y=new ls,x=new Gt,S=new Gt;return function(T){c.matrixWorld.copy(T.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(T.projectionMatrix),c.far=T.far,y.copy(u),y.applyMatrix4(c.matrixWorldInverse),x.set(y.normal.x,y.normal.y,y.normal.z,y.constant);const B=c.projectionMatrix;S.x=(Math.sign(x.x)+B.elements[8])/B.elements[0],S.y=(Math.sign(x.y)+B.elements[9])/B.elements[5],S.z=-1,S.w=(1+B.elements[10])/B.elements[14],x.multiplyScalar(2/x.dot(S)),B.elements[2]=x.x,B.elements[6]=x.y,B.elements[10]=x.z+1-o,B.elements[14]=x.w}}();function v(y){d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(y.projectionMatrix),d.multiply(y.matrixWorldInverse),d.multiply(n.matrixWorld)}function C(y,x,S){n.visible=!1;const I=y.getRenderTarget(),T=y.xr.enabled,B=y.shadowMap.autoUpdate,_=y.toneMapping;let R=!1;"outputColorSpace"in y?R=y.outputColorSpace==="srgb":R=y.outputEncoding===3001,y.xr.enabled=!1,y.shadowMap.autoUpdate=!1,"outputColorSpace"in y?y.outputColorSpace="linear-srgb":y.outputEncoding=3e3,y.toneMapping=br,y.setRenderTarget(p),y.autoClear===!1&&y.clear(),y.render(x,c),y.xr.enabled=T,y.shadowMap.autoUpdate=B,y.toneMapping=_,y.setRenderTarget(I),"outputColorSpace"in y?y.outputColorSpace=R?"srgb":"srgb-linear":y.outputEncoding=R?3001:3e3;const P=S.viewport;P!==void 0&&y.state.viewport(P),n.visible=!0}this.onBeforeRender=function(y,x,S){S.userData.refractor!==!0&&A(S)&&(m(),v(S),g(S),C(y,x,S))},this.getRenderTarget=function(){return p},this.dispose=function(){p.dispose(),n.material.dispose()}}};let b8=ID;we(b8,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ys.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const E$=new gt,R8=class extends $t{constructor(){super(R8.Geometry,new Si({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new D,e=new D,n=new Io(new Uint8Array(16*16*3),16,16,Nn);n.minFilter=mt,n.magFilter=mt,n.wrapS=wn,n.wrapT=wn;const i=new Io(new Uint8Array(16*16*3),16,16,Nn);i.minFilter=mt,i.magFilter=mt,i.wrapS=wn,i.wrapT=wn;const r=R8.Geometry,s=new ep({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new ep({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new $t(r,s),l=[],c=_D.Shader,u=new ep({uniforms:{map:{value:null},occlusionMap:{value:i},color:{value:new Re(16777215)},scale:{value:new le},screenPosition:{value:new D}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Bp,transparent:!0,depthWrite:!1}),d=new $t(r,u);this.addElement=function(v){l.push(v)};const p=new le,A=new le,m=new lP,g=new Gt;this.onBeforeRender=function(v,C,y){v.getCurrentViewport(g);const x=g.w/g.z,S=g.z/2,I=g.w/2;let T=16/g.w;if(p.set(T*x,T),m.min.set(g.x,g.y),m.max.set(g.x+(g.z-16),g.y+(g.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(y.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(y.projectionMatrix),A.x=g.x+t.x*S+S-8,A.y=g.y+t.y*I+I-8,m.containsPoint(A))){v.copyFramebufferToTexture(A,n);let B=s.uniforms;B.scale.value=p,B.screenPosition.value=t,v.renderBufferDirect(y,null,r,s,a,null),v.copyFramebufferToTexture(A,i),B=o.uniforms,B.scale.value=p,B.screenPosition.value=t,v.renderBufferDirect(y,null,r,o,a,null);const _=-t.x*2,R=-t.y*2;for(let P=0,L=l.length;P<L;P++){const H=l[P],N=u.uniforms;N.color.value.copy(H.color),N.map.value=H.texture,N.screenPosition.value.x=t.x+_*H.distance,N.screenPosition.value.y=t.y+R*H.distance,T=H.size/g.w;const U=g.w/g.z;N.scale.value.set(T*U,T),u.uniformsNeedUpdate=!0,v.renderBufferDirect(y,null,r,u,d,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),n.dispose(),i.dispose();for(let v=0,C=l.length;v<C;v++)l[v].texture.dispose()}}};let S$=R8;we(S$,"Geometry",E$);class _D{constructor(e,n=1,i=0,r=new Re(16777215)){this.texture=e,this.size=n,this.distance=i,this.color=r}}we(_D,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class np{constructor(e=Math){we(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),we(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),we(this,"p",[]),we(this,"perm",[]),we(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),we(this,"dot",(n,i,r)=>n[0]*i+n[1]*r),we(this,"dot3",(n,i,r,s)=>n[0]*i+n[1]*r+n[2]*s),we(this,"dot4",(n,i,r,s,o)=>n[0]*i+n[1]*r+n[2]*s+n[3]*o),we(this,"noise",(n,i)=>{let r,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+i)*a,c=Math.floor(n+l),u=Math.floor(i+l),d=(3-Math.sqrt(3))/6,p=(c+u)*d,A=c-p,m=u-p,g=n-A,v=i-m;let C=0,y=1;g>v&&(C=1,y=0);const x=g-C+d,S=v-y+d,I=g-1+2*d,T=v-1+2*d,B=c&255,_=u&255,R=this.perm[B+this.perm[_]]%12,P=this.perm[B+C+this.perm[_+y]]%12,L=this.perm[B+1+this.perm[_+1]]%12;let H=.5-g*g-v*v;H<0?r=0:(H*=H,r=H*H*this.dot(this.grad3[R],g,v));let N=.5-x*x-S*S;N<0?s=0:(N*=N,s=N*N*this.dot(this.grad3[P],x,S));let U=.5-I*I-T*T;return U<0?o=0:(U*=U,o=U*U*this.dot(this.grad3[L],I,T)),70*(r+s+o)}),we(this,"noise3d",(n,i,r)=>{let s,o,a,l;const c=.3333333333333333,u=(n+i+r)*c,d=Math.floor(n+u),p=Math.floor(i+u),A=Math.floor(r+u),m=1/6,g=(d+p+A)*m,v=d-g,C=p-g,y=A-g,x=n-v,S=i-C,I=r-y;let T,B,_,R,P,L;x>=S?S>=I?(T=1,B=0,_=0,R=1,P=1,L=0):x>=I?(T=1,B=0,_=0,R=1,P=0,L=1):(T=0,B=0,_=1,R=1,P=0,L=1):S<I?(T=0,B=0,_=1,R=0,P=1,L=1):x<I?(T=0,B=1,_=0,R=0,P=1,L=1):(T=0,B=1,_=0,R=1,P=1,L=0);const H=x-T+m,N=S-B+m,U=I-_+m,J=x-R+2*m,Y=S-P+2*m,ee=I-L+2*m,k=x-1+3*m,j=S-1+3*m,W=I-1+3*m,$=d&255,z=p&255,ne=A&255,pe=this.perm[$+this.perm[z+this.perm[ne]]]%12,ye=this.perm[$+T+this.perm[z+B+this.perm[ne+_]]]%12,q=this.perm[$+R+this.perm[z+P+this.perm[ne+L]]]%12,Te=this.perm[$+1+this.perm[z+1+this.perm[ne+1]]]%12;let Pe=.6-x*x-S*S-I*I;Pe<0?s=0:(Pe*=Pe,s=Pe*Pe*this.dot3(this.grad3[pe],x,S,I));let Le=.6-H*H-N*N-U*U;Le<0?o=0:(Le*=Le,o=Le*Le*this.dot3(this.grad3[ye],H,N,U));let Ee=.6-J*J-Y*Y-ee*ee;Ee<0?a=0:(Ee*=Ee,a=Ee*Ee*this.dot3(this.grad3[q],J,Y,ee));let Be=.6-k*k-j*j-W*W;return Be<0?l=0:(Be*=Be,l=Be*Be*this.dot3(this.grad3[Te],k,j,W)),32*(s+o+a+l)}),we(this,"noise4d",(n,i,r,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let d,p,A,m,g;const v=(n+i+r+s)*c,C=Math.floor(n+v),y=Math.floor(i+v),x=Math.floor(r+v),S=Math.floor(s+v),I=(C+y+x+S)*u,T=C-I,B=y-I,_=x-I,R=S-I,P=n-T,L=i-B,H=r-_,N=s-R,U=P>L?32:0,J=P>H?16:0,Y=L>H?8:0,ee=P>N?4:0,k=L>N?2:0,j=H>N?1:0,W=U+J+Y+ee+k+j;let $,z,ne,pe,ye,q,Te,Pe,Le,Ee,Be,ce;$=a[W][0]>=3?1:0,z=a[W][1]>=3?1:0,ne=a[W][2]>=3?1:0,pe=a[W][3]>=3?1:0,ye=a[W][0]>=2?1:0,q=a[W][1]>=2?1:0,Te=a[W][2]>=2?1:0,Pe=a[W][3]>=2?1:0,Le=a[W][0]>=1?1:0,Ee=a[W][1]>=1?1:0,Be=a[W][2]>=1?1:0,ce=a[W][3]>=1?1:0;const oe=P-$+u,_e=L-z+u,Ve=H-ne+u,Oe=N-pe+u,tt=P-ye+2*u,et=L-q+2*u,Je=H-Te+2*u,St=N-Pe+2*u,Bt=P-Le+3*u,Q=L-Ee+3*u,F=H-Be+3*u,ae=N-ce+3*u,Ie=P-1+4*u,De=L-1+4*u,ke=H-1+4*u,ot=N-1+4*u,Ge=C&255,ge=y&255,qe=x&255,K=S&255,he=l[Ge+l[ge+l[qe+l[K]]]]%32,Me=l[Ge+$+l[ge+z+l[qe+ne+l[K+pe]]]]%32,Ne=l[Ge+ye+l[ge+q+l[qe+Te+l[K+Pe]]]]%32,at=l[Ge+Le+l[ge+Ee+l[qe+Be+l[K+ce]]]]%32,Pt=l[Ge+1+l[ge+1+l[qe+1+l[K+1]]]]%32;let Nt=.6-P*P-L*L-H*H-N*N;Nt<0?d=0:(Nt*=Nt,d=Nt*Nt*this.dot4(o[he],P,L,H,N));let X=.6-oe*oe-_e*_e-Ve*Ve-Oe*Oe;X<0?p=0:(X*=X,p=X*X*this.dot4(o[Me],oe,_e,Ve,Oe));let de=.6-tt*tt-et*et-Je*Je-St*St;de<0?A=0:(de*=de,A=de*de*this.dot4(o[Ne],tt,et,Je,St));let Se=.6-Bt*Bt-Q*Q-F*F-ae*ae;Se<0?m=0:(Se*=Se,m=Se*Se*this.dot4(o[at],Bt,Q,F,ae));let Ue=.6-Ie*Ie-De*De-ke*ke-ot*ot;return Ue<0?g=0:(Ue*=Ue,g=Ue*Ue*this.dot4(o[Pt],Ie,De,ke,ot)),27*(d+p+A+m+g)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const Wi=class extends gt{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(Wi.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let i=0;i<2053;i++)e.push(Math.random());const n={currentSeed:0,random:function(){const i=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,i},getSeed:function(){return n.currentSeed/2053},setSeed:function(i){n.currentSeed=Math.floor(i*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(i){return e===t?i:i.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new D(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new D(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new D(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new D(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=Wi.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=Wi.RAY_VANISHING:this.state=Wi.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=Wi.RAY_UNBORN:this.state=Wi.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=Wi.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=Wi.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new np(this.seedGenerator),this.simplexY=new np(this.seedGenerator),this.simplexZ=new np(this.seedGenerator),this.forwards=new D,this.forwardsFill=new D,this.side=new D,this.down=new D,this.middlePos=new D,this.middleLinPos=new D,this.newPos=new D,this.vPos=new D,this.cross1=new D}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new L2(this.indices,1)),this.positionAttribute=new Ye(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new Ye(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=wo,this.positionAttribute.usage=wo,this.generateUVs&&(this.uvsAttribute.usage=wo)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(i){const r=e.currentSubray;t<r.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.endPropagationTime?e.timeFraction>=i.fraction0*r.propagationTimeFactor&&(e.createPrism(i),e.onDecideSubrayCreation(i,e)):t<r.beginVanishingTime?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):(e.timeFraction<=r.vanishingTimeFactor+i.fraction1*(1-r.vanishingTimeFactor)&&e.createPrism(i),e.onDecideSubrayCreation(i,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this.currentSubray=i,this.randomGenerator.setSeed(i.seed),i.endPropagationTime=jc.lerp(i.birthTime,i.deathTime,i.propagationTimeFactor),i.beginVanishingTime=jc.lerp(i.deathTime,i.birthTime,1-i.vanishingTimeFactor);const r=this.randomGenerator.random;i.linPos0.set(r(),r(),r()).multiplyScalar(1e3),i.linPos1.set(r(),r(),r()).multiplyScalar(1e3),this.timeFraction=(t-i.birthTime)/(i.deathTime-i.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(i.pos0),s.pos1.copy(i.pos1),s.linPos0.copy(i.linPos0),s.linPos1.copy(i.linPos1),s.up0.copy(i.up0),s.up1.copy(i.up1),s.radius0=i.radius0,s.radius1=i.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-i.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,i.recursion)/(1<<i.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,i=(t.fraction0+t.fraction1)*.5,r=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,r),this.simplexY.noise4d(s.x,s.y,s.z,r),this.simplexZ.noise4d(s.x,s.y,s.z,r)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=i,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=i,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,i){this.side.crossVectors(e,n).multiplyScalar(i*Wi.COS30DEG),this.down.copy(e).multiplyScalar(-i*Wi.SIN30DEG);const r=this.vPos,s=this.vertices;r.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(e).multiplyScalar(i).add(t),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,i,r){this.side.crossVectors(e,n).multiplyScalar(i*Wi.COS30DEG),this.down.copy(e).multiplyScalar(-i*Wi.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(i).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-t()*l:jc.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,d=o.time-u,p=Math.floor(d/l),A=t()*(p+1),m=d%l<=c*l;let g=0;if(m&&(g=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<g){const v=o.addNewSubray(),C=o.randomGenerator.getSeed();v.seed=A,o.randomGenerator.setSeed(A),v.recursion=a.recursion+1,v.maxIterations=Math.max(1,a.maxIterations-1),v.linPos0.set(t(),t(),t()).multiplyScalar(1e3),v.linPos1.set(t(),t(),t()).multiplyScalar(1e3),v.up0.copy(a.up0),v.up1.copy(a.up1),v.radius0=s.radius0*o.rayParameters.radius0Factor,v.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),v.birthTime=u+p*l,v.deathTime=v.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(v.birthTime=Math.max(v.birthTime,a.birthTime),v.deathTime=Math.min(v.deathTime,a.deathTime)),v.timeScale=a.timeScale*2,v.roughness=a.roughness,v.straightness=a.straightness,v.propagationTimeFactor=a.propagationTimeFactor,v.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,v,o),o.randomGenerator.setSeed(C)}};const e=new D,n=new D,i=new D,r=new D;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const d=e.length();i.crossVectors(o.up0,n);const p=2*Math.PI*t();i.multiplyScalar(Math.cos(p)),r.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(i).add(r).multiplyScalar(d*c*(u+t()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const d=e.length();i.crossVectors(o.up0,n);const p=2*Math.PI*t();i.multiplyScalar(Math.cos(p)),r.copy(o.up0).multiplyScalar(Math.sin(p)),a.pos1.copy(i).add(r).multiplyScalar(d*c*(u+t()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new D,pos1:new D,linPos0:new D,linPos1:new D,up0:new D,up1:new D,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new D,pos1:new D,linPos0:new D,linPos1:new D,up0:new D,up1:new D,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(Wi.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(Wi.copyParameters({},this.rayParameters))}};let Jl=Wi;we(Jl,"RAY_INITIALIZED",0);we(Jl,"RAY_UNBORN",1);we(Jl,"RAY_PROPAGATING",2);we(Jl,"RAY_STEADY",3);we(Jl,"RAY_VANISHING",4);we(Jl,"RAY_EXTINGUISHED",5);we(Jl,"COS30DEG",Math.cos(30*Math.PI/180));we(Jl,"SIN30DEG",Math.sin(30*Math.PI/180));const Sc=class extends $t{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,i=e.color!==void 0?new Re(e.color):new Re(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||Sc.ReflectorShader,l=e.useDepthTexture===!0,c=new D(0,1,0),u=new D,d=new D;n.needsUpdate=!1,n.maxDistance=Sc.ReflectorShader.uniforms.maxDistance.value,n.opacity=Sc.ReflectorShader.uniforms.opacity.value,n.color=i,n.resolution=e.resolution||new le(window.innerWidth,window.innerHeight),n._distanceAttenuation=Sc.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(L){n._distanceAttenuation!==L&&(n._distanceAttenuation=L,n.material.defines.DISTANCE_ATTENUATION=L,n.material.needsUpdate=!0)}}),n._fresnel=Sc.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(L){n._fresnel!==L&&(n._fresnel=L,n.material.defines.FRESNEL=L,n.material.needsUpdate=!0)}});const p=new D,A=new D,m=new D,g=new Ke,v=new D(0,0,-1),C=new D,y=new D,x=new Ke,S=new on;let I;l&&(I=new yf,I.type=gf,I.minFilter=mt,I.magFilter=mt);const T={depthTexture:l?I:null,type:Wn},B=new an(r,s,T),_=new Jt({transparent:l,defines:Object.assign({},Sc.ReflectorShader.defines,{useDepthTexture:l}),uniforms:In.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});_.uniforms.tDiffuse.value=B.texture,_.uniforms.color.value=n.color,_.uniforms.textureMatrix.value=x,l&&(_.uniforms.tDepth.value=B.depthTexture),this.material=_;const P=[new ls(new D(0,1,0),o)];this.doRender=function(L,H,N){if(_.uniforms.maxDistance.value=n.maxDistance,_.uniforms.color.value=n.color,_.uniforms.opacity.value=n.opacity,u.copy(N.position).normalize(),d.copy(u).reflect(c),_.uniforms.fresnelCoe.value=(u.dot(d)+1)/2,A.setFromMatrixPosition(n.matrixWorld),m.setFromMatrixPosition(N.matrixWorld),g.extractRotation(n.matrixWorld),p.set(0,0,1),p.applyMatrix4(g),C.subVectors(A,m),C.dot(p)>0)return;C.reflect(p).negate(),C.add(A),g.extractRotation(N.matrixWorld),v.set(0,0,-1),v.applyMatrix4(g),v.add(m),y.subVectors(A,v),y.reflect(p).negate(),y.add(A),S.position.copy(C),S.up.set(0,1,0),S.up.applyMatrix4(g),S.up.reflect(p),S.lookAt(y),S.far=N.far,S.updateMatrixWorld(),S.projectionMatrix.copy(N.projectionMatrix),_.uniforms.virtualCameraNear.value=N.near,_.uniforms.virtualCameraFar.value=N.far,_.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,_.uniforms.virtualCameraProjectionMatrix.value=N.projectionMatrix,_.uniforms.virtualCameraProjectionMatrixInverse.value=N.projectionMatrixInverse,_.uniforms.resolution.value=n.resolution,x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(S.projectionMatrix),x.multiply(S.matrixWorldInverse),x.multiply(n.matrixWorld);const U=L.getRenderTarget(),J=L.xr.enabled,Y=L.shadowMap.autoUpdate,ee=L.clippingPlanes;L.xr.enabled=!1,L.shadowMap.autoUpdate=!1,L.clippingPlanes=P,L.setRenderTarget(B),L.state.buffers.depth.setMask(!0),L.autoClear===!1&&L.clear(),L.render(H,S),L.xr.enabled=J,L.shadowMap.autoUpdate=Y,L.clippingPlanes=ee,L.setRenderTarget(U);const k=N.viewport;k!==void 0&&L.state.viewport(k)},this.getRenderTarget=function(){return B}}};let w$=Sc;we(w$,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new Ke},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new Ke},virtualCameraMatrixWorld:{value:new Ke},virtualCameraProjectionMatrixInverse:{value:new Ke},resolution:{value:new le}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const jm={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new D},up:{value:new D(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Ys.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},MD=new Jt({name:"SkyShader",fragmentShader:jm.fragmentShader,vertexShader:jm.vertexShader,uniforms:In.clone(jm.uniforms),side:qi,depthWrite:!1});class TD extends $t{constructor(){super(new _a(1,1,1),MD)}}we(TD,"SkyShader",jm);we(TD,"material",MD);const BD=class extends $t{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,i=e.color!==void 0?new Re(e.color):new Re(16777215),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new le(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,d=e.shader||BD.WaterShader,p=e.encoding!==void 0?e.encoding:3e3,A=e.flowMap||void 0,m=e.normalMap0,g=e.normalMap1,v=.15,C=v*.5,y=new Ke,x=new j2;if(B8===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(b8===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const S=new B8(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:p}),I=new b8(t,{textureWidth:r,textureHeight:s,clipBias:o,encoding:p});S.matrixAutoUpdate=!1,I.matrixAutoUpdate=!1,this.material=new Jt({uniforms:In.merge([Qe.fog,d.uniforms]),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,transparent:!0,fog:!0}),A!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:A}):this.material.uniforms.flowDirection={type:"v2",value:a},m.wrapS=m.wrapT=vs,g.wrapS=g.wrapT=vs,this.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=I.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=m,this.material.uniforms.tNormalMap1.value=g,this.material.uniforms.color.value=i,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=y,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=C,this.material.uniforms.config.value.z=C,this.material.uniforms.config.value.w=u;function T(_){y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(_.projectionMatrix),y.multiply(_.matrixWorldInverse),y.multiply(n.matrixWorld)}function B(){const _=x.getDelta(),R=n.material.uniforms.config;R.value.x+=l*_,R.value.y=R.value.x+C,R.value.x>=v?(R.value.x=0,R.value.y=C):R.value.y>=v&&(R.value.y=R.value.y-v)}this.onBeforeRender=function(_,R,P){T(P),B(),n.visible=!1,S.matrixWorld.copy(n.matrixWorld),I.matrixWorld.copy(n.matrixWorld),S.onBeforeRender(_,R,P),I.onBeforeRender(_,R,P),n.visible=!0}}};let I$=BD;we(I$,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Gt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Ys.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const a6={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},PI=(t,e)=>(t%e+e)%e;let _$=class extends Do{constructor(e,n){super(),we(this,"object"),we(this,"domElement"),we(this,"enabled",!0),we(this,"target",new D),we(this,"minDistance",0),we(this,"maxDistance",1/0),we(this,"minZoom",0),we(this,"maxZoom",1/0),we(this,"minPolarAngle",0),we(this,"maxPolarAngle",Math.PI),we(this,"minAzimuthAngle",-1/0),we(this,"maxAzimuthAngle",1/0),we(this,"enableDamping",!1),we(this,"dampingFactor",.05),we(this,"enableZoom",!0),we(this,"zoomSpeed",1),we(this,"enableRotate",!0),we(this,"rotateSpeed",1),we(this,"enablePan",!0),we(this,"panSpeed",1),we(this,"screenSpacePanning",!0),we(this,"keyPanSpeed",7),we(this,"autoRotate",!1),we(this,"autoRotateSpeed",2),we(this,"reverseOrbit",!1),we(this,"reverseHorizontalOrbit",!1),we(this,"reverseVerticalOrbit",!1),we(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),we(this,"mouseButtons",{LEFT:xc.ROTATE,MIDDLE:xc.DOLLY,RIGHT:xc.PAN}),we(this,"touches",{ONE:Cc.ROTATE,TWO:Cc.DOLLY_PAN}),we(this,"target0"),we(this,"position0"),we(this,"zoom0"),we(this,"_domElementKeyEvents",null),we(this,"getPolarAngle"),we(this,"getAzimuthalAngle"),we(this,"setPolarAngle"),we(this,"setAzimuthalAngle"),we(this,"getDistance"),we(this,"listenToKeyEvents"),we(this,"stopListenToKeyEvents"),we(this,"saveState"),we(this,"reset"),we(this,"update"),we(this,"connect"),we(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=K=>{let he=PI(K,2*Math.PI),Me=u.phi;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let Ne=Math.abs(he-Me);2*Math.PI-Ne<Ne&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),d.phi=he-Me,i.update()},this.setAzimuthalAngle=K=>{let he=PI(K,2*Math.PI),Me=u.theta;Me<0&&(Me+=2*Math.PI),he<0&&(he+=2*Math.PI);let Ne=Math.abs(he-Me);2*Math.PI-Ne<Ne&&(he<Me?he+=2*Math.PI:Me+=2*Math.PI),d.theta=he-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",ae),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ae),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const K=new D,he=new D(0,1,0),Me=new si().setFromUnitVectors(e.up,he),Ne=Me.clone().invert(),at=new D,Pt=new si,Nt=2*Math.PI;return function(){const de=i.object.position;Me.setFromUnitVectors(e.up,he),Ne.copy(Me).invert(),K.copy(de).sub(i.target),K.applyQuaternion(Me),u.setFromVector3(K),i.autoRotate&&l===a.NONE&&H(P()),i.enableDamping?(u.theta+=d.theta*i.dampingFactor,u.phi+=d.phi*i.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Se=i.minAzimuthAngle,Ue=i.maxAzimuthAngle;return isFinite(Se)&&isFinite(Ue)&&(Se<-Math.PI?Se+=Nt:Se>Math.PI&&(Se-=Nt),Ue<-Math.PI?Ue+=Nt:Ue>Math.PI&&(Ue-=Nt),Se<=Ue?u.theta=Math.max(Se,Math.min(Ue,u.theta)):u.theta=u.theta>(Se+Ue)/2?Math.max(Se,u.theta):Math.min(Ue,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(i.minDistance,Math.min(i.maxDistance,u.radius)),i.enableDamping===!0?i.target.addScaledVector(A,i.dampingFactor):i.target.add(A),K.setFromSpherical(u),K.applyQuaternion(Ne),de.copy(i.target).add(K),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,A.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),A.set(0,0,0)),p=1,m||at.distanceToSquared(i.object.position)>c||8*(1-Pt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),at.copy(i.object.position),Pt.copy(i.object.quaternion),m=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=K,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ke),i.domElement.addEventListener("pointerdown",tt),i.domElement.addEventListener("pointercancel",St),i.domElement.addEventListener("wheel",F)},this.dispose=()=>{var K,he,Me,Ne,at,Pt;(K=i.domElement)==null||K.removeEventListener("contextmenu",ke),(he=i.domElement)==null||he.removeEventListener("pointerdown",tt),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",St),(Ne=i.domElement)==null||Ne.removeEventListener("wheel",F),(at=i.domElement)==null||at.ownerDocument.removeEventListener("pointermove",et),(Pt=i.domElement)==null||Pt.ownerDocument.removeEventListener("pointerup",Je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ae)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new p8,d=new p8;let p=1;const A=new D;let m=!1;const g=new le,v=new le,C=new le,y=new le,x=new le,S=new le,I=new le,T=new le,B=new le,_=[],R={};function P(){return 2*Math.PI/60/60*i.autoRotateSpeed}function L(){return Math.pow(.95,i.zoomSpeed)}function H(K){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=K:d.theta-=K}function N(K){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=K:d.phi-=K}const U=(()=>{const K=new D;return function(Me,Ne){K.setFromMatrixColumn(Ne,0),K.multiplyScalar(-Me),A.add(K)}})(),J=(()=>{const K=new D;return function(Me,Ne){i.screenSpacePanning===!0?K.setFromMatrixColumn(Ne,1):(K.setFromMatrixColumn(Ne,0),K.crossVectors(i.object.up,K)),K.multiplyScalar(Me),A.add(K)}})(),Y=(()=>{const K=new D;return function(Me,Ne){const at=i.domElement;if(at&&i.object instanceof on&&i.object.isPerspectiveCamera){const Pt=i.object.position;K.copy(Pt).sub(i.target);let Nt=K.length();Nt*=Math.tan(i.object.fov/2*Math.PI/180),U(2*Me*Nt/at.clientHeight,i.object.matrix),J(2*Ne*Nt/at.clientHeight,i.object.matrix)}else at&&i.object instanceof fs&&i.object.isOrthographicCamera?(U(Me*(i.object.right-i.object.left)/i.object.zoom/at.clientWidth,i.object.matrix),J(Ne*(i.object.top-i.object.bottom)/i.object.zoom/at.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ee(K){i.object instanceof on&&i.object.isPerspectiveCamera?p/=K:i.object instanceof fs&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*K)),i.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function k(K){i.object instanceof on&&i.object.isPerspectiveCamera?p*=K:i.object instanceof fs&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/K)),i.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(K){g.set(K.clientX,K.clientY)}function W(K){I.set(K.clientX,K.clientY)}function $(K){y.set(K.clientX,K.clientY)}function z(K){v.set(K.clientX,K.clientY),C.subVectors(v,g).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(H(2*Math.PI*C.x/he.clientHeight),N(2*Math.PI*C.y/he.clientHeight)),g.copy(v),i.update()}function ne(K){T.set(K.clientX,K.clientY),B.subVectors(T,I),B.y>0?ee(L()):B.y<0&&k(L()),I.copy(T),i.update()}function pe(K){x.set(K.clientX,K.clientY),S.subVectors(x,y).multiplyScalar(i.panSpeed),Y(S.x,S.y),y.copy(x),i.update()}function ye(K){K.deltaY<0?k(L()):K.deltaY>0&&ee(L()),i.update()}function q(K){let he=!1;switch(K.code){case i.keys.UP:Y(0,i.keyPanSpeed),he=!0;break;case i.keys.BOTTOM:Y(0,-i.keyPanSpeed),he=!0;break;case i.keys.LEFT:Y(i.keyPanSpeed,0),he=!0;break;case i.keys.RIGHT:Y(-i.keyPanSpeed,0),he=!0;break}he&&(K.preventDefault(),i.update())}function Te(){if(_.length==1)g.set(_[0].pageX,_[0].pageY);else{const K=.5*(_[0].pageX+_[1].pageX),he=.5*(_[0].pageY+_[1].pageY);g.set(K,he)}}function Pe(){if(_.length==1)y.set(_[0].pageX,_[0].pageY);else{const K=.5*(_[0].pageX+_[1].pageX),he=.5*(_[0].pageY+_[1].pageY);y.set(K,he)}}function Le(){const K=_[0].pageX-_[1].pageX,he=_[0].pageY-_[1].pageY,Me=Math.sqrt(K*K+he*he);I.set(0,Me)}function Ee(){i.enableZoom&&Le(),i.enablePan&&Pe()}function Be(){i.enableZoom&&Le(),i.enableRotate&&Te()}function ce(K){if(_.length==1)v.set(K.pageX,K.pageY);else{const Me=qe(K),Ne=.5*(K.pageX+Me.x),at=.5*(K.pageY+Me.y);v.set(Ne,at)}C.subVectors(v,g).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(H(2*Math.PI*C.x/he.clientHeight),N(2*Math.PI*C.y/he.clientHeight)),g.copy(v)}function oe(K){if(_.length==1)x.set(K.pageX,K.pageY);else{const he=qe(K),Me=.5*(K.pageX+he.x),Ne=.5*(K.pageY+he.y);x.set(Me,Ne)}S.subVectors(x,y).multiplyScalar(i.panSpeed),Y(S.x,S.y),y.copy(x)}function _e(K){const he=qe(K),Me=K.pageX-he.x,Ne=K.pageY-he.y,at=Math.sqrt(Me*Me+Ne*Ne);T.set(0,at),B.set(0,Math.pow(T.y/I.y,i.zoomSpeed)),ee(B.y),I.copy(T)}function Ve(K){i.enableZoom&&_e(K),i.enablePan&&oe(K)}function Oe(K){i.enableZoom&&_e(K),i.enableRotate&&ce(K)}function tt(K){var he,Me;i.enabled!==!1&&(_.length===0&&((he=i.domElement)==null||he.ownerDocument.addEventListener("pointermove",et),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",Je)),ot(K),K.pointerType==="touch"?Ie(K):Bt(K))}function et(K){i.enabled!==!1&&(K.pointerType==="touch"?De(K):Q(K))}function Je(K){var he,Me,Ne;Ge(K),_.length===0&&((he=i.domElement)==null||he.releasePointerCapture(K.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",et),(Ne=i.domElement)==null||Ne.ownerDocument.removeEventListener("pointerup",Je)),i.dispatchEvent(o),l=a.NONE}function St(K){Ge(K)}function Bt(K){let he;switch(K.button){case 0:he=i.mouseButtons.LEFT;break;case 1:he=i.mouseButtons.MIDDLE;break;case 2:he=i.mouseButtons.RIGHT;break;default:he=-1}switch(he){case xc.DOLLY:if(i.enableZoom===!1)return;W(K),l=a.DOLLY;break;case xc.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enablePan===!1)return;$(K),l=a.PAN}else{if(i.enableRotate===!1)return;j(K),l=a.ROTATE}break;case xc.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enableRotate===!1)return;j(K),l=a.ROTATE}else{if(i.enablePan===!1)return;$(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Q(K){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;z(K);break;case a.DOLLY:if(i.enableZoom===!1)return;ne(K);break;case a.PAN:if(i.enablePan===!1)return;pe(K);break}}function F(K){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),i.dispatchEvent(s),ye(K),i.dispatchEvent(o))}function ae(K){i.enabled===!1||i.enablePan===!1||q(K)}function Ie(K){switch(ge(K),_.length){case 1:switch(i.touches.ONE){case Cc.ROTATE:if(i.enableRotate===!1)return;Te(),l=a.TOUCH_ROTATE;break;case Cc.PAN:if(i.enablePan===!1)return;Pe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Cc.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ee(),l=a.TOUCH_DOLLY_PAN;break;case Cc.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Be(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function De(K){switch(ge(K),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ce(K),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;oe(K),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ve(K),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Oe(K),i.update();break;default:l=a.NONE}}function ke(K){i.enabled!==!1&&K.preventDefault()}function ot(K){_.push(K)}function Ge(K){delete R[K.pointerId];for(let he=0;he<_.length;he++)if(_[he].pointerId==K.pointerId){_.splice(he,1);return}}function ge(K){let he=R[K.pointerId];he===void 0&&(he=new le,R[K.pointerId]=he),he.set(K.pageX,K.pageY)}function qe(K){const he=K.pointerId===_[0].pointerId?_[1]:_[0];return R[he.pointerId]}n!==void 0&&this.connect(n),this.update()}};class q2{constructor(){we(this,"enabled",!0),we(this,"needsSwap",!0),we(this,"clear",!1),we(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,i,r,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class Z2{constructor(e){we(this,"camera",new fs(-1,1,1,-1,0,1)),we(this,"geometry",new du(2,2)),we(this,"mesh"),this.mesh=new $t(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Bo={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},Cd={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new le},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},hm={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},fm={uniforms:{tDiffuse:{value:null},resolution:{value:new le}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},wc=class extends q2{constructor(t,e,n,i){super(),this.width=n!==void 0?n:512,this.height=i!==void 0?i:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const r=new yf;r.format=Ml,r.type=yl,this.beautyRenderTarget=new an(this.width,this.height),this.normalRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt,depthTexture:r}),this.ssaoRenderTarget=new an(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),Cd===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new Jt({defines:Object.assign({},Cd.defines),uniforms:In.clone(Cd.uniforms),vertexShader:Cd.vertexShader,fragmentShader:Cd.fragmentShader,blending:Dt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new F0,this.normalMaterial.blending=Dt,this.blurMaterial=new Jt({defines:Object.assign({},fm.defines),uniforms:In.clone(fm.uniforms),vertexShader:fm.vertexShader,fragmentShader:fm.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Jt({defines:Object.assign({},hm.defines),uniforms:In.clone(hm.uniforms),vertexShader:hm.vertexShader,fragmentShader:hm.fragmentShader,blending:Dt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Jt({uniforms:In.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:T2,blendDst:Kh,blendEquation:_r,blendSrcAlpha:M2,blendDstAlpha:Kh,blendEquationAlpha:_r}),this.fsQuad=new Z2(null),this.originalClearColor=new Re}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=mx),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case wc.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case wc.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case wc.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case wc.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case wc.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case wc.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=bp,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const i=new D;i.x=Math.random()*2-1,i.y=Math.random()*2-1,i.z=Math.random(),i.normalize();let r=n/t;r=jc.lerp(.1,1,r*r),i.multiplyScalar(r),e.push(i)}}generateRandomKernelRotations(){np===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new np,i=4*4,r=new Float32Array(i);for(let s=0;s<i;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;r[s]=n.noise3d(o,a,l)}this.noiseTexture=new Io(r,4,4,kc,ur),this.noiseTexture.wrapS=vs,this.noiseTexture.wrapT=vs,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const i=e.get(n);n.visible=i}),e.clear()}};let M$=wc;we(M$,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const T$={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Re(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},P8=class extends q2{constructor(t,e,n,i){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=i,this.resolution=t!==void 0?new le(t.x,t.y):new le(256,256),this.clearColor=new Re(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new an(r,s,{type:Wn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const d=new an(r,s,{type:Wn});d.texture.name="UnrealBloomPass.h"+u,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const p=new an(r,s,{type:Wn});p.texture.name="UnrealBloomPass.v"+u,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),r=Math.round(r/2),s=Math.round(s/2)}const o=T$;this.highPassUniforms=In.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Jt({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new le(r,s),r=Math.round(r/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new D(1,1,1),new D(1,1,1),new D(1,1,1),new D(1,1,1),new D(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=Bo;this.copyUniforms=In.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Jt({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Bp,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Re,this.oldClearAlpha=1,this.basic=new Si,this.fsQuad=new Z2(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),i=Math.round(e/2);this.renderTargetBright.setSize(n,i);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(n,i),this.renderTargetsVertical[r].setSize(n,i),this.separableBlurMaterials[r].uniforms.texSize.value=new le(n,i),n=Math.round(n/2),i=Math.round(i/2)}render(t,e,n,i,r){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),r&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=P8.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=P8.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new Jt({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new le(.5,.5)},direction:{value:new le(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new Jt({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let bD=P8;we(bD,"BlurDirectionX",new le(1,0));we(bD,"BlurDirectionY",new le(0,1));const dm={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new le(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Ka={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new le(512,512)},sampleUvOffsets:{value:[new le(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},Ug={createSampleWeights:(t,e)=>{const n=(r,s)=>Math.exp(-(r*r)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),i=[];for(let r=0;r<=t;r++)i.push(n(r,e));return i},createSampleOffsets:(t,e)=>{const n=[];for(let i=0;i<=t;i++)n.push(e.clone().multiplyScalar(i));return n},configure:(t,e,n,i)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=Ug.createSampleOffsets(e,i),t.uniforms.sampleWeights.value=Ug.createSampleWeights(e,n),t.needsUpdate=!0}};class B$ extends q2{constructor(e,n,i=!1,r=!1,s=new le(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=i,this.supportsNormalTexture=r,this.originalClearColor=new Re,this._oldClearColor=new Re,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new le(s.x,s.y),this.saoRenderTarget=new an(this.resolution.x,this.resolution.y,{type:Wn}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new an(this.resolution.x,this.resolution.y,{minFilter:mt,magFilter:mt,type:Wn}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new yf,o.type=gf,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new N2,this.depthMaterial.depthPacking=yx,this.depthMaterial.blending=Dt,this.normalMaterial=new F0,this.normalMaterial.blending=Dt,this.saoMaterial=new Jt({defines:Object.assign({},dm.defines),fragmentShader:dm.fragmentShader,vertexShader:dm.vertexShader,uniforms:In.clone(dm.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Dt,this.vBlurMaterial=new Jt({uniforms:In.clone(Ka.uniforms),defines:Object.assign({},Ka.defines),vertexShader:Ka.vertexShader,fragmentShader:Ka.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Dt,this.hBlurMaterial=new Jt({uniforms:In.clone(Ka.uniforms),defines:Object.assign({},Ka.defines),vertexShader:Ka.vertexShader,fragmentShader:Ka.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Dt,this.materialCopy=new Jt({uniforms:In.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,blending:Dt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=bp,this.materialCopy.blendSrc=T2,this.materialCopy.blendDst=Kh,this.materialCopy.blendEquation=_r,this.materialCopy.blendSrcAlpha=M2,this.materialCopy.blendDstAlpha=Kh,this.materialCopy.blendEquationAlpha=_r,this.depthCopy=new Jt({uniforms:In.clone(a6.uniforms),vertexShader:a6.vertexShader,fragmentShader:a6.fragmentShader,blending:Dt}),this.fsQuad=new Z2(null)}render(e,n,i){if(this.renderToScreen&&(this.materialCopy.blending=Dt,this.materialCopy.uniforms.tDiffuse.value=i.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(Ug.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new le(0,1)),Ug.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new le(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=bp:o.blending=Dt,this.renderPass(e,o,this.renderToScreen?null:i),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}renderPass(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r=n.clearColor||r,s=n.clearAlpha||s,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}we(B$,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const po={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new le},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},pm={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},Ya={uniforms:{tDiffuse:{value:null},resolution:{value:new le},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Ic=class extends q2{constructor({renderer:t,scene:e,camera:n,width:i,height:r,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=i!==void 0?i:512,this.height=r!==void 0?r:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=po.uniforms.opacity.value,this.output=0,this.maxDistance=po.uniforms.maxDistance.value,this.thickness=po.uniforms.thickness.value,this.tempColor=new Re,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=po.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=po.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=po.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new yf;l.type=gf,l.minFilter=mt,l.magFilter=mt,this.beautyRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt,type:Wn,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt}),this.normalRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt,type:Wn}),this.metalnessRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt,type:Wn}),this.ssrRenderTarget=new an(this.width,this.height,{minFilter:mt,magFilter:mt}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new Jt({defines:Object.assign({},po.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:In.clone(po.uniforms),vertexShader:po.vertexShader,fragmentShader:po.fragmentShader,blending:Dt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new F0,this.normalMaterial.blending=Dt,this.metalnessOnMaterial=new Si({color:"white"}),this.metalnessOffMaterial=new Si({color:"black"}),this.blurMaterial=new Jt({defines:Object.assign({},Ya.defines),uniforms:In.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new Jt({defines:Object.assign({},Ya.defines),uniforms:In.clone(Ya.uniforms),vertexShader:Ya.vertexShader,fragmentShader:Ya.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new Jt({defines:Object.assign({},pm.defines),uniforms:In.clone(pm.uniforms),vertexShader:pm.vertexShader,fragmentShader:pm.fragmentShader,blending:Dt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new Jt({uniforms:In.clone(Bo.uniforms),vertexShader:Bo.vertexShader,fragmentShader:Bo.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:Rp,blendDst:Pp,blendEquation:_r,blendSrcAlpha:Rp,blendDstAlpha:Pp,blendEquationAlpha:_r}),this.fsQuad=new Z2(null),this.originalClearColor=new Re}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Ic.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case Ic.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=So,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case Ic.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Ic.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Ic.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Ic.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Dt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,i,r){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(t.setClearColor(i),t.setClearAlpha(r||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let b$=Ic;we(b$,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class d9 extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new F$(n)}),this.register(function(n){return new z$(n)}),this.register(function(n){return new V$(n)}),this.register(function(n){return new W$(n)}),this.register(function(n){return new N$(n)}),this.register(function(n){return new O$(n)}),this.register(function(n){return new U$(n)}),this.register(function(n){return new G$(n)}),this.register(function(n){return new L$(n)}),this.register(function(n){return new Q$(n)}),this.register(function(n){return new k$(n)}),this.register(function(n){return new H$(n)}),this.register(function(n){return new P$(n)}),this.register(function(n){return new J$(n)}),this.register(function(n){return new j$(n)})}load(e,n,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Mo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Mo.decodeText(new Uint8Array(e.slice(0,4)))===RD){try{o[Ut.KHR_BINARY_GLTF]=new K$(e)}catch(u){r&&r(u);return}s=JSON.parse(o[Ut.KHR_BINARY_GLTF].content)}else s=JSON.parse(Mo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new aee(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Ut.KHR_MATERIALS_UNLIT:o[u]=new D$;break;case Ut.KHR_DRACO_MESH_COMPRESSION:o[u]=new Y$(s,this.dracoLoader);break;case Ut.KHR_TEXTURE_TRANSFORM:o[u]=new X$;break;case Ut.KHR_MESH_QUANTIZATION:o[u]=new q$;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function R$(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Ut={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class P${constructor(e){this.parser=e,this.name=Ut.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Re(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new jx(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Jx(u),c.distance=d;break;case"spot":c=new Wx(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,il(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class D${constructor(){this.name=Ut.KHR_MATERIALS_UNLIT}getMaterialType(){return Si}extendParams(e,n,i){const r=[];e.color=new Re(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class L${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class F${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new le(a,a)}return Promise.all(s)}}class k${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class N${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Re(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class O${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class U${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Re(a[0],a[1],a[2]),Promise.all(s)}}class G${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Q${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Re(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class H${constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Lo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class z${constructor(e){this.parser=e,this.name=Ut.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class V${constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class W${constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class J${constructor(e){this.name=Ut.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,r.mode,r.filter).then(function(A){return A.buffer}):o.ready.then(function(){const A=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(A),u,d,p,r.mode,r.filter),A})})}else return null}}class j${constructor(e){this.name=Ut.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==rs.TRIANGLES&&c.mode!==rs.TRIANGLE_STRIP&&c.mode!==rs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,A=[];for(const m of d){const g=new Ke,v=new D,C=new si,y=new D(1,1,1),x=new Rx(m.geometry,m.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&C.fromBufferAttribute(l.ROTATION,S),l.SCALE&&y.fromBufferAttribute(l.SCALE,S),x.setMatrixAt(S,g.compose(v,C,y));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&m.geometry.setAttribute(S,l[S]);Qt.prototype.copy.call(x,m),this.parser.assignFinalMaterial(x),A.push(x)}return u.isGroup?(u.clear(),u.add(...A),u):A[0]}))}}const RD="glTF",Ed=12,DI={JSON:1313821514,BIN:5130562};class K${constructor(e){this.name=Ut.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ed);if(this.header={magic:Mo.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==RD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ed,r=new DataView(e,Ed);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===DI.JSON){const l=new Uint8Array(e,Ed+s,o);this.content=Mo.decodeText(l)}else if(a===DI.BIN){const l=Ed+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Y${constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ut.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=D8[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=D8[u]||u.toLowerCase();if(o[u]!==void 0){const p=i.accessors[e.attributes[u]],A=Oh[p.componentType];c[d]=A.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(p){for(const A in p.attributes){const m=p.attributes[A],g=l[A];g!==void 0&&(m.normalized=g)}d(p)},a,c)})})}}class X${constructor(){this.name=Ut.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class q${constructor(){this.name=Ut.KHR_MESH_QUANTIZATION}}class PD extends Sf{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)n[o]=i[s+o];return n}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-n,d=(i-n)/u,p=d*d,A=p*d,m=e*c,g=m-c,v=-2*A+3*p,C=A-p,y=1-v,x=C-p+d;for(let S=0;S!==a;S++){const I=o[g+S+a],T=o[g+S+l]*u,B=o[m+S+a],_=o[m+S]*u;s[S]=y*I+x*T+v*B+C*_}return s}}const Z$=new si;class $$ extends PD{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return Z$.fromArray(s).normalize().toArray(s),s}}const rs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Oh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},LI={9728:mt,9729:sn,9984:Fp,9985:b2,9986:Dh,9987:ys},FI={33071:wn,33648:Yh,10497:vs},l6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},D8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Ys.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eee={CUBICSPLINE:void 0,LINEAR:nu,STEP:Xh},c6={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tee(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new L0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Po})),t.DefaultMaterial}function Ac(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function il(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nee(t,e,n){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return i&&(t.morphAttributes.position=u),r&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function iee(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ree(t){let e;const n=t.extensions&&t.extensions[Ut.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+u6(n.attributes):e=t.indices+":"+u6(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+u6(t.targets[i]);return e}function u6(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function L8(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function see(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const oee=new Ke;class aee{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new R$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new k0(this.options.manager):this.textureLoader=new rP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new oi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Ac(s,a,r),il(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const o=n[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ut.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Mo.resolveURL(n.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=l6[r.type],a=Oh[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new qt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=l6[r.type],c=Oh[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,A=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,m=r.normalized===!0;let g,v;if(A&&A!==d){const C=Math.floor(p/A),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+C+":"+r.count;let x=n.cache.get(y);x||(g=new c(a,C*A,r.count*A/u),x=new y0(g,A/u),n.cache.add(y,x)),v=new Bl(x,l,p%A/u,m)}else a===null?g=new c(r.count*l):g=new c(a,p,r.count*l),v=new qt(g,l,m);if(r.sparse!==void 0){const C=l6.SCALAR,y=Oh[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,I=new y(o[1],x,r.sparse.count*C),T=new c(o[2],S,r.sparse.count*l);a!==null&&(v=new qt(v.array.slice(),v.itemSize,v.normalized));for(let B=0,_=I.length;B<_;B++){const R=I[B];if(v.setX(R,T[B*l]),l>=2&&v.setY(R,T[B*l+1]),l>=3&&v.setZ(R,T[B*l+2]),l>=4&&v.setW(R,T[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,i=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,i){const r=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=LI[p.magFilter]||sn,u.minFilter=LI[p.minFilter]||ys,u.wrapS=FI[p.wrapS]||vs,u.wrapT=FI[p.wrapT]||vs,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,A){let m=p;n.isImageBitmapLoader===!0&&(m=function(g){const v=new gn(g);v.needsUpdate=!0,p(v)}),n.load(Mo.resolveURL(d,s.path),m,void 0,A)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||see(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Ut.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Ut.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ut.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new C0,qn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ui,qn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return L0}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ut.KHR_MATERIALS_UNLIT]){const d=r[Ut.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Re(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Os);const u=s.alphaMode||c6.OPAQUE;if(u===c6.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===c6.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Si&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new le(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Si&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Si&&(a.emissive=new Re().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Si&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),il(d,s),n.associations.set(d,{materials:e}),s.extensions&&Ac(r,d,s),d})}createUniqueName(e){const n=zt.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Ut.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return kI(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=ree(c),d=r[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Ut.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=kI(new gt,c,n),r[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?tee(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let A=0,m=u.length;A<m;A++){const g=u[A],v=o[A];let C;const y=c[A];if(v.mode===rs.TRIANGLES||v.mode===rs.TRIANGLE_STRIP||v.mode===rs.TRIANGLE_FAN||v.mode===void 0)C=s.isSkinnedMesh===!0?new bx(g,y):new $t(g,y),C.isSkinnedMesh===!0&&C.normalizeSkinWeights(),v.mode===rs.TRIANGLE_STRIP?C.geometry=RI(C.geometry,vx):v.mode===rs.TRIANGLE_FAN&&(C.geometry=RI(C.geometry,Tg));else if(v.mode===rs.LINES)C=new Xs(g,y);else if(v.mode===rs.LINE_STRIP)C=new Ea(g,y);else if(v.mode===rs.LINE_LOOP)C=new Px(g,y);else if(v.mode===rs.POINTS)C=new Q2(g,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(C.geometry.morphAttributes).length>0&&iee(C,s),C.name=n.createUniqueName(s.name||"mesh_"+e),il(C,s),v.extensions&&Ac(r,C,v),n.assignFinalMaterial(C),d.push(C)}for(let A=0,m=d.length;A<m;A++)n.associations.set(d[A],{meshes:e,primitives:A});if(d.length===1)return s.extensions&&Ac(r,d[0],s),d[0];const p=new ha;s.extensions&&Ac(r,p,s),n.associations.set(p,{meshes:e});for(let A=0,m=d.length;A<m;A++)p.add(d[A]);return p})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new on(jc.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new fs(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),il(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,s=n.joints.length;r<s;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new Ke;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new x0(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=i.channels.length;u<d;u++){const p=i.channels[u],A=i.samplers[p.sampler],m=p.target,g=m.node,v=i.parameters!==void 0?i.parameters[A.input]:A.input,C=i.parameters!==void 0?i.parameters[A.output]:A.output;m.node!==void 0&&(s.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",v)),a.push(this.getDependency("accessor",C)),l.push(A),c.push(m))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],p=u[1],A=u[2],m=u[3],g=u[4],v=[];for(let C=0,y=d.length;C<y;C++){const x=d[C],S=p[C],I=A[C],T=m[C],B=g[C];if(x===void 0)continue;x.updateMatrix();let _;switch(Xa[B.path]){case Xa.weights:_=ef;break;case Xa.rotation:_=bl;break;case Xa.position:case Xa.scale:default:_=tf;break}const R=x.name?x.name:x.uuid,P=T.interpolation!==void 0?eee[T.interpolation]:nu,L=[];Xa[B.path]===Xa.weights?x.traverse(function(N){N.morphTargetInfluences&&L.push(N.name?N.name:N.uuid)}):L.push(R);let H=I.array;if(I.normalized){const N=L8(H.constructor),U=new Float32Array(H.length);for(let J=0,Y=H.length;J<Y;J++)U[J]=H[J]*N;H=U}for(let N=0,U=L.length;N<U;N++){const J=new _(L[N]+"."+Xa[B.path],S.array,H,P);T.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function(ee){const k=this instanceof bl?$$:PD;return new k(this.times,this.values,this.getValueSize()/3,ee)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(J)}}return new nf(r,void 0,v)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(A){A.isSkinnedMesh&&A.bind(p,oee)});for(let A=0,m=d.length;A<m;A++)u.add(d[A]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new G2:c.length>1?u=new ha:c.length===1?u=c[0]:u=new Qt,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),il(u,s),s.extensions&&Ac(i,u,s),s.matrix!==void 0){const d=new Ke;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,s=new ha;i.name&&(s.name=r.createUniqueName(i.name)),il(s,i),i.extensions&&Ac(n,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,A]of r.associations)(p instanceof qn||p instanceof gn)&&d.set(p,A);return u.traverse(p=>{const A=r.associations.get(p);A!=null&&d.set(p,A)}),d};return r.associations=c(s),s})}}function lee(t,e,n){const i=e.attributes,r=new Ql;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const u=L8(Oh[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],A=p.min,m=p.max;if(A!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(A[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(A[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(A[2]),Math.abs(m[2]))),p.normalized){const g=L8(Oh[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}t.boundingBox=r;const o=new Hl;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=o}function kI(t,e,n){const i=e.attributes,r=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=D8[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});r.push(o)}return il(t,e),lee(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?nee(t,e.targets,n):t})}const F8=class{static createButton(t,e={}){const n=document.createElement("button");function i(){let a=null;async function l(u){u.addEventListener("end",c),await t.xr.setSession(u),n.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var u;if(a===null){const d=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:d}).then(l)}else a.end()}}function r(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){r(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?i():s(),a&&F8.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{F8.xrSessionIsGranted=!0})}};let cee=F8;we(cee,"xrSessionIsGranted",!1);class uee extends gt{constructor(e,n,i,r){super();const s=[],o=[],a=[],l=new D,c=new Ke;c.makeRotationFromEuler(i),c.setPosition(n);const u=new Ke;u.copy(c).invert(),d(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2));function d(){let g,v=[];const C=new D,y=new D;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const x=e.geometry,S=x.attributes.position,I=x.attributes.normal;if(x.index!==null){const T=x.index;for(g=0;g<T.count;g++)C.fromBufferAttribute(S,T.getX(g)),y.fromBufferAttribute(I,T.getX(g)),p(v,C,y)}else for(g=0;g<S.count;g++)C.fromBufferAttribute(S,g),y.fromBufferAttribute(I,g),p(v,C,y);for(v=A(v,l.set(1,0,0)),v=A(v,l.set(-1,0,0)),v=A(v,l.set(0,1,0)),v=A(v,l.set(0,-1,0)),v=A(v,l.set(0,0,1)),v=A(v,l.set(0,0,-1)),g=0;g<v.length;g++){const T=v[g];a.push(.5+T.position.x/r.x,.5+T.position.y/r.y),T.position.applyMatrix4(c),s.push(T.position.x,T.position.y,T.position.z),o.push(T.normal.x,T.normal.y,T.normal.z)}}function p(g,v,C){v.applyMatrix4(e.matrixWorld),v.applyMatrix4(u),C.transformDirection(e.matrixWorld),g.push(new NI(v.clone(),C.clone()))}function A(g,v){const C=[],y=.5*Math.abs(r.dot(v));for(let x=0;x<g.length;x+=3){let S,I,T,B=0,_,R,P,L;const H=g[x+0].position.dot(v)-y,N=g[x+1].position.dot(v)-y,U=g[x+2].position.dot(v)-y;switch(S=H>0,I=N>0,T=U>0,B=(S?1:0)+(I?1:0)+(T?1:0),B){case 0:{C.push(g[x]),C.push(g[x+1]),C.push(g[x+2]);break}case 1:{if(S&&(_=g[x+1],R=g[x+2],P=m(g[x],_,v,y),L=m(g[x],R,v,y)),I){_=g[x],R=g[x+2],P=m(g[x+1],_,v,y),L=m(g[x+1],R,v,y),C.push(P),C.push(R.clone()),C.push(_.clone()),C.push(R.clone()),C.push(P.clone()),C.push(L);break}T&&(_=g[x],R=g[x+1],P=m(g[x+2],_,v,y),L=m(g[x+2],R,v,y)),C.push(_.clone()),C.push(R.clone()),C.push(P),C.push(L),C.push(P.clone()),C.push(R.clone());break}case 2:{S||(_=g[x].clone(),R=m(_,g[x+1],v,y),P=m(_,g[x+2],v,y),C.push(_),C.push(R),C.push(P)),I||(_=g[x+1].clone(),R=m(_,g[x+2],v,y),P=m(_,g[x],v,y),C.push(_),C.push(R),C.push(P)),T||(_=g[x+2].clone(),R=m(_,g[x],v,y),P=m(_,g[x+1],v,y),C.push(_),C.push(R),C.push(P));break}}}return C}function m(g,v,C,y){const x=g.position.dot(C)-y,S=v.position.dot(C)-y,I=x/(x-S);return new NI(new D(g.position.x+I*(v.position.x-g.position.x),g.position.y+I*(v.position.y-g.position.y),g.position.z+I*(v.position.z-g.position.z)),new D(g.normal.x+I*(v.normal.x-g.normal.x),g.normal.y+I*(v.normal.y-g.normal.y),g.normal.z+I*(v.normal.z-g.normal.z)))}}}class NI{constructor(e,n){this.position=e,this.normal=n}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}class DD{constructor(e){we(this,"data"),this.data=e}generateShapes(e,n=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=hee(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}we(DD,"isFont");we(DD,"type");function hee(t,e,n,i){const r=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<r.length;u++){const d=r[u];if(d===`
`)l=0,c-=o*i.lineHeight;else{const p=fee(d,s,l,c,n);p&&(l+=p.offsetX+i.letterSpacing,a.push(p.path))}}return a}function fee(t,e,n,i,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const o=new uP;let a,l,c,u,d,p,A,m;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,C=g.length;v<C;)switch(g[v++]){case"m":a=parseInt(g[v++])*e+n,l=parseInt(g[v++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(g[v++])*e+n,l=parseInt(g[v++])*e+i,o.lineTo(a,l);break;case"q":c=parseInt(g[v++])*e+n,u=parseInt(g[v++])*e+i,d=parseInt(g[v++])*e+n,p=parseInt(g[v++])*e+i,o.quadraticCurveTo(d,p,c,u);break;case"b":c=parseInt(g[v++])*e+n,u=parseInt(g[v++])*e+i,d=parseInt(g[v++])*e+n,p=parseInt(g[v++])*e+i,A=parseInt(g[v++])*e+n,m=parseInt(g[v++])*e+i,o.bezierCurveTo(d,p,A,m,c,u);break}}return{offsetX:s.ha*e,path:o}}class dee extends gn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=mt,this.minFilter=mt,this.wrapR=wn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var pee=typeof global=="object"&&global&&global.Object===Object&&global;const LD=pee;var Aee=typeof self=="object"&&self&&self.Object===Object&&self,mee=LD||Aee||Function("return this")();const ko=mee;var gee=ko.Symbol;const Cs=gee;var FD=Object.prototype,vee=FD.hasOwnProperty,yee=FD.toString,Sd=Cs?Cs.toStringTag:void 0;function xee(t){var e=vee.call(t,Sd),n=t[Sd];try{t[Sd]=void 0;var i=!0}catch{}var r=yee.call(t);return i&&(e?t[Sd]=n:delete t[Sd]),r}var Cee=Object.prototype,Eee=Cee.toString;function See(t){return Eee.call(t)}var wee="[object Null]",Iee="[object Undefined]",OI=Cs?Cs.toStringTag:void 0;function jl(t){return t==null?t===void 0?Iee:wee:OI&&OI in Object(t)?xee(t):See(t)}function js(t){return t!=null&&typeof t=="object"}var _ee="[object Symbol]";function $2(t){return typeof t=="symbol"||js(t)&&jl(t)==_ee}function V0(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var Mee=Array.isArray;const jt=Mee;var Tee=1/0,UI=Cs?Cs.prototype:void 0,GI=UI?UI.toString:void 0;function kD(t){if(typeof t=="string")return t;if(jt(t))return V0(t,kD)+"";if($2(t))return GI?GI.call(t):"";var e=t+"";return e=="0"&&1/t==-Tee?"-0":e}var Bee=/\s/;function bee(t){for(var e=t.length;e--&&Bee.test(t.charAt(e)););return e}var Ree=/^\s+/;function Pee(t){return t&&t.slice(0,bee(t)+1).replace(Ree,"")}function Es(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var QI=0/0,Dee=/^[-+]0x[0-9a-f]+$/i,Lee=/^0b[01]+$/i,Fee=/^0o[0-7]+$/i,kee=parseInt;function Nee(t){if(typeof t=="number")return t;if($2(t))return QI;if(Es(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Es(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Pee(t);var n=Lee.test(t);return n||Fee.test(t)?kee(t.slice(2),n?2:8):Dee.test(t)?QI:+t}var HI=1/0,Oee=17976931348623157e292;function Uee(t){if(!t)return t===0?t:0;if(t=Nee(t),t===HI||t===-HI){var e=t<0?-1:1;return e*Oee}return t===t?t:0}function W0(t){var e=Uee(t),n=e%1;return e===e?n?e-n:e:0}function of(t){return t}var Gee="[object AsyncFunction]",Qee="[object Function]",Hee="[object GeneratorFunction]",zee="[object Proxy]";function Ba(t){if(!Es(t))return!1;var e=jl(t);return e==Qee||e==Hee||e==Gee||e==zee}var Vee=ko["__core-js_shared__"];const h6=Vee;var zI=function(){var t=/[^.]+$/.exec(h6&&h6.keys&&h6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wee(t){return!!zI&&zI in t}var Jee=Function.prototype,jee=Jee.toString;function vu(t){if(t!=null){try{return jee.call(t)}catch{}try{return t+""}catch{}}return""}var Kee=/[\\^$.*+?()[\]{}|]/g,Yee=/^\[object .+?Constructor\]$/,Xee=Function.prototype,qee=Object.prototype,Zee=Xee.toString,$ee=qee.hasOwnProperty,ete=RegExp("^"+Zee.call($ee).replace(Kee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tte(t){if(!Es(t)||Wee(t))return!1;var e=Ba(t)?ete:Yee;return e.test(vu(t))}function nte(t,e){return t==null?void 0:t[e]}function yu(t,e){var n=nte(t,e);return tte(n)?n:void 0}var ite=yu(ko,"WeakMap");const k8=ite;var VI=Object.create,rte=function(){function t(){}return function(e){if(!Es(e))return{};if(VI)return VI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const ste=rte;function ote(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ei(){}function ate(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var lte=800,cte=16,ute=Date.now;function hte(t){var e=0,n=0;return function(){var i=ute(),r=cte-(i-n);if(n=i,r>0){if(++e>=lte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function fte(t){return function(){return t}}var dte=function(){try{var t=yu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Gg=dte;var pte=Gg?function(t,e){return Gg(t,"toString",{configurable:!0,enumerable:!1,value:fte(e),writable:!0})}:of;const Ate=pte;var mte=hte(Ate);const gte=mte;function ND(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function OD(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function vte(t){return t!==t}function yte(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function p9(t,e,n){return e===e?yte(t,e,n):OD(t,vte,n)}function UD(t,e){var n=t==null?0:t.length;return!!n&&p9(t,e,0)>-1}var xte=9007199254740991,Cte=/^(?:0|[1-9]\d*)$/;function e1(t,e){var n=typeof t;return e=e??xte,!!e&&(n=="number"||n!="symbol"&&Cte.test(t))&&t>-1&&t%1==0&&t<e}function A9(t,e,n){e=="__proto__"&&Gg?Gg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function J0(t,e){return t===e||t!==t&&e!==e}var Ete=Object.prototype,Ste=Ete.hasOwnProperty;function t1(t,e,n){var i=t[e];(!(Ste.call(t,e)&&J0(i,n))||n===void 0&&!(e in t))&&A9(t,e,n)}function j0(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?A9(n,a,l):t1(n,a,l)}return n}var WI=Math.max;function wte(t,e,n){return e=WI(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=WI(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),ote(t,this,a)}}function m9(t,e){return gte(wte(t,e,of),t+"")}var Ite=9007199254740991;function g9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ite}function No(t){return t!=null&&g9(t.length)&&!Ba(t)}function n1(t,e,n){if(!Es(n))return!1;var i=typeof e;return(i=="number"?No(n)&&e1(e,n.length):i=="string"&&e in n)?J0(n[e],t):!1}function _te(t){return m9(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&n1(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var Mte=Object.prototype;function K0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mte;return t===n}function Tte(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Bte="[object Arguments]";function JI(t){return js(t)&&jl(t)==Bte}var GD=Object.prototype,bte=GD.hasOwnProperty,Rte=GD.propertyIsEnumerable,Pte=JI(function(){return arguments}())?JI:function(t){return js(t)&&bte.call(t,"callee")&&!Rte.call(t,"callee")};const i1=Pte;function Dte(){return!1}var QD=typeof me=="object"&&me&&!me.nodeType&&me,jI=QD&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,Lte=jI&&jI.exports===QD,KI=Lte?ko.Buffer:void 0,Fte=KI?KI.isBuffer:void 0,kte=Fte||Dte;const $p=kte;var Nte="[object Arguments]",Ote="[object Array]",Ute="[object Boolean]",Gte="[object Date]",Qte="[object Error]",Hte="[object Function]",zte="[object Map]",Vte="[object Number]",Wte="[object Object]",Jte="[object RegExp]",jte="[object Set]",Kte="[object String]",Yte="[object WeakMap]",Xte="[object ArrayBuffer]",qte="[object DataView]",Zte="[object Float32Array]",$te="[object Float64Array]",ene="[object Int8Array]",tne="[object Int16Array]",nne="[object Int32Array]",ine="[object Uint8Array]",rne="[object Uint8ClampedArray]",sne="[object Uint16Array]",one="[object Uint32Array]",pn={};pn[Zte]=pn[$te]=pn[ene]=pn[tne]=pn[nne]=pn[ine]=pn[rne]=pn[sne]=pn[one]=!0;pn[Nte]=pn[Ote]=pn[Xte]=pn[Ute]=pn[qte]=pn[Gte]=pn[Qte]=pn[Hte]=pn[zte]=pn[Vte]=pn[Wte]=pn[Jte]=pn[jte]=pn[Kte]=pn[Yte]=!1;function ane(t){return js(t)&&g9(t.length)&&!!pn[jl(t)]}function Y0(t){return function(e){return t(e)}}var HD=typeof me=="object"&&me&&!me.nodeType&&me,ip=HD&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,lne=ip&&ip.exports===HD,f6=lne&&LD.process,cne=function(){try{var t=ip&&ip.require&&ip.require("util").types;return t||f6&&f6.binding&&f6.binding("util")}catch{}}();const Pl=cne;var YI=Pl&&Pl.isTypedArray,une=YI?Y0(YI):ane;const v9=une;var hne=Object.prototype,fne=hne.hasOwnProperty;function zD(t,e){var n=jt(t),i=!n&&i1(t),r=!n&&!i&&$p(t),s=!n&&!i&&!r&&v9(t),o=n||i||r||s,a=o?Tte(t.length,String):[],l=a.length;for(var c in t)(e||fne.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||e1(c,l)))&&a.push(c);return a}function VD(t,e){return function(n){return t(e(n))}}var dne=VD(Object.keys,Object);const pne=dne;var Ane=Object.prototype,mne=Ane.hasOwnProperty;function WD(t){if(!K0(t))return pne(t);var e=[];for(var n in Object(t))mne.call(t,n)&&n!="constructor"&&e.push(n);return e}function Dr(t){return No(t)?zD(t):WD(t)}var gne=Object.prototype,vne=gne.hasOwnProperty,yne=_te(function(t,e){if(K0(e)||No(e)){j0(e,Dr(e),t);return}for(var n in e)vne.call(e,n)&&t1(t,n,e[n])});const Lr=yne;function xne(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Cne=Object.prototype,Ene=Cne.hasOwnProperty;function Sne(t){if(!Es(t))return xne(t);var e=K0(t),n=[];for(var i in t)i=="constructor"&&(e||!Ene.call(t,i))||n.push(i);return n}function r1(t){return No(t)?zD(t,!0):Sne(t)}var wne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ine=/^\w*$/;function y9(t,e){if(jt(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$2(t)?!0:Ine.test(t)||!wne.test(t)||e!=null&&t in Object(e)}var _ne=yu(Object,"create");const e0=_ne;function Mne(){this.__data__=e0?e0(null):{},this.size=0}function Tne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bne="__lodash_hash_undefined__",bne=Object.prototype,Rne=bne.hasOwnProperty;function Pne(t){var e=this.__data__;if(e0){var n=e[t];return n===Bne?void 0:n}return Rne.call(e,t)?e[t]:void 0}var Dne=Object.prototype,Lne=Dne.hasOwnProperty;function Fne(t){var e=this.__data__;return e0?e[t]!==void 0:Lne.call(e,t)}var kne="__lodash_hash_undefined__";function Nne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e0&&e===void 0?kne:e,this}function au(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}au.prototype.clear=Mne;au.prototype.delete=Tne;au.prototype.get=Pne;au.prototype.has=Fne;au.prototype.set=Nne;function One(){this.__data__=[],this.size=0}function s1(t,e){for(var n=t.length;n--;)if(J0(t[n][0],e))return n;return-1}var Une=Array.prototype,Gne=Une.splice;function Qne(t){var e=this.__data__,n=s1(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Gne.call(e,n,1),--this.size,!0}function Hne(t){var e=this.__data__,n=s1(e,t);return n<0?void 0:e[n][1]}function zne(t){return s1(this.__data__,t)>-1}function Vne(t,e){var n=this.__data__,i=s1(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function ba(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ba.prototype.clear=One;ba.prototype.delete=Qne;ba.prototype.get=Hne;ba.prototype.has=zne;ba.prototype.set=Vne;var Wne=yu(ko,"Map");const t0=Wne;function Jne(){this.size=0,this.__data__={hash:new au,map:new(t0||ba),string:new au}}function jne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function o1(t,e){var n=t.__data__;return jne(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Kne(t){var e=o1(this,t).delete(t);return this.size-=e?1:0,e}function Yne(t){return o1(this,t).get(t)}function Xne(t){return o1(this,t).has(t)}function qne(t,e){var n=o1(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ra(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ra.prototype.clear=Jne;Ra.prototype.delete=Kne;Ra.prototype.get=Yne;Ra.prototype.has=Xne;Ra.prototype.set=qne;var Zne="Expected a function";function x9(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Zne);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(x9.Cache||Ra),n}x9.Cache=Ra;var $ne=500;function eie(t){var e=x9(t,function(i){return n.size===$ne&&n.clear(),i}),n=e.cache;return e}var tie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nie=/\\(\\)?/g,iie=eie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tie,function(n,i,r,s){e.push(r?s.replace(nie,"$1"):i||n)}),e});const rie=iie;function sie(t){return t==null?"":kD(t)}function a1(t,e){return jt(t)?t:y9(t,e)?[t]:rie(sie(t))}var oie=1/0;function X0(t){if(typeof t=="string"||$2(t))return t;var e=t+"";return e=="0"&&1/t==-oie?"-0":e}function C9(t,e){e=a1(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[X0(e[n++])];return n&&n==i?t:void 0}function aie(t,e,n){var i=t==null?void 0:C9(t,e);return i===void 0?n:i}function E9(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var XI=Cs?Cs.isConcatSpreadable:void 0;function lie(t){return jt(t)||i1(t)||!!(XI&&t&&t[XI])}function l1(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=lie),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?l1(a,e-1,n,i,r):E9(r,a):i||(r[r.length]=a)}return r}function Hs(t){var e=t==null?0:t.length;return e?l1(t,1):[]}var cie=VD(Object.getPrototypeOf,Object);const JD=cie;function jD(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=t[i+e];return s}function uie(t,e,n,i){var r=-1,s=t==null?0:t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function hie(){this.__data__=new ba,this.size=0}function fie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function die(t){return this.__data__.get(t)}function pie(t){return this.__data__.has(t)}var Aie=200;function mie(t,e){var n=this.__data__;if(n instanceof ba){var i=n.__data__;if(!t0||i.length<Aie-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ra(i)}return n.set(t,e),this.size=n.size,this}function bo(t){var e=this.__data__=new ba(t);this.size=e.size}bo.prototype.clear=hie;bo.prototype.delete=fie;bo.prototype.get=die;bo.prototype.has=pie;bo.prototype.set=mie;function gie(t,e){return t&&j0(e,Dr(e),t)}function vie(t,e){return t&&j0(e,r1(e),t)}var KD=typeof me=="object"&&me&&!me.nodeType&&me,qI=KD&&typeof Tr=="object"&&Tr&&!Tr.nodeType&&Tr,yie=qI&&qI.exports===KD,ZI=yie?ko.Buffer:void 0,$I=ZI?ZI.allocUnsafe:void 0;function xie(t,e){if(e)return t.slice();var n=t.length,i=$I?$I(n):new t.constructor(n);return t.copy(i),i}function S9(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function YD(){return[]}var Cie=Object.prototype,Eie=Cie.propertyIsEnumerable,e_=Object.getOwnPropertySymbols,Sie=e_?function(t){return t==null?[]:(t=Object(t),S9(e_(t),function(e){return Eie.call(t,e)}))}:YD;const w9=Sie;function wie(t,e){return j0(t,w9(t),e)}var Iie=Object.getOwnPropertySymbols,_ie=Iie?function(t){for(var e=[];t;)E9(e,w9(t)),t=JD(t);return e}:YD;const XD=_ie;function Mie(t,e){return j0(t,XD(t),e)}function qD(t,e,n){var i=e(t);return jt(t)?i:E9(i,n(t))}function N8(t){return qD(t,Dr,w9)}function ZD(t){return qD(t,r1,XD)}var Tie=yu(ko,"DataView");const O8=Tie;var Bie=yu(ko,"Promise");const U8=Bie;var bie=yu(ko,"Set");const Uh=bie;var t_="[object Map]",Rie="[object Object]",n_="[object Promise]",i_="[object Set]",r_="[object WeakMap]",s_="[object DataView]",Pie=vu(O8),Die=vu(t0),Lie=vu(U8),Fie=vu(Uh),kie=vu(k8),_c=jl;(O8&&_c(new O8(new ArrayBuffer(1)))!=s_||t0&&_c(new t0)!=t_||U8&&_c(U8.resolve())!=n_||Uh&&_c(new Uh)!=i_||k8&&_c(new k8)!=r_)&&(_c=function(t){var e=jl(t),n=e==Rie?t.constructor:void 0,i=n?vu(n):"";if(i)switch(i){case Pie:return s_;case Die:return t_;case Lie:return n_;case Fie:return i_;case kie:return r_}return e});const af=_c;var Nie=Object.prototype,Oie=Nie.hasOwnProperty;function Uie(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Oie.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Gie=ko.Uint8Array;const Qg=Gie;function I9(t){var e=new t.constructor(t.byteLength);return new Qg(e).set(new Qg(t)),e}function Qie(t,e){var n=e?I9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Hie=/\w*$/;function zie(t){var e=new t.constructor(t.source,Hie.exec(t));return e.lastIndex=t.lastIndex,e}var o_=Cs?Cs.prototype:void 0,a_=o_?o_.valueOf:void 0;function Vie(t){return a_?Object(a_.call(t)):{}}function Wie(t,e){var n=e?I9(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Jie="[object Boolean]",jie="[object Date]",Kie="[object Map]",Yie="[object Number]",Xie="[object RegExp]",qie="[object Set]",Zie="[object String]",$ie="[object Symbol]",ere="[object ArrayBuffer]",tre="[object DataView]",nre="[object Float32Array]",ire="[object Float64Array]",rre="[object Int8Array]",sre="[object Int16Array]",ore="[object Int32Array]",are="[object Uint8Array]",lre="[object Uint8ClampedArray]",cre="[object Uint16Array]",ure="[object Uint32Array]";function hre(t,e,n){var i=t.constructor;switch(e){case ere:return I9(t);case Jie:case jie:return new i(+t);case tre:return Qie(t,n);case nre:case ire:case rre:case sre:case ore:case are:case lre:case cre:case ure:return Wie(t,n);case Kie:return new i;case Yie:case Zie:return new i(t);case Xie:return zie(t);case qie:return new i;case $ie:return Vie(t)}}function fre(t){return typeof t.constructor=="function"&&!K0(t)?ste(JD(t)):{}}var dre="[object Map]";function pre(t){return js(t)&&af(t)==dre}var l_=Pl&&Pl.isMap,Are=l_?Y0(l_):pre;const mre=Are;var gre="[object Set]";function vre(t){return js(t)&&af(t)==gre}var c_=Pl&&Pl.isSet,yre=c_?Y0(c_):vre;const xre=yre;var Cre=1,Ere=2,Sre=4,$D="[object Arguments]",wre="[object Array]",Ire="[object Boolean]",_re="[object Date]",Mre="[object Error]",eL="[object Function]",Tre="[object GeneratorFunction]",Bre="[object Map]",bre="[object Number]",tL="[object Object]",Rre="[object RegExp]",Pre="[object Set]",Dre="[object String]",Lre="[object Symbol]",Fre="[object WeakMap]",kre="[object ArrayBuffer]",Nre="[object DataView]",Ore="[object Float32Array]",Ure="[object Float64Array]",Gre="[object Int8Array]",Qre="[object Int16Array]",Hre="[object Int32Array]",zre="[object Uint8Array]",Vre="[object Uint8ClampedArray]",Wre="[object Uint16Array]",Jre="[object Uint32Array]",ln={};ln[$D]=ln[wre]=ln[kre]=ln[Nre]=ln[Ire]=ln[_re]=ln[Ore]=ln[Ure]=ln[Gre]=ln[Qre]=ln[Hre]=ln[Bre]=ln[bre]=ln[tL]=ln[Rre]=ln[Pre]=ln[Dre]=ln[Lre]=ln[zre]=ln[Vre]=ln[Wre]=ln[Jre]=!0;ln[Mre]=ln[eL]=ln[Fre]=!1;function Km(t,e,n,i,r,s){var o,a=e&Cre,l=e&Ere,c=e&Sre;if(n&&(o=r?n(t,i,r,s):n(t)),o!==void 0)return o;if(!Es(t))return t;var u=jt(t);if(u){if(o=Uie(t),!a)return ate(t,o)}else{var d=af(t),p=d==eL||d==Tre;if($p(t))return xie(t,a);if(d==tL||d==$D||p&&!r){if(o=l||p?{}:fre(t),!a)return l?Mie(t,vie(o,t)):wie(t,gie(o,t))}else{if(!ln[d])return r?t:{};o=hre(t,d,a)}}s||(s=new bo);var A=s.get(t);if(A)return A;s.set(t,o),xre(t)?t.forEach(function(v){o.add(Km(v,e,n,v,t,s))}):mre(t)&&t.forEach(function(v,C){o.set(C,Km(v,e,n,C,t,s))});var m=c?l?ZD:N8:l?r1:Dr,g=u?void 0:m(t);return ND(g||t,function(v,C){g&&(C=v,v=t[C]),t1(o,C,Km(v,e,n,C,t,s))}),o}var jre=4;function Oi(t){return Km(t,jre)}function q0(t){for(var e=-1,n=t==null?0:t.length,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}var Kre="__lodash_hash_undefined__";function Yre(t){return this.__data__.set(t,Kre),this}function Xre(t){return this.__data__.has(t)}function lf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ra;++e<n;)this.add(t[e])}lf.prototype.add=lf.prototype.push=Yre;lf.prototype.has=Xre;function nL(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function _9(t,e){return t.has(e)}var qre=1,Zre=2;function iL(t,e,n,i,r,s){var o=n&qre,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,p=!0,A=n&Zre?new lf:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],g=e[d];if(i)var v=o?i(g,m,d,e,t,s):i(m,g,d,t,e,s);if(v!==void 0){if(v)continue;p=!1;break}if(A){if(!nL(e,function(C,y){if(!_9(A,y)&&(m===C||r(m,C,n,i,s)))return A.push(y)})){p=!1;break}}else if(!(m===g||r(m,g,n,i,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function $re(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function M9(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var ese=1,tse=2,nse="[object Boolean]",ise="[object Date]",rse="[object Error]",sse="[object Map]",ose="[object Number]",ase="[object RegExp]",lse="[object Set]",cse="[object String]",use="[object Symbol]",hse="[object ArrayBuffer]",fse="[object DataView]",u_=Cs?Cs.prototype:void 0,d6=u_?u_.valueOf:void 0;function dse(t,e,n,i,r,s,o){switch(n){case fse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case hse:return!(t.byteLength!=e.byteLength||!s(new Qg(t),new Qg(e)));case nse:case ise:case ose:return J0(+t,+e);case rse:return t.name==e.name&&t.message==e.message;case ase:case cse:return t==e+"";case sse:var a=$re;case lse:var l=i&ese;if(a||(a=M9),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=tse,o.set(t,e);var u=iL(a(t),a(e),i,r,s,o);return o.delete(t),u;case use:if(d6)return d6.call(t)==d6.call(e)}return!1}var pse=1,Ase=Object.prototype,mse=Ase.hasOwnProperty;function gse(t,e,n,i,r,s){var o=n&pse,a=N8(t),l=a.length,c=N8(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:mse.call(e,p)))return!1}var A=s.get(t),m=s.get(e);if(A&&m)return A==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=o;++d<l;){p=a[d];var C=t[p],y=e[p];if(i)var x=o?i(y,C,p,e,t,s):i(C,y,p,t,e,s);if(!(x===void 0?C===y||r(C,y,n,i,s):x)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var S=t.constructor,I=e.constructor;S!=I&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof I=="function"&&I instanceof I)&&(g=!1)}return s.delete(t),s.delete(e),g}var vse=1,h_="[object Arguments]",f_="[object Array]",Am="[object Object]",yse=Object.prototype,d_=yse.hasOwnProperty;function xse(t,e,n,i,r,s){var o=jt(t),a=jt(e),l=o?f_:af(t),c=a?f_:af(e);l=l==h_?Am:l,c=c==h_?Am:c;var u=l==Am,d=c==Am,p=l==c;if(p&&$p(t)){if(!$p(e))return!1;o=!0,u=!1}if(p&&!u)return s||(s=new bo),o||v9(t)?iL(t,e,n,i,r,s):dse(t,e,l,n,i,r,s);if(!(n&vse)){var A=u&&d_.call(t,"__wrapped__"),m=d&&d_.call(e,"__wrapped__");if(A||m){var g=A?t.value():t,v=m?e.value():e;return s||(s=new bo),r(g,v,n,i,s)}}return p?(s||(s=new bo),gse(t,e,n,i,r,s)):!1}function T9(t,e,n,i,r){return t===e?!0:t==null||e==null||!js(t)&&!js(e)?t!==t&&e!==e:xse(t,e,n,i,T9,r)}var Cse=1,Ese=2;function Sse(t,e,n,i){var r=n.length,s=r,o=!i;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new bo;if(i)var p=i(c,u,l,t,e,d);if(!(p===void 0?T9(u,c,Cse|Ese,i,d):p))return!1}}return!0}function rL(t){return t===t&&!Es(t)}function wse(t){for(var e=Dr(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,rL(r)]}return e}function sL(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Ise(t){var e=wse(t);return e.length==1&&e[0][2]?sL(e[0][0],e[0][1]):function(n){return n===t||Sse(n,t,e)}}function _se(t,e){return t!=null&&e in Object(t)}function oL(t,e,n){e=a1(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=X0(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&g9(r)&&e1(o,r)&&(jt(t)||i1(t)))}function Mse(t,e){return t!=null&&oL(t,e,_se)}var Tse=1,Bse=2;function bse(t,e){return y9(t)&&rL(e)?sL(X0(t),e):function(n){var i=aie(n,t);return i===void 0&&i===e?Mse(n,t):T9(e,i,Tse|Bse)}}function Rse(t){return function(e){return e==null?void 0:e[t]}}function Pse(t){return function(e){return C9(e,t)}}function Dse(t){return y9(t)?Rse(X0(t)):Pse(t)}function Oo(t){return typeof t=="function"?t:t==null?of:typeof t=="object"?jt(t)?bse(t[0],t[1]):Ise(t):Dse(t)}function Lse(t,e,n,i){for(var r=-1,s=t==null?0:t.length;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function Fse(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++r];if(n(s[l],l,s)===!1)break}return e}}var kse=Fse();const Nse=kse;function Ose(t,e){return t&&Nse(t,e,Dr)}function Use(t,e){return function(n,i){if(n==null)return n;if(!No(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=Object(n);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return n}}var Gse=Use(Ose);const xu=Gse;function Qse(t,e,n,i){return xu(t,function(r,s,o){e(i,r,n(r),o)}),i}function Hse(t,e){return function(n,i){var r=jt(n)?Lse:Qse,s=e?e():{};return r(n,t,Oo(i),s)}}var aL=Object.prototype,zse=aL.hasOwnProperty,Vse=m9(function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&n1(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],o=r1(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||J0(u,aL[c])&&!zse.call(t,c))&&(t[c]=s[c])}return t});const B9=Vse;function p_(t){return js(t)&&No(t)}function lL(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}var Wse=200;function Jse(t,e,n,i){var r=-1,s=UD,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=V0(e,Y0(n))),i?(s=lL,o=!1):e.length>=Wse&&(s=_9,o=!1,e=new lf(e));e:for(;++r<a;){var u=t[r],d=n==null?u:n(u);if(u=i||u!==0?u:0,o&&d===d){for(var p=c;p--;)if(e[p]===d)continue e;l.push(u)}else s(e,d,i)||l.push(u)}return l}var jse=m9(function(t,e){return p_(t)?Jse(t,l1(e,1,p_,!0)):[]});const c1=jse;function cf(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Ci(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:W0(e),jD(t,e<0?0:e,i)):[]}function n0(t,e,n){var i=t==null?0:t.length;return i?(e=n||e===void 0?1:W0(e),e=i-e,jD(t,0,e<0?0:e)):[]}function Kse(t){return typeof t=="function"?t:of}function dt(t,e){var n=jt(t)?ND:xu;return n(t,Kse(e))}function Yse(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Xse(t,e){var n=!0;return xu(t,function(i,r,s){return n=!!e(i,r,s),n}),n}function zs(t,e,n){var i=jt(t)?Yse:Xse;return n&&n1(t,e,n)&&(e=void 0),i(t,Oo(e))}function cL(t,e){var n=[];return xu(t,function(i,r,s){e(i,r,s)&&n.push(i)}),n}function ws(t,e){var n=jt(t)?S9:cL;return n(t,Oo(e))}function qse(t){return function(e,n,i){var r=Object(e);if(!No(e)){var s=Oo(n);e=Dr(e),n=function(a){return s(r[a],a,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}var Zse=Math.max;function $se(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:W0(n);return r<0&&(r=Zse(i+r,0)),OD(t,Oo(e),r)}var eoe=qse($se);const uf=eoe;function Ks(t){return t&&t.length?t[0]:void 0}function toe(t,e){var n=-1,i=No(t)?Array(t.length):[];return xu(t,function(r,s,o){i[++n]=e(r,s,o)}),i}function st(t,e){var n=jt(t)?V0:toe;return n(t,Oo(e))}function ds(t,e){return l1(st(t,e),1)}var noe=Object.prototype,ioe=noe.hasOwnProperty,roe=Hse(function(t,e,n){ioe.call(t,n)?t[n].push(e):A9(t,n,[e])});const soe=roe;var ooe=Object.prototype,aoe=ooe.hasOwnProperty;function loe(t,e){return t!=null&&aoe.call(t,e)}function ht(t,e){return t!=null&&oL(t,e,loe)}var coe="[object String]";function Ar(t){return typeof t=="string"||!jt(t)&&js(t)&&jl(t)==coe}function uoe(t,e){return V0(e,function(n){return t[n]})}function ni(t){return t==null?[]:uoe(t,Dr(t))}var hoe=Math.max;function nr(t,e,n,i){t=No(t)?t:ni(t),n=n&&!i?W0(n):0;var r=t.length;return n<0&&(n=hoe(r+n,0)),Ar(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&p9(t,e,n)>-1}var foe=Math.max;function A_(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:W0(n);return r<0&&(r=foe(i+r,0)),p9(t,e,r)}var doe="[object Map]",poe="[object Set]",Aoe=Object.prototype,moe=Aoe.hasOwnProperty;function hn(t){if(t==null)return!0;if(No(t)&&(jt(t)||typeof t=="string"||typeof t.splice=="function"||$p(t)||v9(t)||i1(t)))return!t.length;var e=af(t);if(e==doe||e==poe)return!t.size;if(K0(t))return!WD(t).length;for(var n in t)if(moe.call(t,n))return!1;return!0}var goe="[object RegExp]";function voe(t){return js(t)&&jl(t)==goe}var m_=Pl&&Pl.isRegExp,yoe=m_?Y0(m_):voe;const Sa=yoe;function wa(t){return t===void 0}var xoe="Expected a function";function Coe(t){if(typeof t!="function")throw new TypeError(xoe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Eoe(t,e,n,i){if(!Es(t))return t;e=a1(e,t);for(var r=-1,s=e.length,o=s-1,a=t;a!=null&&++r<s;){var l=X0(e[r]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Es(u)?u:e1(e[r+1])?[]:{})}t1(a,l,c),a=a[l]}return t}function Soe(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=C9(t,o);n(a,o)&&Eoe(s,a1(o,t),a)}return s}function to(t,e){if(t==null)return{};var n=V0(ZD(t),function(i){return[i]});return e=Oo(e),Soe(t,n,function(i,r){return e(i,r[0])})}function woe(t,e,n,i,r){return r(t,function(s,o,a){n=i?(i=!1,s):e(n,s,o,a)}),n}function Fr(t,e,n){var i=jt(t)?uie:woe,r=arguments.length<3;return i(t,Oo(e),n,r,xu)}function u1(t,e){var n=jt(t)?S9:cL;return n(t,Coe(Oo(e)))}function Ioe(t,e){var n;return xu(t,function(i,r,s){return n=e(i,r,s),!n}),!!n}function uL(t,e,n){var i=jt(t)?nL:Ioe;return n&&n1(t,e,n)&&(e=void 0),i(t,Oo(e))}var _oe=1/0,Moe=Uh&&1/M9(new Uh([,-0]))[1]==_oe?function(t){return new Uh(t)}:ei;const Toe=Moe;var Boe=200;function boe(t,e,n){var i=-1,r=UD,s=t.length,o=!0,a=[],l=a;if(n)o=!1,r=lL;else if(s>=Boe){var c=e?null:Toe(t);if(c)return M9(c);o=!1,r=_9,l=new lf}else l=e?[]:a;e:for(;++i<s;){var u=t[i],d=e?e(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;e&&l.push(d),a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function b9(t){return t&&t.length?boe(t):[]}function G8(t){console&&console.error&&console.error(`Error: ${t}`)}function hL(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function fL(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function dL(t){function e(){}e.prototype=t;const n=new e;function i(){return typeof n.bar}return i(),i(),t}function Roe(t){return Poe(t)?t.LABEL:t.name}function Poe(t){return Ar(t.LABEL)&&t.LABEL!==""}class Uo{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),dt(this.definition,n=>{n.accept(e)})}}class kr extends Uo{constructor(e){super([]),this.idx=1,Lr(this,to(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Mf extends Uo{constructor(e){super(e.definition),this.orgText="",Lr(this,to(e,n=>n!==void 0))}}class mr extends Uo{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Lr(this,to(e,n=>n!==void 0))}}class pr extends Uo{constructor(e){super(e.definition),this.idx=1,Lr(this,to(e,n=>n!==void 0))}}class Go extends Uo{constructor(e){super(e.definition),this.idx=1,Lr(this,to(e,n=>n!==void 0))}}class Qo extends Uo{constructor(e){super(e.definition),this.idx=1,Lr(this,to(e,n=>n!==void 0))}}class ii extends Uo{constructor(e){super(e.definition),this.idx=1,Lr(this,to(e,n=>n!==void 0))}}class no extends Uo{constructor(e){super(e.definition),this.idx=1,Lr(this,to(e,n=>n!==void 0))}}class io extends Uo{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Lr(this,to(e,n=>n!==void 0))}}class Bn{constructor(e){this.idx=1,Lr(this,to(e,n=>n!==void 0))}accept(e){e.visit(this)}}function Doe(t){return st(t,Ym)}function Ym(t){function e(n){return st(n,Ym)}if(t instanceof kr){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Ar(t.label)&&(n.label=t.label),n}else{if(t instanceof mr)return{type:"Alternative",definition:e(t.definition)};if(t instanceof pr)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Go)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Qo)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Ym(new Bn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof no)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Ym(new Bn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ii)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof io)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Bn){const n={type:"Terminal",name:t.terminalType.name,label:Roe(t.terminalType),idx:t.idx};Ar(t.label)&&(n.terminalLabel=t.label);const i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Sa(i)?i.source:i),n}else{if(t instanceof Mf)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class Tf{visit(e){const n=e;switch(n.constructor){case kr:return this.visitNonTerminal(n);case mr:return this.visitAlternative(n);case pr:return this.visitOption(n);case Go:return this.visitRepetitionMandatory(n);case Qo:return this.visitRepetitionMandatoryWithSeparator(n);case no:return this.visitRepetitionWithSeparator(n);case ii:return this.visitRepetition(n);case io:return this.visitAlternation(n);case Bn:return this.visitTerminal(n);case Mf:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function Loe(t){return t instanceof mr||t instanceof pr||t instanceof ii||t instanceof Go||t instanceof Qo||t instanceof no||t instanceof Bn||t instanceof Mf}function Hg(t,e=[]){return t instanceof pr||t instanceof ii||t instanceof no?!0:t instanceof io?uL(t.definition,i=>Hg(i,e)):t instanceof kr&&nr(e,t)?!1:t instanceof Uo?(t instanceof kr&&e.push(t),zs(t.definition,i=>Hg(i,e))):!1}function Foe(t){return t instanceof io}function vo(t){if(t instanceof kr)return"SUBRULE";if(t instanceof pr)return"OPTION";if(t instanceof io)return"OR";if(t instanceof Go)return"AT_LEAST_ONE";if(t instanceof Qo)return"AT_LEAST_ONE_SEP";if(t instanceof no)return"MANY_SEP";if(t instanceof ii)return"MANY";if(t instanceof Bn)return"CONSUME";throw Error("non exhaustive match")}class h1{walk(e,n=[]){dt(e.definition,(i,r)=>{const s=Ci(e.definition,r+1);if(i instanceof kr)this.walkProdRef(i,s,n);else if(i instanceof Bn)this.walkTerminal(i,s,n);else if(i instanceof mr)this.walkFlat(i,s,n);else if(i instanceof pr)this.walkOption(i,s,n);else if(i instanceof Go)this.walkAtLeastOne(i,s,n);else if(i instanceof Qo)this.walkAtLeastOneSep(i,s,n);else if(i instanceof no)this.walkManySep(i,s,n);else if(i instanceof ii)this.walkMany(i,s,n);else if(i instanceof io)this.walkOr(i,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,i){}walkProdRef(e,n,i){}walkFlat(e,n,i){const r=n.concat(i);this.walk(e,r)}walkOption(e,n,i){const r=n.concat(i);this.walk(e,r)}walkAtLeastOne(e,n,i){const r=[new pr({definition:e.definition})].concat(n,i);this.walk(e,r)}walkAtLeastOneSep(e,n,i){const r=g_(e,n,i);this.walk(e,r)}walkMany(e,n,i){const r=[new pr({definition:e.definition})].concat(n,i);this.walk(e,r)}walkManySep(e,n,i){const r=g_(e,n,i);this.walk(e,r)}walkOr(e,n,i){const r=n.concat(i);dt(e.definition,s=>{const o=new mr({definition:[s]});this.walk(o,r)})}}function g_(t,e,n){return[new pr({definition:[new Bn({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Z0(t){if(t instanceof kr)return Z0(t.referencedRule);if(t instanceof Bn)return Ooe(t);if(Loe(t))return koe(t);if(Foe(t))return Noe(t);throw Error("non exhaustive match")}function koe(t){let e=[];const n=t.definition;let i=0,r=n.length>i,s,o=!0;for(;r&&o;)s=n[i],o=Hg(s),e=e.concat(Z0(s)),i=i+1,r=n.length>i;return b9(e)}function Noe(t){const e=st(t.definition,n=>Z0(n));return b9(Hs(e))}function Ooe(t){return[t.terminalType]}const pL="_~IN~_";class Uoe extends h1{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,i){}walkProdRef(e,n,i){const r=Qoe(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(i),o=new mr({definition:s}),a=Z0(o);this.follows[r]=a}}function Goe(t){const e={};return dt(t,n=>{const i=new Uoe(n).startWalking();Lr(e,i)}),e}function Qoe(t,e){return t.name+e+pL}function pt(t){return t.charCodeAt(0)}function p6(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function wd(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function ih(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Hoe(){throw Error("Internal Error - Should never get here!")}function v_(t){return t.type==="Character"}const zg=[];for(let t=pt("0");t<=pt("9");t++)zg.push(t);const Vg=[pt("_")].concat(zg);for(let t=pt("a");t<=pt("z");t++)Vg.push(t);for(let t=pt("A");t<=pt("Z");t++)Vg.push(t);const y_=[pt(" "),pt("\f"),pt(`
`),pt("\r"),pt("	"),pt("\v"),pt("	"),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt(" "),pt("\u2028"),pt("\u2029"),pt(" "),pt(" "),pt("　"),pt("\uFEFF")],zoe=/[0-9a-fA-F]/,mm=/[0-9]/,Voe=/[1-9]/;class Woe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const i={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":wd(i,"global");break;case"i":wd(i,"ignoreCase");break;case"m":wd(i,"multiLine");break;case"u":wd(i,"unicode");break;case"y":wd(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}ih(n);const i=this.disjunction();return this.consumeChar(")"),{type:n,value:i,loc:this.loc(e)}}return Hoe()}quantifier(e=!1){let n;const i=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:r,atMost:s}):n={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;ih(n);break}if(!(e===!0&&n===void 0)&&ih(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(i),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),ih(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[pt(`
`),pt("\r"),pt("\u2028"),pt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=zg;break;case"D":e=zg,n=!0;break;case"s":e=y_;break;case"S":e=y_,n=!0;break;case"w":e=Vg;break;case"W":e=Vg,n=!0;break}if(ih(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=pt("\f");break;case"n":e=pt(`
`);break;case"r":e=pt("\r");break;case"t":e=pt("	");break;case"v":e=pt("\v");break}if(ih(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:pt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:pt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:pt(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const i=this.classAtom();if(i.type,v_(i)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,v_(r)){if(r.value<i.value)throw Error("Range out of order in character class");e.push({from:i.value,to:r.value})}else p6(i.value,e),e.push(pt("-")),p6(r.value,e)}else p6(i.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:pt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const i={type:"Group",capturing:e,value:n};return e&&(i.idx=this.groupIdx),i}positiveInteger(){let e=this.popChar();if(Voe.test(e)===!1)throw Error("Expecting a positive integer");for(;mm.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(mm.test(e)===!1)throw Error("Expecting an integer");for(;mm.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:pt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return mm.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let r=0;r<e;r++){const s=this.popChar();if(zoe.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class R9{visitChildren(e){for(const n in e){const i=e[n];e.hasOwnProperty(n)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(r=>{this.visit(r)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let Xm={};const Joe=new Woe;function f1(t){const e=t.toString();if(Xm.hasOwnProperty(e))return Xm[e];{const n=Joe.pattern(e);return Xm[e]=n,n}}function joe(){Xm={}}const AL="Complement Sets are not supported for first char optimization",Wg=`Unable to use "first char" lexer optimizations:
`;function Koe(t,e=!1){try{const n=f1(t);return Q8(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===AL)e&&hL(`${Wg}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),G8(`${Wg}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function Q8(t,e,n){switch(t.type){case"Disjunction":for(let r=0;r<t.value.length;r++)Q8(t.value[r],e,n);break;case"Alternative":const i=t.value;for(let r=0;r<i.length;r++){const s=i[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":gm(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(AL);dt(o.value,l=>{if(typeof l=="number")gm(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)gm(u,e,n);else{for(let u=c.from;u<=c.to&&u<kd;u++)gm(u,e,n);if(c.to>=kd){const u=c.from>=kd?c.from:kd,d=c.to,p=Dl(u),A=Dl(d);for(let m=p;m<=A;m++)e[m]=m}}}});break;case"Group":Q8(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&H8(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return ni(e)}function gm(t,e,n){const i=Dl(t);e[i]=i,n===!0&&Yoe(t,e)}function Yoe(t,e){const n=String.fromCharCode(t),i=n.toUpperCase();if(i!==n){const r=Dl(i.charCodeAt(0));e[r]=r}else{const r=n.toLowerCase();if(r!==n){const s=Dl(r.charCodeAt(0));e[s]=s}}}function x_(t,e){return uf(t.value,n=>{if(typeof n=="number")return nr(e,n);{const i=n;return uf(e,r=>i.from<=r&&r<=i.to)!==void 0}})}function H8(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?jt(t.value)?zs(t.value,H8):H8(t.value):!1}class Xoe extends R9{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){nr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?x_(e,this.targetCharCodes)===void 0&&(this.found=!0):x_(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function P9(t,e){if(e instanceof RegExp){const n=f1(e),i=new Xoe(t);return i.visit(n),i.found}else return uf(e,n=>nr(t,n.charCodeAt(0)))!==void 0}const lu="PATTERN",Fd="defaultMode",vm="modes";let mL=typeof new RegExp("(?:)").sticky=="boolean";function qoe(t,e){e=B9(e,{useSticky:mL,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,x)=>x()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{xae()});let i;n("Reject Lexer.NA",()=>{i=u1(t,y=>y[lu]===ps.NA)});let r=!1,s;n("Transform Patterns",()=>{r=!1,s=st(i,y=>{const x=y[lu];if(Sa(x)){const S=x.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!x.ignoreCase?S:S.length===2&&S[0]==="\\"&&!nr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?E_(x):C_(x)}else{if(Ba(x))return r=!0,{exec:x};if(typeof x=="object")return r=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const S=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),I=new RegExp(S);return e.useSticky?E_(I):C_(I)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;n("misc mapping",()=>{o=st(i,y=>y.tokenTypeIdx),a=st(i,y=>{const x=y.GROUP;if(x!==ps.SKIPPED){if(Ar(x))return x;if(wa(x))return!1;throw Error("non exhaustive match")}}),l=st(i,y=>{const x=y.LONGER_ALT;if(x)return jt(x)?st(x,I=>A_(i,I)):[A_(i,x)]}),c=st(i,y=>y.PUSH_MODE),u=st(i,y=>ht(y,"POP_MODE"))});let d;n("Line Terminator Handling",()=>{const y=yL(e.lineTerminatorCharacters);d=st(i,x=>!1),e.positionTracking!=="onlyOffset"&&(d=st(i,x=>ht(x,"LINE_BREAKS")?!!x.LINE_BREAKS:vL(x,y)===!1&&P9(y,x.PATTERN)))});let p,A,m,g;n("Misc Mapping #2",()=>{p=st(i,gL),A=st(s,gae),m=Fr(i,(y,x)=>{const S=x.GROUP;return Ar(S)&&S!==ps.SKIPPED&&(y[S]=[]),y},{}),g=st(s,(y,x)=>({pattern:s[x],longerAlt:l[x],canLineTerminator:d[x],isCustom:p[x],short:A[x],group:a[x],push:c[x],pop:u[x],tokenTypeIdx:o[x],tokenType:i[x]}))});let v=!0,C=[];return e.safeMode||n("First Char Optimization",()=>{C=Fr(i,(y,x,S)=>{if(typeof x.PATTERN=="string"){const I=x.PATTERN.charCodeAt(0),T=Dl(I);A6(y,T,g[S])}else if(jt(x.START_CHARS_HINT)){let I;dt(x.START_CHARS_HINT,T=>{const B=typeof T=="string"?T.charCodeAt(0):T,_=Dl(B);I!==_&&(I=_,A6(y,_,g[S]))})}else if(Sa(x.PATTERN))if(x.PATTERN.unicode)v=!1,e.ensureOptimizations&&G8(`${Wg}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const I=Koe(x.PATTERN,e.ensureOptimizations);hn(I)&&(v=!1),dt(I,T=>{A6(y,T,g[S])})}else e.ensureOptimizations&&G8(`${Wg}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return y},[])}),{emptyGroups:m,patternIdxToConfig:g,charCodeToPatternIdxToConfig:C,hasCustom:r,canBeOptimized:v}}function Zoe(t,e){let n=[];const i=eae(t);n=n.concat(i.errors);const r=tae(i.valid),s=r.valid;return n=n.concat(r.errors),n=n.concat($oe(s)),n=n.concat(cae(s)),n=n.concat(uae(s,e)),n=n.concat(hae(s)),n}function $oe(t){let e=[];const n=ws(t,i=>Sa(i[lu]));return e=e.concat(iae(n)),e=e.concat(oae(n)),e=e.concat(aae(n)),e=e.concat(lae(n)),e=e.concat(rae(n)),e}function eae(t){const e=ws(t,r=>!ht(r,lu)),n=st(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:On.MISSING_PATTERN,tokenTypes:[r]})),i=c1(t,e);return{errors:n,valid:i}}function tae(t){const e=ws(t,r=>{const s=r[lu];return!Sa(s)&&!Ba(s)&&!ht(s,"exec")&&!Ar(s)}),n=st(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:On.INVALID_PATTERN,tokenTypes:[r]})),i=c1(t,e);return{errors:n,valid:i}}const nae=/[^\\][$]/;function iae(t){class e extends R9{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=ws(t,r=>{const s=r.PATTERN;try{const o=f1(s),a=new e;return a.visit(o),a.found}catch{return nae.test(s.source)}});return st(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:On.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function rae(t){const e=ws(t,i=>i.PATTERN.test(""));return st(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' must not match an empty string",type:On.EMPTY_MATCH_PATTERN,tokenTypes:[i]}))}const sae=/[^\\[][\^]|^\^/;function oae(t){class e extends R9{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=ws(t,r=>{const s=r.PATTERN;try{const o=f1(s),a=new e;return a.visit(o),a.found}catch{return sae.test(s.source)}});return st(n,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:On.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function aae(t){const e=ws(t,i=>{const r=i[lu];return r instanceof RegExp&&(r.multiline||r.global)});return st(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:On.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[i]}))}function lae(t){const e=[];let n=st(t,s=>Fr(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!nr(e,a)&&a.PATTERN!==ps.NA&&(e.push(a),o.push(a)),o),[]));n=q0(n);const i=ws(n,s=>s.length>1);return st(i,s=>{const o=st(s,l=>l.name);return{message:`The same RegExp pattern ->${Ks(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:On.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function cae(t){const e=ws(t,i=>{if(!ht(i,"GROUP"))return!1;const r=i.GROUP;return r!==ps.SKIPPED&&r!==ps.NA&&!Ar(r)});return st(e,i=>({message:"Token Type: ->"+i.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:On.INVALID_GROUP_TYPE_FOUND,tokenTypes:[i]}))}function uae(t,e){const n=ws(t,r=>r.PUSH_MODE!==void 0&&!nr(e,r.PUSH_MODE));return st(n,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:On.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function hae(t){const e=[],n=Fr(t,(i,r,s)=>{const o=r.PATTERN;return o===ps.NA||(Ar(o)?i.push({str:o,idx:s,tokenType:r}):Sa(o)&&dae(o)&&i.push({str:o.source,idx:s,tokenType:r})),i},[]);return dt(t,(i,r)=>{dt(n,({str:s,idx:o,tokenType:a})=>{if(r<o&&fae(s,i.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:On.UNREACHABLE_PATTERN,tokenTypes:[i,a]})}})}),e}function fae(t,e){if(Sa(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Ba(e))return e(t,0,[],{});if(ht(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function dae(t){return uf([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function C_(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function E_(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function pae(t,e,n){const i=[];return ht(t,Fd)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Fd+`> property in its definition
`,type:On.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),ht(t,vm)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+vm+`> property in its definition
`,type:On.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),ht(t,vm)&&ht(t,Fd)&&!ht(t.modes,t.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${Fd}: <${t.defaultMode}>which does not exist
`,type:On.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),ht(t,vm)&&dt(t.modes,(r,s)=>{dt(r,(o,a)=>{if(wa(o))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:On.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(ht(o,"LONGER_ALT")){const l=jt(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];dt(l,c=>{!wa(c)&&!nr(r,c)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:On.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function Aae(t,e,n){const i=[];let r=!1;const s=q0(Hs(ni(t.modes))),o=u1(s,l=>l[lu]===ps.NA),a=yL(n);return e&&dt(o,l=>{const c=vL(l,a);if(c!==!1){const d={message:yae(l,c),type:c.issue,tokenType:l};i.push(d)}else ht(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(r=!0):P9(a,l.PATTERN)&&(r=!0)}),e&&!r&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:On.NO_LINE_BREAKS_FLAGS}),i}function mae(t){const e={},n=Dr(t);return dt(n,i=>{const r=t[i];if(jt(r))e[i]=[];else throw Error("non exhaustive match")}),e}function gL(t){const e=t.PATTERN;if(Sa(e))return!1;if(Ba(e))return!0;if(ht(e,"exec"))return!0;if(Ar(e))return!1;throw Error("non exhaustive match")}function gae(t){return Ar(t)&&t.length===1?t.charCodeAt(0):!1}const vae={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const i=t.charCodeAt(n);if(i===10)return this.lastIndex=n+1,!0;if(i===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function vL(t,e){if(ht(t,"LINE_BREAKS"))return!1;if(Sa(t.PATTERN)){try{P9(e,t.PATTERN)}catch(n){return{issue:On.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Ar(t.PATTERN))return!1;if(gL(t))return{issue:On.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function yae(t,e){if(e.issue===On.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===On.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function yL(t){return st(t,n=>Ar(n)?n.charCodeAt(0):n)}function A6(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const kd=256;let qm=[];function Dl(t){return t<kd?t:qm[t]}function xae(){if(hn(qm)){qm=new Array(65536);for(let t=0;t<65536;t++)qm[t]=t>255?255+~~(t/255):t}}function $0(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Jg(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let S_=1;const xL={};function e3(t){const e=Cae(t);Eae(e),wae(e),Sae(e),dt(e,n=>{n.isParent=n.categoryMatches.length>0})}function Cae(t){let e=Oi(t),n=t,i=!0;for(;i;){n=q0(Hs(st(n,s=>s.CATEGORIES)));const r=c1(n,e);e=e.concat(r),hn(r)?i=!1:n=r}return e}function Eae(t){dt(t,e=>{EL(e)||(xL[S_]=e,e.tokenTypeIdx=S_++),w_(e)&&!jt(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),w_(e)||(e.CATEGORIES=[]),Iae(e)||(e.categoryMatches=[]),_ae(e)||(e.categoryMatchesMap={})})}function Sae(t){dt(t,e=>{e.categoryMatches=[],dt(e.categoryMatchesMap,(n,i)=>{e.categoryMatches.push(xL[i].tokenTypeIdx)})})}function wae(t){dt(t,e=>{CL([],e)})}function CL(t,e){dt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),dt(e.CATEGORIES,n=>{const i=t.concat(e);nr(i,n)||CL(i,n)})}function EL(t){return ht(t,"tokenTypeIdx")}function w_(t){return ht(t,"CATEGORIES")}function Iae(t){return ht(t,"categoryMatches")}function _ae(t){return ht(t,"categoryMatchesMap")}function Mae(t){return ht(t,"tokenTypeIdx")}const Tae={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,i,r){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var On;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(On||(On={}));const Nd={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Tae,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Nd);class ps{constructor(e,n=Nd){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${r}>`);const{time:a,value:l}=fL(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${r}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Lr({},Nd,n);const i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Nd.lineTerminatorsPattern)this.config.lineTerminatorsPattern=vae;else if(this.config.lineTerminatorCharacters===Nd.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),jt(e)?r={modes:{defaultMode:Oi(e)},defaultMode:Fd}:(s=!1,r=Oi(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(pae(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Aae(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},dt(r.modes,(a,l)=>{r.modes[l]=u1(a,c=>wa(c))});const o=Dr(r.modes);if(dt(r.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Zoe(a,o))}),hn(this.lexerDefinitionErrors)){e3(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=qoe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Lr({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=r.defaultMode,!hn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=st(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}dt(this.lexerDefinitionWarning,a=>{hL(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(mL?(this.chopInput=of,this.match=this.matchWithTest):(this.updateLastIndex=ei,this.match=this.matchWithExec),s&&(this.handleModes=ei),this.trackStartLines===!1&&(this.computeNewColumn=of),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ei),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=Fr(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(n.ensureOptimizations&&!hn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{joe()}),this.TRACE_INIT("toFastProperties",()=>{dL(this)})})}tokenize(e,n=this.defaultMode){if(!hn(this.lexerDefinitionErrors)){const r=st(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let i,r,s,o,a,l,c,u,d,p,A,m,g,v,C;const y=e,x=y.length;let S=0,I=0;const T=this.hasCustom?0:Math.floor(e.length/10),B=new Array(T),_=[];let R=this.trackStartLines?1:void 0,P=this.trackStartLines?1:void 0;const L=mae(this.emptyGroups),H=this.trackStartLines,N=this.config.lineTerminatorsPattern;let U=0,J=[],Y=[];const ee=[],k=[];Object.freeze(k);let j;function W(){return J}function $(q){const Te=Dl(q),Pe=Y[Te];return Pe===void 0?k:Pe}const z=q=>{if(ee.length===1&&q.tokenType.PUSH_MODE===void 0){const Te=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(q);_.push({offset:q.startOffset,line:q.startLine,column:q.startColumn,length:q.image.length,message:Te})}else{ee.pop();const Te=cf(ee);J=this.patternIdxToConfig[Te],Y=this.charCodeToPatternIdxToConfig[Te],U=J.length;const Pe=this.canModeBeOptimized[Te]&&this.config.safeMode===!1;Y&&Pe?j=$:j=W}};function ne(q){ee.push(q),Y=this.charCodeToPatternIdxToConfig[q],J=this.patternIdxToConfig[q],U=J.length,U=J.length;const Te=this.canModeBeOptimized[q]&&this.config.safeMode===!1;Y&&Te?j=$:j=W}ne.call(this,n);let pe;const ye=this.config.recoveryEnabled;for(;S<x;){l=null;const q=y.charCodeAt(S),Te=j(q),Pe=Te.length;for(i=0;i<Pe;i++){pe=Te[i];const Le=pe.pattern;c=null;const Ee=pe.short;if(Ee!==!1?q===Ee&&(l=Le):pe.isCustom===!0?(C=Le.exec(y,S,B,L),C!==null?(l=C[0],C.payload!==void 0&&(c=C.payload)):l=null):(this.updateLastIndex(Le,S),l=this.match(Le,e,S)),l!==null){if(a=pe.longerAlt,a!==void 0){const Be=a.length;for(s=0;s<Be;s++){const ce=J[a[s]],oe=ce.pattern;if(u=null,ce.isCustom===!0?(C=oe.exec(y,S,B,L),C!==null?(o=C[0],C.payload!==void 0&&(u=C.payload)):o=null):(this.updateLastIndex(oe,S),o=this.match(oe,e,S)),o&&o.length>l.length){l=o,c=u,pe=ce;break}}}break}}if(l!==null){if(d=l.length,p=pe.group,p!==void 0&&(A=pe.tokenTypeIdx,m=this.createTokenInstance(l,S,A,pe.tokenType,R,P,d),this.handlePayload(m,c),p===!1?I=this.addToken(B,I,m):L[p].push(m)),e=this.chopInput(e,d),S=S+d,P=this.computeNewColumn(P,d),H===!0&&pe.canLineTerminator===!0){let Le=0,Ee,Be;N.lastIndex=0;do Ee=N.test(l),Ee===!0&&(Be=N.lastIndex-1,Le++);while(Ee===!0);Le!==0&&(R=R+Le,P=d-Be,this.updateTokenEndLineColumnLocation(m,p,Be,Le,R,P,d))}this.handleModes(pe,z,ne,m)}else{const Le=S,Ee=R,Be=P;let ce=ye===!1;for(;ce===!1&&S<x;)for(e=this.chopInput(e,1),S++,r=0;r<U;r++){const oe=J[r],_e=oe.pattern,Ve=oe.short;if(Ve!==!1?y.charCodeAt(S)===Ve&&(ce=!0):oe.isCustom===!0?ce=_e.exec(y,S,B,L)!==null:(this.updateLastIndex(_e,S),ce=_e.exec(e)!==null),ce===!0)break}if(g=S-Le,P=this.computeNewColumn(P,g),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Le,g,Ee,Be),_.push({offset:Le,line:Ee,column:Be,length:g,message:v}),ye===!1)break}}return this.hasCustom||(B.length=I),{tokens:B,groups:L,errors:_}}handleModes(e,n,i,r){if(e.pop===!0){const s=e.push;n(r),s!==void 0&&i.call(this,s)}else e.push!==void 0&&i.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,i,r,s,o,a){let l,c;n!==void 0&&(l=i===a-1,c=l?-1:0,r===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,i,r){return{image:e,startOffset:n,tokenTypeIdx:i,tokenType:r}}createStartOnlyToken(e,n,i,r,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:i,tokenType:r}}createFullToken(e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:i,tokenType:r}}addTokenUsingPush(e,n,i){return e.push(i),n}addTokenUsingMemberAccess(e,n,i){return e[n]=i,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,i){return e.test(n)===!0?n.substring(i,e.lastIndex):null}matchWithExec(e,n){const i=e.exec(n);return i!==null?i[0]:null}}ps.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ps.NA=/NOT_APPLICABLE/;function rp(t){return SL(t)?t.LABEL:t.name}function SL(t){return Ar(t.LABEL)&&t.LABEL!==""}const Bae="parent",I_="categories",__="label",M_="group",T_="push_mode",B_="pop_mode",b_="longer_alt",R_="line_breaks",P_="start_chars_hint";function wL(t){return bae(t)}function bae(t){const e=t.pattern,n={};if(n.name=t.name,wa(e)||(n.PATTERN=e),ht(t,Bae))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return ht(t,I_)&&(n.CATEGORIES=t[I_]),e3([n]),ht(t,__)&&(n.LABEL=t[__]),ht(t,M_)&&(n.GROUP=t[M_]),ht(t,B_)&&(n.POP_MODE=t[B_]),ht(t,T_)&&(n.PUSH_MODE=t[T_]),ht(t,b_)&&(n.LONGER_ALT=t[b_]),ht(t,R_)&&(n.LINE_BREAKS=t[R_]),ht(t,P_)&&(n.START_CHARS_HINT=t[P_]),n}const cu=wL({name:"EOF",pattern:ps.NA});e3([cu]);function D9(t,e,n,i,r,s,o,a){return{image:e,startOffset:n,endOffset:i,startLine:r,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Rae(t,e){return $0(t,e)}const IL={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:i}){return`Expecting ${SL(t)?`--> ${rp(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:i,ruleName:r}){const s="Expecting: ",a=`
but found: '`+Ks(e).image+"'";if(i)return s+i+a;{const l=Fr(t,(p,A)=>p.concat(A),[]),c=st(l,p=>`[${st(p,A=>rp(A)).join(", ")}]`),d=`one of these possible Token sequences:
${st(c,(p,A)=>`  ${A+1}. ${p}`).join(`
`)}`;return s+d+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:i}){const r="Expecting: ",o=`
but found: '`+Ks(e).image+"'";if(n)return r+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${st(t,c=>`[${st(c,u=>rp(u)).join(",")}]`).join(" ,")}>`;return r+l+o}}};Object.freeze(IL);const Pae={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Hc={buildDuplicateFoundError(t,e){function n(u){return u instanceof Bn?u.terminalType.name:u instanceof kr?u.nonTerminalName:""}const i=t.name,r=Ks(e),s=r.idx,o=vo(r),a=n(r),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=st(t.prefixPath,r=>rp(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=st(t.prefixPath,r=>rp(r)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(t){let e=vo(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=st(t.leftRecursionPath,s=>s.name),i=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Mf?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function Dae(t,e){const n=new Lae(t,e);return n.resolveRefs(),n.errors}class Lae extends Tf{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){dt(ni(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:i,type:$i.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class Fae extends h1{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Oi(this.path.ruleStack).reverse(),this.occurrenceStack=Oi(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,i){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=n.concat(i);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){hn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class kae extends Fae{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,i){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const r=n.concat(i),s=new mr({definition:r});this.possibleTokTypes=Z0(s),this.found=!0}}}class d1 extends h1{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Nae extends d1{walkMany(e,n,i){if(e.idx===this.occurrence){const r=Ks(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Bn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(e,n,i)}}class D_ extends d1{walkManySep(e,n,i){if(e.idx===this.occurrence){const r=Ks(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Bn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(e,n,i)}}class Oae extends d1{walkAtLeastOne(e,n,i){if(e.idx===this.occurrence){const r=Ks(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Bn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(e,n,i)}}class L_ extends d1{walkAtLeastOneSep(e,n,i){if(e.idx===this.occurrence){const r=Ks(n.concat(i));this.result.isEndOfRule=r===void 0,r instanceof Bn&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(e,n,i)}}function z8(t,e,n=[]){n=Oi(n);let i=[],r=0;function s(a){return a.concat(Ci(t,r+1))}function o(a){const l=z8(s(a),e,n);return i.concat(l)}for(;n.length<e&&r<t.length;){const a=t[r];if(a instanceof mr)return o(a.definition);if(a instanceof kr)return o(a.definition);if(a instanceof pr)i=o(a.definition);else if(a instanceof Go){const l=a.definition.concat([new ii({definition:a.definition})]);return o(l)}else if(a instanceof Qo){const l=[new mr({definition:a.definition}),new ii({definition:[new Bn({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof no){const l=a.definition.concat([new ii({definition:[new Bn({terminalType:a.separator})].concat(a.definition)})]);i=o(l)}else if(a instanceof ii){const l=a.definition.concat([new ii({definition:a.definition})]);i=o(l)}else{if(a instanceof io)return dt(a.definition,l=>{hn(l.definition)===!1&&(i=o(l.definition))}),i;if(a instanceof Bn)n.push(a.terminalType);else throw Error("non exhaustive match")}r++}return i.push({partialPath:n,suffixDef:Ci(t,r)}),i}function _L(t,e,n,i){const r="EXIT_NONE_TERMINAL",s=[r],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-i-1,u=[],d=[];for(d.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!hn(d);){const p=d.pop();if(p===o){a&&cf(d).idx<=c&&d.pop();continue}const A=p.def,m=p.idx,g=p.ruleStack,v=p.occurrenceStack;if(hn(A))continue;const C=A[0];if(C===r){const y={idx:m,def:Ci(A),ruleStack:n0(g),occurrenceStack:n0(v)};d.push(y)}else if(C instanceof Bn)if(m<l-1){const y=m+1,x=e[y];if(n(x,C.terminalType)){const S={idx:y,def:Ci(A),ruleStack:g,occurrenceStack:v};d.push(S)}}else if(m===l-1)u.push({nextTokenType:C.terminalType,nextTokenOccurrence:C.idx,ruleStack:g,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(C instanceof kr){const y=Oi(g);y.push(C.nonTerminalName);const x=Oi(v);x.push(C.idx);const S={idx:m,def:C.definition.concat(s,Ci(A)),ruleStack:y,occurrenceStack:x};d.push(S)}else if(C instanceof pr){const y={idx:m,def:Ci(A),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x={idx:m,def:C.definition.concat(Ci(A)),ruleStack:g,occurrenceStack:v};d.push(x)}else if(C instanceof Go){const y=new ii({definition:C.definition,idx:C.idx}),x=C.definition.concat([y],Ci(A)),S={idx:m,def:x,ruleStack:g,occurrenceStack:v};d.push(S)}else if(C instanceof Qo){const y=new Bn({terminalType:C.separator}),x=new ii({definition:[y].concat(C.definition),idx:C.idx}),S=C.definition.concat([x],Ci(A)),I={idx:m,def:S,ruleStack:g,occurrenceStack:v};d.push(I)}else if(C instanceof no){const y={idx:m,def:Ci(A),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x=new Bn({terminalType:C.separator}),S=new ii({definition:[x].concat(C.definition),idx:C.idx}),I=C.definition.concat([S],Ci(A)),T={idx:m,def:I,ruleStack:g,occurrenceStack:v};d.push(T)}else if(C instanceof ii){const y={idx:m,def:Ci(A),ruleStack:g,occurrenceStack:v};d.push(y),d.push(o);const x=new ii({definition:C.definition,idx:C.idx}),S=C.definition.concat([x],Ci(A)),I={idx:m,def:S,ruleStack:g,occurrenceStack:v};d.push(I)}else if(C instanceof io)for(let y=C.definition.length-1;y>=0;y--){const x=C.definition[y],S={idx:m,def:x.definition.concat(Ci(A)),ruleStack:g,occurrenceStack:v};d.push(S),d.push(o)}else if(C instanceof mr)d.push({idx:m,def:C.definition.concat(Ci(A)),ruleStack:g,occurrenceStack:v});else if(C instanceof Mf)d.push(Uae(C,m,g,v));else throw Error("non exhaustive match")}return u}function Uae(t,e,n,i){const r=Oi(n);r.push(t.name);const s=Oi(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var kn;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(kn||(kn={}));function ML(t){if(t instanceof pr||t==="Option")return kn.OPTION;if(t instanceof ii||t==="Repetition")return kn.REPETITION;if(t instanceof Go||t==="RepetitionMandatory")return kn.REPETITION_MANDATORY;if(t instanceof Qo||t==="RepetitionMandatoryWithSeparator")return kn.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof no||t==="RepetitionWithSeparator")return kn.REPETITION_WITH_SEPARATOR;if(t instanceof io||t==="Alternation")return kn.ALTERNATION;throw Error("non exhaustive match")}function Gae(t,e,n,i,r,s){const o=L9(t,e,n),a=bL(o)?Jg:$0;return s(o,i,a,r)}function Qae(t,e,n,i,r,s){const o=F9(t,e,r,n),a=bL(o)?Jg:$0;return s(o[0],a,i)}function Hae(t,e,n,i){const r=t.length,s=zs(t,o=>zs(o,a=>a.length===1));if(e)return function(o){const a=st(o,l=>l.GATE);for(let l=0;l<r;l++){const c=t[l],u=c.length,d=a[l];if(!(d!==void 0&&d.call(this)===!1))e:for(let p=0;p<u;p++){const A=c[p],m=A.length;for(let g=0;g<m;g++){const v=this.LA(g+1);if(n(v,A[g])===!1)continue e}return l}}};if(s&&!i){const o=st(t,l=>Hs(l)),a=Fr(o,(l,c,u)=>(dt(c,d=>{ht(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=u),dt(d.categoryMatches,p=>{ht(l,p)||(l[p]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<r;o++){const a=t[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],d=u.length;for(let p=0;p<d;p++){const A=this.LA(p+1);if(n(A,u[p])===!1)continue e}return o}}}}function zae(t,e,n){const i=zs(t,s=>s.length===1),r=t.length;if(i&&!n){const s=Hs(t);if(s.length===1&&hn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=Fr(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,dt(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<r;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class Vae extends h1{constructor(e,n,i){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=i}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,i,r){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=i.concat(r),!0):!1}walkOption(e,n,i){this.checkIsTarget(e,kn.OPTION,n,i)||super.walkOption(e,n,i)}walkAtLeastOne(e,n,i){this.checkIsTarget(e,kn.REPETITION_MANDATORY,n,i)||super.walkOption(e,n,i)}walkAtLeastOneSep(e,n,i){this.checkIsTarget(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}walkMany(e,n,i){this.checkIsTarget(e,kn.REPETITION,n,i)||super.walkOption(e,n,i)}walkManySep(e,n,i){this.checkIsTarget(e,kn.REPETITION_WITH_SEPARATOR,n,i)||super.walkOption(e,n,i)}}class TL extends Tf{constructor(e,n,i){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=i,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,kn.OPTION)}visitRepetition(e){this.checkIsTarget(e,kn.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,kn.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,kn.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,kn.ALTERNATION)}}function F_(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function m6(t){let e=[""];for(let n=0;n<t.length;n++){const i=t[n],r=[];for(let s=0;s<e.length;s++){const o=e[s];r.push(o+"_"+i.tokenTypeIdx);for(let a=0;a<i.categoryMatches.length;a++){const l="_"+i.categoryMatches[a];r.push(o+l)}}e=r}return e}function Wae(t,e,n){for(let i=0;i<t.length;i++){if(i===n)continue;const r=t[i];for(let s=0;s<e.length;s++){const o=e[s];if(r[o]===!0)return!1}}return!0}function BL(t,e){const n=st(t,o=>z8([o],1)),i=F_(n.length),r=st(n,o=>{const a={};return dt(o,l=>{const c=m6(l.partialPath);dt(c,u=>{a[u]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=F_(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const d=c[u].partialPath,p=c[u].suffixDef,A=m6(d);if(Wae(r,A,l)||hn(p)||d.length===e){const g=i[l];if(V8(g,d)===!1){g.push(d);for(let v=0;v<A.length;v++){const C=A[v];r[l][C]=!0}}}else{const g=z8(p,o+1,d);s[l]=s[l].concat(g),dt(g,v=>{const C=m6(v.partialPath);dt(C,y=>{r[l][y]=!0})})}}}}return i}function L9(t,e,n,i){const r=new TL(t,kn.ALTERNATION,i);return e.accept(r),BL(r.result,n)}function F9(t,e,n,i){const r=new TL(t,n);e.accept(r);const s=r.result,a=new Vae(e,t,n).startWalking(),l=new mr({definition:s}),c=new mr({definition:a});return BL([l,c],i)}function V8(t,e){e:for(let n=0;n<t.length;n++){const i=t[n];if(i.length===e.length){for(let r=0;r<i.length;r++){const s=e[r],o=i[r];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Jae(t,e){return t.length<e.length&&zs(t,(n,i)=>{const r=e[i];return n===r||r.categoryMatchesMap[n.tokenTypeIdx]})}function bL(t){return zs(t,e=>zs(e,n=>zs(n,i=>hn(i.categoryMatches))))}function jae(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return st(e,n=>Object.assign({type:$i.CUSTOM_LOOKAHEAD_VALIDATION},n))}function Kae(t,e,n,i){const r=ds(t,l=>Yae(l,n)),s=ale(t,e,n),o=ds(t,l=>ile(l,n)),a=ds(t,l=>Zae(l,t,i,n));return r.concat(s,o,a)}function Yae(t,e){const n=new qae;t.accept(n);const i=n.allProductions,r=soe(i,Xae),s=to(r,a=>a.length>1);return st(ni(s),a=>{const l=Ks(a),c=e.buildDuplicateFoundError(t,a),u=vo(l),d={message:c,type:$i.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},p=RL(l);return p&&(d.parameter=p),d})}function Xae(t){return`${vo(t)}_#_${t.idx}_#_${RL(t)}`}function RL(t){return t instanceof Bn?t.terminalType.name:t instanceof kr?t.nonTerminalName:""}class qae extends Tf{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Zae(t,e,n,i){const r=[];if(Fr(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:o,type:$i.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function $ae(t,e,n){const i=[];let r;return nr(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,i.push({message:r,type:$i.INVALID_RULE_OVERRIDE,ruleName:t})),i}function PL(t,e,n,i=[]){const r=[],s=Zm(e.definition);if(hn(s))return[];{const o=t.name;nr(s,t)&&r.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:$i.LEFT_RECURSION,ruleName:o});const l=c1(s,i.concat([t])),c=ds(l,u=>{const d=Oi(i);return d.push(u),PL(t,u,n,d)});return r.concat(c)}}function Zm(t){let e=[];if(hn(t))return e;const n=Ks(t);if(n instanceof kr)e.push(n.referencedRule);else if(n instanceof mr||n instanceof pr||n instanceof Go||n instanceof Qo||n instanceof no||n instanceof ii)e=e.concat(Zm(n.definition));else if(n instanceof io)e=Hs(st(n.definition,s=>Zm(s.definition)));else if(!(n instanceof Bn))throw Error("non exhaustive match");const i=Hg(n),r=t.length>1;if(i&&r){const s=Ci(t);return e.concat(Zm(s))}else return e}class k9 extends Tf{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function ele(t,e){const n=new k9;t.accept(n);const i=n.alternations;return ds(i,s=>{const o=n0(s.definition);return ds(o,(a,l)=>{const c=_L([a],[],$0,1);return hn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:$i.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function tle(t,e,n){const i=new k9;t.accept(i);let r=i.alternations;return r=u1(r,o=>o.ignoreAmbiguities===!0),ds(r,o=>{const a=o.idx,l=o.maxLookahead||e,c=L9(a,t,l,o),u=sle(c,o,t,n),d=ole(c,o,t,n);return u.concat(d)})}class nle extends Tf{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function ile(t,e){const n=new k9;t.accept(n);const i=n.alternations;return ds(i,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:$i.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function rle(t,e,n){const i=[];return dt(t,r=>{const s=new nle;r.accept(s);const o=s.allProductions;dt(o,a=>{const l=ML(a),c=a.maxLookahead||e,u=a.idx,p=F9(u,r,l,c)[0];if(hn(Hs(p))){const A=n.buildEmptyRepetitionError({topLevelRule:r,repetition:a});i.push({message:A,type:$i.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),i}function sle(t,e,n,i){const r=[],s=Fr(t,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||dt(l,u=>{const d=[c];dt(t,(p,A)=>{c!==A&&V8(p,u)&&e.definition[A].ignoreAmbiguities!==!0&&d.push(A)}),d.length>1&&!V8(r,u)&&(r.push(u),a.push({alts:d,path:u}))}),a),[]);return st(s,a=>{const l=st(a.alts,u=>u+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:$i.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function ole(t,e,n,i){const r=Fr(t,(o,a,l)=>{const c=st(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return q0(ds(r,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=ws(r,p=>e.definition[p.idx].ignoreAmbiguities!==!0&&p.idx<l&&Jae(p.path,c));return st(u,p=>{const A=[p.idx+1,l+1],m=e.idx===0?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:A,prefixPath:p.path}),type:$i.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:m,alternatives:A}})}))}function ale(t,e,n){const i=[],r=st(e,s=>s.name);return dt(t,s=>{const o=s.name;if(nr(r,o)){const a=n.buildNamespaceConflictError(s);i.push({message:a,type:$i.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),i}function lle(t){const e=B9(t,{errMsgProvider:Pae}),n={};return dt(t.rules,i=>{n[i.name]=i}),Dae(n,e.errMsgProvider)}function cle(t){return t=B9(t,{errMsgProvider:Hc}),Kae(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const DL="MismatchedTokenException",LL="NoViableAltException",FL="EarlyExitException",kL="NotAllInputParsedException",NL=[DL,LL,FL,kL];Object.freeze(NL);function jg(t){return nr(NL,t.name)}class p1 extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class OL extends p1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=DL}}class ule extends p1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=LL}}class hle extends p1{constructor(e,n){super(e,n),this.name=kL}}class fle extends p1{constructor(e,n,i){super(e,n),this.previousToken=i,this.name=FL}}const g6={},UL="InRuleRecoveryException";class dle extends Error{constructor(e){super(e),this.name=UL}}class ple{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=ht(e,"recoveryEnabled")?e.recoveryEnabled:Ll.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ale)}getTokenToInsert(e){const n=D9(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,i,r){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const d=()=>{const p=this.LA(0),A=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:p,ruleName:this.getCurrRuleFullName()}),m=new OL(A,c,this.LA(0));m.resyncedTokens=n0(a),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(u,r)){d();return}else if(i.call(this)){d(),e.apply(this,n);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,i){return!(i===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const i=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(i)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new dle("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||hn(n))return!1;const i=this.LA(1);return uf(n,s=>this.tokenMatcher(i,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(n);return nr(i,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),i=2;for(;;){const r=uf(e,s=>Rae(n,s));if(r!==void 0)return r;n=this.LA(i),i++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return g6;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(i)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return st(e,(i,r)=>r===0?g6:{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:n[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=st(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return Hs(e)}getFollowSetFromFollowKey(e){if(e===g6)return[cu];const n=e.ruleName+e.idxInCallingRule+pL+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,cu)||n.push(e),n}reSyncTo(e){const n=[];let i=this.LA(1);for(;this.tokenMatcher(i,e)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,n);return n0(n)}attemptInRepetitionRecovery(e,n,i,r,s,o,a){}getCurrentGrammarPath(e,n){const i=this.getHumanReadableRuleStack(),r=Oi(this.RULE_OCCURRENCE_STACK);return{ruleStack:i,occurrenceStack:r,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return st(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function Ale(t,e,n,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let l=this.firstAfterRepMap[a];if(l===void 0){const p=this.getCurrRuleFullName(),A=this.getGAstProductions()[p];l=new s(A,r).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&c===void 0&&(c=cu,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(t,e,n,c)}const mle=4,Kl=8,GL=1<<Kl,QL=2<<Kl,W8=3<<Kl,J8=4<<Kl,j8=5<<Kl,$m=6<<Kl;function v6(t,e,n){return n|e|t}class gle{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:Ll.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(hn(n)){const i=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...i,...r,...s]}return n}validateNoLeftRecursion(e){return ds(e,n=>PL(n,n,Hc))}validateEmptyOrAlternatives(e){return ds(e,n=>ele(n,Hc))}validateAmbiguousAlternationAlternatives(e,n){return ds(e,i=>tle(i,n,Hc))}validateSomeNonEmptyLookaheadPath(e,n){return rle(e,n,Hc)}buildLookaheadForAlternation(e){return Gae(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Hae)}buildLookaheadForOptional(e){return Qae(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,ML(e.prodType),zae)}}class vle{initLooksAhead(e){this.dynamicTokensEnabled=ht(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Ll.dynamicTokensEnabled,this.maxLookahead=ht(e,"maxLookahead")?e.maxLookahead:Ll.maxLookahead,this.lookaheadStrategy=ht(e,"lookaheadStrategy")?e.lookaheadStrategy:new gle({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){dt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:i,repetition:r,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=xle(n);dt(i,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${vo(c)}${u}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=v6(this.fullRuleNameToShort[n.name],GL,c.idx);this.setLaFuncCache(p,d)})}),dt(r,c=>{this.computeLookaheadFunc(n,c.idx,W8,"Repetition",c.maxLookahead,vo(c))}),dt(s,c=>{this.computeLookaheadFunc(n,c.idx,QL,"Option",c.maxLookahead,vo(c))}),dt(o,c=>{this.computeLookaheadFunc(n,c.idx,J8,"RepetitionMandatory",c.maxLookahead,vo(c))}),dt(a,c=>{this.computeLookaheadFunc(n,c.idx,$m,"RepetitionMandatoryWithSeparator",c.maxLookahead,vo(c))}),dt(l,c=>{this.computeLookaheadFunc(n,c.idx,j8,"RepetitionWithSeparator",c.maxLookahead,vo(c))})})})}computeLookaheadFunc(e,n,i,r,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),l=v6(this.fullRuleNameToShort[e.name],i,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const i=this.getLastExplicitRuleShortName();return v6(i,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class yle extends Tf{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const ym=new yle;function xle(t){ym.reset(),t.accept(ym);const e=ym.dslMethods;return ym.reset(),e}function k_(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function N_(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Cle(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function Ele(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const Sle="name";function HL(t,e){Object.defineProperty(t,Sle,{enumerable:!1,configurable:!0,writable:!1,value:e})}function wle(t,e){const n=Dr(t),i=n.length;for(let r=0;r<i;r++){const s=n[r],o=t[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function Ile(t,e){const n=function(){};HL(n,t+"BaseSemantics");const i={visit:function(r,s){if(jt(r)&&(r=r[0]),!wa(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=Mle(this,e);if(!hn(r)){const s=st(r,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=e,n}function _le(t,e,n){const i=function(){};HL(i,t+"BaseSemanticsWithDefaults");const r=Object.create(n.prototype);return dt(e,s=>{r[s]=wle}),i.prototype=r,i.prototype.constructor=i,i}var K8;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(K8||(K8={}));function Mle(t,e){return Tle(t,e)}function Tle(t,e){const n=ws(e,r=>Ba(t[r])===!1),i=st(n,r=>({msg:`Missing visitor method: <${r}> on ${t.constructor.name} CST Visitor.`,type:K8.MISSING_METHOD,methodName:r}));return q0(i)}class Ble{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=ht(e,"nodeLocationTracking")?e.nodeLocationTracking:Ll.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ei,this.cstFinallyStateUpdate=ei,this.cstPostTerminal=ei,this.cstPostNonTerminal=ei,this.cstPostRule=ei;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=N_,this.setNodeLocationFromNode=N_,this.cstPostRule=ei,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ei,this.setNodeLocationFromNode=ei,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=k_,this.setNodeLocationFromNode=k_,this.cstPostRule=ei,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ei,this.setNodeLocationFromNode=ei,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ei,this.setNodeLocationFromNode=ei,this.cstPostRule=ei,this.setInitialNodeLocation=ei;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?(i.endOffset=n.endOffset,i.endLine=n.endLine,i.endColumn=n.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),i=e.location;i.startOffset<=n.startOffset?i.endOffset=n.endOffset:i.startOffset=NaN}cstPostTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];Cle(i,n,e),this.setNodeLocationFromToken(i.location,n)}cstPostNonTerminal(e,n){const i=this.CST_STACK[this.CST_STACK.length-1];Ele(i,n,e),this.setNodeLocationFromNode(i.location,e.location)}getBaseCstVisitorConstructor(){if(wa(this.baseCstVisitorConstructor)){const e=Ile(this.className,Dr(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(wa(this.baseCstVisitorWithDefaultsConstructor)){const e=_le(this.className,Dr(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class ble{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Yg}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?Yg:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Rle{ACTION(e){return e.call(this)}consume(e,n,i){return this.consumeInternal(n,e,i)}subrule(e,n,i){return this.subruleInternal(n,e,i)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,i=Xg){if(nr(this.definedRulesNames,e)){const o={message:Hc.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:$i.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const r=this.defineRule(e,n,i);return this[e]=r,r}OVERRIDE_RULE(e,n,i=Xg){const r=$ae(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,n,i);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const i=this.saveRecogState();try{return e.apply(this,n),!0}catch(r){if(jg(r))return!1;throw r}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Doe(ni(this.gastProductionsCache))}}class Ple{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Jg,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},ht(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(jt(e)){if(hn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(jt(e))this.tokensMap=Fr(e,(s,o)=>(s[o.name]=o,s),{});else if(ht(e,"modes")&&zs(Hs(ni(e.modes)),Mae)){const s=Hs(ni(e.modes)),o=b9(s);this.tokensMap=Fr(o,(a,l)=>(a[l.name]=l,a),{})}else if(Es(e))this.tokensMap=Oi(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=cu;const i=ht(e,"modes")?Hs(ni(e.modes)):ni(e),r=zs(i,s=>hn(s.categoryMatches));this.tokenMatcher=r?Jg:$0,e3(ni(this.tokensMap))}defineRule(e,n,i){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=ht(i,"resyncEnabled")?i.resyncEnabled:Xg.resyncEnabled,s=ht(i,"recoveryValueFunc")?i.recoveryValueFunc:Xg.recoveryValueFunc,o=this.ruleShortNameIdx<<mle+Kl;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,r,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u)}catch(d){return this.invokeRuleCatch(d,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,i){const r=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(jg(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return i(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(r)return this.moveToTerminatedState(),i(e);throw o}}else throw e}optionInternal(e,n){const i=this.getKeyForAutomaticLookahead(QL,n);return this.optionInternalLogic(e,n,i)}optionInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=e;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const i=this.getKeyForAutomaticLookahead(J8,e);return this.atLeastOneInternalLogic(e,n,i)}atLeastOneInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=n;if(r.call(this)===!0){let o=this.doSingleRepetition(s);for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,kn.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],r,J8,e,Oae)}atLeastOneSepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead($m,e);this.atLeastOneSepFirstInternalLogic(e,n,i)}atLeastOneSepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,L_],a,$m,e,L_)}else throw this.raiseEarlyExitException(e,kn.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const i=this.getKeyForAutomaticLookahead(W8,e);return this.manyInternalLogic(e,n,i)}manyInternalLogic(e,n,i){let r=this.getLaFuncFromCache(i),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=r;r=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],r,W8,e,Nae,o)}manySepFirstInternal(e,n){const i=this.getKeyForAutomaticLookahead(j8,e);this.manySepFirstInternalLogic(e,n,i)}manySepFirstInternalLogic(e,n,i){const r=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,D_],a,j8,e,D_)}}repetitionSepSecondInternal(e,n,i,r,s){for(;i();)this.CONSUME(n),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,i,r,s],i,$m,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const i=this.getKeyForAutomaticLookahead(GL,n),r=jt(e)?e:e.DEF,o=this.getLaFuncFromCache(i).call(this,r);if(o!==void 0)return r[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new hle(n,e))}}subruleInternal(e,n,i){let r;try{const s=i!==void 0?i.ARGS:void 0;return this.subruleIdx=n,r=e.apply(this,s),this.cstPostNonTerminal(r,i!==void 0&&i.LABEL!==void 0?i.LABEL:e.ruleName),r}catch(s){throw this.subruleInternalError(s,i,e.ruleName)}}subruleInternalError(e,n,i){throw jg(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:i),delete e.partialCstResult),e}consumeInternal(e,n,i){let r;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),r=s):this.consumeInternalError(e,s,i)}catch(s){r=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:e.name,r),r}consumeInternalError(e,n,i){let r;const s=this.LA(0);throw i!==void 0&&i.ERR_MSG?r=i.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new OL(r,n,s))}consumeInternalRecovery(e,n,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,r)}catch(s){throw s.name===UL?i:s}}else throw i}saveRecogState(){const e=this.errors,n=Oi(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),cu)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Dle{initErrorHandler(e){this._errors=[],this.errorMessageProvider=ht(e,"errorMessageProvider")?e.errorMessageProvider:Ll.errorMessageProvider}SAVE_ERROR(e){if(jg(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Oi(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Oi(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,i){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],a=F9(e,s,n,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:r});throw this.SAVE_ERROR(new fle(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=L9(e,r,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ule(l,this.LA(1),a))}}class Lle{initContentAssist(){}computeContentAssist(e,n){const i=this.gastProductionsCache[e];if(wa(i))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return _L([i],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=Ks(e.ruleStack),r=this.getGAstProductions()[n];return new kae(r,e).startWalking()}}const A1={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(A1);const O_=!0,U_=Math.pow(2,Kl)-1,zL=wL({name:"RECORDING_PHASE_TOKEN",pattern:ps.NA});e3([zL]);const VL=D9(zL,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(VL);const Fle={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class kle{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(i,r){return this.consumeInternalRecord(i,e,r)},this[`SUBRULE${n}`]=function(i,r){return this.subruleInternalRecord(i,e,r)},this[`OPTION${n}`]=function(i){return this.optionInternalRecord(i,e)},this[`OR${n}`]=function(i){return this.orInternalRecord(i,e)},this[`MANY${n}`]=function(i){this.manyInternalRecord(e,i)},this[`MANY_SEP${n}`]=function(i){this.manySepFirstInternalRecord(e,i)},this[`AT_LEAST_ONE${n}`]=function(i){this.atLeastOneInternalRecord(e,i)},this[`AT_LEAST_ONE_SEP${n}`]=function(i){this.atLeastOneSepFirstInternalRecord(e,i)}}this.consume=function(e,n,i){return this.consumeInternalRecord(n,e,i)},this.subrule=function(e,n,i){return this.subruleInternalRecord(n,e,i)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const i=n>0?n:"";delete e[`CONSUME${i}`],delete e[`SUBRULE${i}`],delete e[`OPTION${i}`],delete e[`OR${i}`],delete e[`MANY${i}`],delete e[`MANY_SEP${i}`],delete e[`AT_LEAST_ONE${i}`],delete e[`AT_LEAST_ONE_SEP${i}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return Yg}topLevelRuleRecord(e,n){try{const i=new Mf({definition:[],name:e});return i.name=e,this.recordingProdStack.push(i),n.call(this),this.recordingProdStack.pop(),i}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}}optionInternalRecord(e,n){return Id.call(this,pr,e,n)}atLeastOneInternalRecord(e,n){Id.call(this,Go,n,e)}atLeastOneSepFirstInternalRecord(e,n){Id.call(this,Qo,n,e,O_)}manyInternalRecord(e,n){Id.call(this,ii,n,e)}manySepFirstInternalRecord(e,n){Id.call(this,no,n,e,O_)}orInternalRecord(e,n){return Nle.call(this,e,n)}subruleInternalRecord(e,n,i){if(Kg(n),!e||ht(e,"ruleName")===!1){const a=new Error(`<SUBRULE${G_(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const r=cf(this.recordingProdStack),s=e.ruleName,o=new kr({idx:n,nonTerminalName:s,label:i==null?void 0:i.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?Fle:A1}consumeInternalRecord(e,n,i){if(Kg(n),!EL(e)){const o=new Error(`<CONSUME${G_(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=cf(this.recordingProdStack),s=new Bn({idx:n,terminalType:e,label:i==null?void 0:i.LABEL});return r.definition.push(s),VL}}function Id(t,e,n,i=!1){Kg(n);const r=cf(this.recordingProdStack),s=Ba(e)?e:e.DEF,o=new t({definition:[],idx:n});return i&&(o.separator=e.SEP),ht(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),A1}function Nle(t,e){Kg(e);const n=cf(this.recordingProdStack),i=jt(t)===!1,r=i===!1?t:t.DEF,s=new io({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});ht(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=uL(r,a=>Ba(a.GATE));return s.hasPredicates=o,n.definition.push(s),dt(r,a=>{const l=new mr({definition:[]});s.definition.push(l),ht(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:ht(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),A1}function G_(t){return t===0?"":`${t}`}function Kg(t){if(t<0||t>U_){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${U_+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class Ole{initPerformanceTracer(e){if(ht(e,"traceInitPerf")){const n=e.traceInitPerf,i=typeof n=="number";this.traceInitMaxIdent=i?n:1/0,this.traceInitPerf=i?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=Ll.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${e}>`);const{time:r,value:s}=fL(n),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${i}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}else return n()}}function Ule(t,e){e.forEach(n=>{const i=n.prototype;Object.getOwnPropertyNames(i).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(i,r);s&&(s.get||s.set)?Object.defineProperty(t.prototype,r,s):t.prototype[r]=n.prototype[r]})})}const Yg=D9(cu,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Yg);const Ll=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:IL,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Xg=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var $i;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})($i||($i={}));class m1{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{dL(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),dt(this.definedRulesNames,r=>{const o=this[r].originalGrammarAction;let a;this.TRACE_INIT(`${r} Rule`,()=>{a=this.topLevelRuleRecord(r,o)}),this.gastProductionsCache[r]=a})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=lle({rules:ni(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(hn(i)&&this.skipValidations===!1){const r=cle({rules:ni(this.gastProductionsCache),tokenTypes:ni(this.tokensMap),errMsgProvider:Hc,grammarName:n}),s=jae({lookaheadStrategy:this.lookaheadStrategy,rules:ni(this.gastProductionsCache),tokenTypes:ni(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(r,s)}}),hn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=Goe(ni(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:ni(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ni(this.gastProductionsCache))})),!m1.DEFER_DEFINITION_ERRORS_HANDLING&&!hn(this.definitionErrors))throw e=st(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const i=this;if(i.initErrorHandler(n),i.initLexerAdapter(),i.initLooksAhead(n),i.initRecognizerEngine(e,n),i.initRecoverable(n),i.initTreeBuilder(n),i.initContentAssist(),i.initGastRecorder(n),i.initPerformanceTracer(n),ht(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=ht(n,"skipValidations")?n.skipValidations:Ll.skipValidations}}m1.DEFER_DEFINITION_ERRORS_HANDLING=!1;Ule(m1,[ple,vle,Ble,ble,Ple,Rle,Dle,Lle,kle,Ole]);class Gle{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const i=this.workersResolve[e];if(i&&i(n),this.queue.length){const{resolve:r,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(i=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(e,n)):this.queue.push({resolve:i,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class Qle extends iu{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=wn}}const y6=new WeakMap;let x6=0,C6;const Od=class extends Mi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Gle,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new oi(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new oi(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=Od.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Od.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Od.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Od.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),x6>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),x6++}return this.transcoderPending}load(t,e,n,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const r=new oi(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials),r.load(t,s=>{if(y6.has(s))return y6.get(s).promise.then(e).catch(i);this._createTexture(s).then(o=>e?e(o):null).catch(i)},n,i)}_createTextureFrom(t,e){const{mipmaps:n,width:i,height:r,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=t;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new Qle(n,i,r,e.layerCount,s,gi):new iu(n,i,r,s,gi);return u.minFilter=n.length===1?sn:ys,u.magFilter=sn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===x8?"srgb":"srgb-linear":u.encoding=l===x8?3001:3e3,u.premultiplyAlpha=!!(c&vY),u}async _createTexture(t,e={}){const n=EY(new Uint8Array(t));if(n.vkFormat!==NP)return zle(n);const i=e,r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])).then(s=>this._createTextureFrom(s.data,n));return y6.set(t,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),x6--,this}};let g1=Od;we(g1,"BasisFormat",{ETC1S:0,UASTC_4x4:1});we(g1,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});we(g1,"EngineFormat",{RGBAFormat:Nn,RGBA_ASTC_4x4_Format:Gp,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Up,RGBA_PVRTC_4BPPV1_Format:Np,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:R2,RGB_ETC2_Format:Op,RGB_PVRTC_4BPPV1_Format:kp,RGB_S3TC_DXT1_Format:Lh});we(g1,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(m){const g=m.data;switch(g.type){case"init":t=g.config,o(g.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:v,height:C,hasAlpha:y,mipmaps:x,format:S,dfdTransferFn:I,dfdFlags:T}=a(g.buffer),B=[];for(let _=0;_<x.length;++_)B.push(x[_].data.buffer);self.postMessage({type:"transcode",id:g.id,width:v,height:C,hasAlpha:y,mipmaps:x,format:S,dfdTransferFn:I,dfdFlags:T},B)}catch(v){console.error(v),self.postMessage({type:"error",id:g.id,error:v.message})}});break}});function o(m){e=new Promise(g=>{n={wasmBinary:m,onRuntimeInitialized:g},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(m){const g=new n.KTX2File(new Uint8Array(m));function v(){g.close(),g.delete()}if(!g.isValid())throw v(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const C=g.isUASTC()?s.UASTC_4x4:s.ETC1S,y=g.getWidth(),x=g.getHeight(),S=g.getLayers()||1,I=g.getLevels(),T=g.getHasAlpha(),B=g.getDFDTransferFunc(),_=g.getDFDFlags(),{transcoderFormat:R,engineFormat:P}=d(C,y,x,T);if(!y||!x||!I)throw v(),new Error("THREE.KTX2Loader:	Invalid texture");if(!g.startTranscoding())throw v(),new Error("THREE.KTX2Loader: .startTranscoding failed");const L=[];for(let H=0;H<I;H++){const N=[];let U,J;for(let Y=0;Y<S;Y++){const ee=g.getImageLevelInfo(H,Y,0);U=ee.origWidth<4?ee.origWidth:ee.width,J=ee.origHeight<4?ee.origHeight:ee.height;const k=new Uint8Array(g.getImageTranscodedSizeInBytes(H,Y,0,R));if(!g.transcodeImage(k,H,Y,0,R,0,-1,-1))throw v(),new Error("THREE.KTX2Loader: .transcodeImage failed.");N.push(k)}L.push({data:A(N),width:U,height:J})}return v(),{width:y,height:x,hasAlpha:T,mipmaps:L,format:P,dfdTransferFn:B,dfdFlags:_}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(m,g){return m.priorityETC1S-g.priorityETC1S}),u=l.sort(function(m,g){return m.priorityUASTC-g.priorityUASTC});function d(m,g,v,C){let y,x;const S=m===s.ETC1S?c:u;for(let I=0;I<S.length;I++){const T=S[I];if(t[T.if]&&T.basisFormat.includes(m)&&!(C&&T.transcoderFormat.length<2)&&!(T.needsPowerOfTwo&&!(p(g)&&p(v))))return y=T.transcoderFormat[C?1:0],x=T.engineFormat[C?1:0],{transcoderFormat:y,engineFormat:x}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),y=r.RGBA32,x=i.RGBAFormat,{transcoderFormat:y,engineFormat:x}}function p(m){return m<=2?!0:(m&m-1)===0&&m!==0}function A(m){let g=0;for(let y=0;y<m.length;y++){const x=m[y];g+=x.byteLength}const v=new Uint8Array(g);let C=0;for(let y=0;y<m.length;y++){const x=m[y];v.set(x,C),C+=x.byteLength}return v}});const Q_={[JP]:Nn,[zP]:Nn,[GP]:Nn,[s9]:Nn,[WP]:vh,[HP]:vh,[UP]:vh,[r9]:vh,[VP]:kc,[QP]:kc,[i9]:kc,[OP]:kc},E6={[JP]:ur,[zP]:Wn,[GP]:gi,[s9]:gi,[WP]:ur,[HP]:Wn,[UP]:gi,[r9]:gi,[VP]:ur,[QP]:Wn,[i9]:gi,[OP]:gi},Hle={[s9]:3001,[r9]:3001,[i9]:3001};async function zle(t){const{vkFormat:e,pixelWidth:n,pixelHeight:i,pixelDepth:r}=t;if(Q_[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===kP)o=s.levelData;else if(t.supercompressionScheme===fY)C6||(C6=new Promise(async c=>{const u=new SY;await u.init(),c(u)})),o=(await C6).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");E6[e]===ur?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):E6[e]===Wn?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=r===0?new Io(a,n,i):new dee(a,n,i,r);return l.type=E6[e],l.format=Q_[e],l.encoding=Hle[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const S6=new WeakMap,Ud=class extends Mi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,i){const r=new oi(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=new iu;return r.load(t,o=>{if(S6.has(o))return S6.get(o).promise.then(e).catch(i);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(i)},n,i),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let i=0;i<e.length;i++)n.add(e[i].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,i;const r=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,i=this.workerNextTaskID++,new Promise((l,c)=>{n._callbacks[i]={resolve:l,reject:c},n.postMessage({type:"transcode",id:i,buffers:t,taskConfig:r},t)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:d}=a,p=new iu(l,c,u,d,gi);return p.minFilter=l.length===1?sn:ys,p.magFilter=sn,p.generateMipmaps=!1,p.needsUpdate=!0,p});return o.catch(()=>!0).then(()=>{n&&i&&(n._taskLoad-=s,delete n._callbacks[i])}),S6.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new oi(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((r,s)=>{t.load("basis_transcoder.js",r,void 0,s)}),n=new oi(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const i=new Promise((r,s)=>{n.load("basis_transcoder.wasm",r,void 0,s)});this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=Ud.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Ud.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Ud.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Ud.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(i){const r=i.data;switch(r.type){case"transcode":n._callbacks[r.id].resolve(r);break;case"error":n._callbacks[r.id].reject(r);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let v1=Ud;we(v1,"BasisFormat",{ETC1S:0,UASTC_4x4:1});we(v1,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});we(v1,"EngineFormat",{RGBAFormat:Nn,RGBA_ASTC_4x4_Format:Gp,RGBA_BPTC_Format:kh,RGBA_ETC2_EAC_Format:Up,RGBA_PVRTC_4BPPV1_Format:Np,RGBA_S3TC_DXT5_Format:Fh,RGB_ETC1_Format:R2,RGB_ETC2_Format:Op,RGB_PVRTC_4BPPV1_Format:kp,RGB_S3TC_DXT1_Format:Lh});we(v1,"BasisWorker",function(){let t,e,n;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;onmessage=function(y){const x=y.data;switch(x.type){case"init":t=x.config,o(x.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:S,height:I,hasAlpha:T,mipmaps:B,format:_}=x.taskConfig.lowLevel?a(x.taskConfig):l(x.buffers[0]),R=[];for(let P=0;P<B.length;++P)R.push(B[P].data.buffer);self.postMessage({type:"transcode",id:x.id,width:S,height:I,hasAlpha:T,mipmaps:B,format:_},R)}catch(S){console.error(S),self.postMessage({type:"error",id:x.id,error:S.message})}});break}};function o(y){e=new Promise(x=>{n={wasmBinary:y,onRuntimeInitialized:x},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(y){const{basisFormat:x,width:S,height:I,hasAlpha:T}=y,{transcoderFormat:B,engineFormat:_}=p(x,S,I,T),R=n.getBytesPerBlockOrPixel(B);A(n.isFormatSupported(B),"THREE.BasisTextureLoader: Unsupported format.");const P=[];if(x===s.ETC1S){const L=new n.LowLevelETC1SImageTranscoder,{endpointCount:H,endpointsData:N,selectorCount:U,selectorsData:J,tablesData:Y}=y.globalData;try{let ee;ee=L.decodePalettes(H,N,U,J),A(ee,"THREE.BasisTextureLoader: decodePalettes() failed."),ee=L.decodeTables(Y),A(ee,"THREE.BasisTextureLoader: decodeTables() failed.");for(let k=0;k<y.levels.length;k++){const j=y.levels[k],W=y.globalData.imageDescs[k],$=v(B,j.width,j.height),z=new Uint8Array($);ee=L.transcodeImage(B,z,$/R,j.data,m(B,j.width),g(B,j.height),j.width,j.height,j.index,W.rgbSliceByteOffset,W.rgbSliceByteLength,W.alphaSliceByteOffset,W.alphaSliceByteLength,W.imageFlags,T,!1,0,0),A(ee,"THREE.BasisTextureLoader: transcodeImage() failed for level "+j.index+"."),P.push({data:z,width:j.width,height:j.height})}}finally{L.delete()}}else for(let L=0;L<y.levels.length;L++){const H=y.levels[L],N=v(B,H.width,H.height),U=new Uint8Array(N),J=n.transcodeUASTCImage(B,U,N/R,H.data,m(B,H.width),g(B,H.height),H.width,H.height,H.index,0,H.data.byteLength,0,T,!1,0,0,-1,-1);A(J,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+H.index+"."),P.push({data:U,width:H.width,height:H.height})}return{width:S,height:I,hasAlpha:T,mipmaps:P,format:_}}function l(y){const x=new n.BasisFile(new Uint8Array(y)),S=x.isUASTC()?s.UASTC_4x4:s.ETC1S,I=x.getImageWidth(0,0),T=x.getImageHeight(0,0),B=x.getNumLevels(0),_=x.getHasAlpha();function R(){x.close(),x.delete()}const{transcoderFormat:P,engineFormat:L}=p(S,I,T,_);if(!I||!T||!B)throw R(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!x.startTranscoding())throw R(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const H=[];for(let N=0;N<B;N++){const U=x.getImageWidth(0,N),J=x.getImageHeight(0,N),Y=new Uint8Array(x.getImageTranscodedSizeInBytes(0,N,P));if(!x.transcodeImage(Y,0,N,P,0,_))throw R(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");H.push({data:Y,width:U,height:J})}return R(),{width:I,height:T,hasAlpha:_,mipmaps:H,format:L}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC1],engineFormat:[i.RGB_ETC1_Format,i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(y,x){return y.priorityETC1S-x.priorityETC1S}),d=c.sort(function(y,x){return y.priorityUASTC-x.priorityUASTC});function p(y,x,S,I){let T,B;const _=y===s.ETC1S?u:d;for(let R=0;R<_.length;R++){const P=_[R];if(t[P.if]&&P.basisFormat.includes(y)&&!(P.needsPowerOfTwo&&!(C(x)&&C(S))))return T=P.transcoderFormat[I?1:0],B=P.engineFormat[I?1:0],{transcoderFormat:T,engineFormat:B}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),T=r.RGBA32,B=i.RGBAFormat,{transcoderFormat:T,engineFormat:B}}function A(y,x){if(!y)throw new Error(x)}function m(y,x){return Math.ceil(x/n.getFormatBlockWidth(y))}function g(y,x){return Math.ceil(x/n.getFormatBlockHeight(y))}function v(y,x,S){const I=n.getBytesPerBlockOrPixel(y);if(n.formatIsUncompressed(y))return x*S*I;if(y===r.PVRTC1_4_RGB||y===r.PVRTC1_4_RGBA){const T=x+3&-4,B=S+3&-4;return(Math.max(8,T)*Math.max(8,B)*4+7)/8}return m(y,x)*g(y,S)*I}function C(y){return y<=2?!0:(y&y-1)===0&&y!==0}});const w6=new WeakMap;class Vle extends Mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const s=new oi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(w6.has(e)){const l=w6.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),w6.set(e,{key:i,promise:a}),a}_createGeometry(e){const n=new gt;e.index&&n.setIndex(new qt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;n.setAttribute(s,new qt(o,a))}return n}_loadLibrary(e,n){const i=new oi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=Wle.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Wle(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,A=new d.DecoderBuffer;A.Init(new Int8Array(l),l.byteLength);try{const m=n(d,p,A,c),g=m.attributes.map(v=>v.array.buffer);m.index&&g.push(m.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:m},g)}catch(m){console.error(m),self.postMessage({type:"error",id:a.id,error:m.message})}finally{d.destroy(A),d.destroy(p)}});break}};function n(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,A;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)p=new o.Mesh,A=a.DecodeBufferToMesh(l,p);else if(m===o.POINT_CLOUD)p=new o.PointCloud,A=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!A.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const g={index:null,attributes:[]};for(const v in u){const C=self[d[v]];let y,x;if(c.useUniqueIDs)x=u[v],y=a.GetAttributeByUniqueId(p,x);else{if(x=a.GetAttributeId(p,o[u[v]]),x===-1)continue;y=a.GetAttribute(p,x)}g.attributes.push(r(o,a,p,v,C,y))}return m===o.TRIANGULAR_MESH&&(g.index=i(o,a,p)),o.destroy(p),g}function i(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const A=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:A,itemSize:1}}function r(o,a,l,c,u,d){const p=d.num_components(),m=l.num_points()*p,g=m*u.BYTES_PER_ELEMENT,v=s(o,u),C=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,d,v,g,C);const y=new u(o.HEAPF32.buffer,C,m).slice();return o._free(C),{name:c,array:y,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let xm;const I6=()=>{if(xm)return xm;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=t;WebAssembly.validate(n)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let m=0;m<d.length;++m){const g=d.charCodeAt(m);p[m]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let A=0;for(let m=0;m<d.length;++m)p[A++]=p[m]<60?i[p[m]]:(p[m]-60)*64+p[++m];return p.buffer.slice(0,A)}function l(d,p,A,m,g,v){const C=s.exports.sbrk,y=A+3&-4,x=C(y*m),S=C(g.length),I=new Uint8Array(s.exports.memory.buffer);I.set(g,S);const T=d(x,A,m,S,g.length);if(T===0&&v&&v(x,y,m),p.set(I.subarray(x,x+A*m)),C(x-C(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return xm={ready:o,supported:!0,decodeVertexBuffer(d,p,A,m,g){l(s.exports.meshopt_decodeVertexBuffer,d,p,A,m,s.exports[c[g]])},decodeIndexBuffer(d,p,A,m){l(s.exports.meshopt_decodeIndexBuffer,d,p,A,m)},decodeIndexSequence(d,p,A,m){l(s.exports.meshopt_decodeIndexSequence,d,p,A,m)},decodeGltfBuffer(d,p,A,m,g,v){l(s.exports[u[g]],d,p,A,m,s.exports[c[v]])}},xm},H_=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function N9(t,e){const n=Ir(r=>r.gl),i=Vl(k0,H_(t)?Object.values(t):t);if(V.useLayoutEffect(()=>{e==null||e(i)},[e]),V.useEffect(()=>{(Array.isArray(i)?i:[i]).forEach(n.initTexture)},[n,i]),H_(t)){const r=Object.keys(t),s={};return r.forEach(o=>Object.assign(s,{[o]:i[r.indexOf(o)]})),s}else return i}N9.preload=t=>Vl.preload(k0,t);N9.clear=t=>Vl.clear(k0,t);function Jle(t){return Array.isArray(t)}function _6(t=[0,0,0]){return Jle(t)?t:t instanceof D||t instanceof fu?[t.x,t.y,t.z]:[t,t,t]}const jle=V.forwardRef(function({debug:e,depthTest:n=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:c,...u},d){const p=V.useRef(null);V.useImperativeHandle(d,()=>p.current);const A=V.useRef(null);return V.useLayoutEffect(()=>{const m=(s==null?void 0:s.current)||p.current.parent,g=p.current;if(!(m instanceof $t))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const v={position:new D,rotation:new fu,scale:new D(1,1,1)};if(m){go(v,{position:a,scale:c});const C=m.matrixWorld.clone();if(m.matrixWorld.identity(),!l||typeof l=="number"){const y=new Qt;y.position.copy(v.position),y.lookAt(m.position),typeof l=="number"&&y.rotateZ(l),go(v,{rotation:y.rotation})}else go(v,{rotation:l});return g.geometry=new uee(m,v.position,v.rotation,v.scale),A.current&&(go(A.current,v),A.current.traverse(y=>y.raycast=()=>null)),m.matrixWorld=C,()=>{g.geometry.dispose()}}},[s,..._6(a),..._6(c),..._6(l)]),V.createElement("mesh",xs({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":n,"material-map":r},u),o,e&&V.createElement("mesh",{ref:A},V.createElement("boxGeometry",null),V.createElement("meshNormalMaterial",{wireframe:!0}),V.createElement("axesHelper",null)))});let Cm=null,WL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function JL(t,e,n){return i=>{n&&n(i),t&&(Cm||(Cm=new Vle),Cm.setDecoderPath(typeof t=="string"?t:WL),i.setDRACOLoader(Cm)),e&&i.setMeshoptDecoder(typeof I6=="function"?I6():I6)}}function t3(t,e=!0,n=!0,i){return Vl(d9,t,JL(e,n,i))}t3.preload=(t,e=!0,n=!0,i)=>Vl.preload(d9,t,JL(e,n,i));t3.clear=t=>Vl.clear(d9,t);t3.setDecoderPath=t=>{WL=t};const O9=V.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=Ir(T=>T.invalidate),p=Ir(T=>T.camera),A=Ir(T=>T.gl),m=Ir(T=>T.events),g=Ir(T=>T.setEvents),v=Ir(T=>T.set),C=Ir(T=>T.get),y=Ir(T=>T.performance),x=e||p,S=i||m.connected||A.domElement,I=V.useMemo(()=>new _$(x),[x]);return wf(()=>{I.enabled&&I.update()},-1),V.useEffect(()=>(s&&I.connect(s===!0?S:s),I.connect(S),()=>void I.dispose()),[s,S,n,I,d]),V.useEffect(()=>{const T=R=>{d(),n&&y.regress(),o&&o(R)},B=R=>{a&&a(R)},_=R=>{l&&l(R)};return I.addEventListener("change",T),I.addEventListener("start",B),I.addEventListener("end",_),()=>{I.removeEventListener("start",B),I.removeEventListener("end",_),I.removeEventListener("change",T)}},[o,a,l,I,d,g]),V.useEffect(()=>{if(t){const T=C().controls;return v({controls:I}),()=>v({controls:T})}},[t,I]),V.createElement("primitive",xs({ref:u,object:I,enableDamping:r},c))}),M6=parseInt(Ys.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";class Kle extends C0{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${M6}>`,`
        ${r?`#include <${M6}>`:`#extension GL_OES_standard_derivatives : enable
#include <${M6}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${parseInt(Ys.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Yle=V.forwardRef((t,e)=>{const[n]=V.useState(()=>new Kle(null));return V.createElement("primitive",xs({},t,{object:n,ref:e,attach:"material"}))}),Xle=V.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=V.useRef(null),c=V.useRef(Math.random()*1e4);return wf(u=>{var d,p;if(!e||n===0)return;const A=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(A/4*n)/8*i,l.current.rotation.y=Math.sin(A/4*n)/8*i,l.current.rotation.z=Math.sin(A/4*n)/20*i;let m=Math.sin(A/4*n)/10;m=jc.mapLinear(m,-.1,.1,(d=s==null?void 0:s[0])!==null&&d!==void 0?d:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),l.current.position.y=m*r,l.current.updateMatrix()}),V.createElement("group",o,V.createElement("group",{ref:t9([l,a]),matrixAutoUpdate:!1},t))});let mc,_d;const qle=V.createContext(null),z_=new Ke,V_=new D,Zle=V.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const s=V.useRef(null),[o,a]=V.useState([]),[[l,c,u]]=V.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);V.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),wf(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),z_.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),mc=0;mc<o.length;mc++)_d=o[mc].current,_d.getWorldPosition(V_).applyMatrix4(z_),V_.toArray(l,mc*3),s.current.geometry.attributes.position.needsUpdate=!0,_d.matrixWorldNeedsUpdate=!0,_d.color.toArray(c,mc*3),s.current.geometry.attributes.color.needsUpdate=!0,u.set([_d.size],mc),s.current.geometry.attributes.size.needsUpdate=!0});const d=V.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(A=>[...A,p]),()=>a(A=>A.filter(m=>m.current!==p.current)))}),[]);return V.createElement("points",xs({userData:{instances:o},matrixAutoUpdate:!1,ref:t9([r,s]),raycast:()=>null},i),V.createElement("bufferGeometry",null,V.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:wo}),V.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:wo}),V.createElement("bufferAttribute",{attach:"attributes-size",count:u.length,array:u,itemSize:1,usage:wo})),V.createElement(qle.Provider,{value:d},t))}),$le=V.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...s},o)=>{const a=V.useRef(null);return wf(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),V.createElement("points",xs({ref:t9([o,a])},s),V.createElement("bufferGeometry",null,V.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:wo}),n&&V.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/r,array:n,itemSize:3,usage:wo}),i&&V.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:wo})),t)}),ece=V.forwardRef((t,e)=>t.positions instanceof Float32Array?V.createElement($le,xs({},t,{ref:e})):V.createElement(Zle,xs({},t,{ref:e})));var jL={exports:{}},tce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nce=tce,ice=nce;function KL(){}function YL(){}YL.resetWarningCache=KL;var rce=function(){function t(i,r,s,o,a,l){if(l!==ice){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YL,resetWarningCache:KL};return n.PropTypes=n,n};jL.exports=rce();var XL=jL.exports;function y1({all:t,scene:e,camera:n}){const i=Ir(({gl:o})=>o),r=Ir(({camera:o})=>o),s=Ir(({scene:o})=>o);return V.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,n||r);const a=new Ix(128);new wx(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const U9=()=>{const{progress:t}=hY();return ut(uY,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[xe("span",{className:"canvas-loader"}),ut("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[t.toFixed(2),"%"]})]})},sce=()=>{const t=t3("./planet/scene.gltf");return xe("primitive",{object:t.scene,scale:2.5,"position-y":0,"rotation-y":0})},oce=()=>xe(K2,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:ut(V.Suspense,{fallback:xe(U9,{}),children:[xe(O9,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),xe(sce,{}),xe(y1,{all:!0})]})}),ace=t=>{const[e]=N9([t.imgUrl]);return ut(Xle,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[xe("ambientLight",{intensity:.25}),xe("directionalLight",{position:[0,0,.05]}),ut("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[xe("icosahedronGeometry",{args:[1,1]}),xe("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),xe(jle,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},lce=({icon:t})=>ut(K2,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[ut(V.Suspense,{fallback:xe(U9,{}),children:[xe(O9,{enableZoom:!1}),xe(ace,{imgUrl:t})]}),xe(y1,{all:!0})]}),cce=({isMobile:t})=>{const e=t3("./desktop_pc/scene.gltf");return ut("mesh",{children:[xe("hemisphereLight",{intensity:.15,groundColor:"black"}),xe("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),xe("pointLight",{intensity:1}),xe("primitive",{object:e.scene,scale:t?.7:.75,position:t?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},uce=()=>{const[t,e]=V.useState(!1);return V.useEffect(()=>{const n=window.matchMedia("(max-width: 500px)");e(n.matches);const i=r=>{e(r.matches)};return n.addEventListener("change",i),()=>{n.removeEventListener("change",i)}},[]),ut(K2,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[ut(V.Suspense,{fallback:xe(U9,{}),children:[xe(O9,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),xe(cce,{isMobile:t})]}),xe(y1,{all:!0})]})};function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function J_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(i){Gh(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}new le;new le;var ns=function t(e,n,i){var r=this;qL(this,t),Gh(this,"dot2",function(s,o){return r.x*s+r.y*o}),Gh(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=n,this.z=i},hce=[new ns(1,1,0),new ns(-1,1,0),new ns(1,-1,0),new ns(-1,-1,0),new ns(1,0,1),new ns(-1,0,1),new ns(1,0,-1),new ns(-1,0,-1),new ns(0,1,1),new ns(0,-1,1),new ns(0,1,-1),new ns(0,-1,-1)],j_=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],K_=new Array(512),Y_=new Array(512),fce=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var i;n&1?i=j_[n]^e&255:i=j_[n]^e>>8&255,K_[n]=K_[n+256]=i,Y_[n]=Y_[n+256]=hce[i%12]}};fce(0);function dce(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function X_(t){var e=dce(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var pce=function t(e){var n=this;qL(this,t),Gh(this,"seed",0),Gh(this,"init",function(i){n.seed=i,n.value=X_(i)}),Gh(this,"value",X_(this.seed)),this.init(e)},Ace=new pce(Math.random()),mce={radius:1,center:[0,0,0]};function gce(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ace,i=J_(J_({},mce),e),r=i.radius,s=i.center,o=0;o<t.length;o+=3){var a=Math.pow(n.value(),.3333333333333333),l=n.value()*2-1,c=n.value()*2-1,u=n.value()*2-1,d=Math.sqrt(l*l+c*c+u*u);l=a*l/d,c=a*c/d,u=a*u/d,t[o]=l*r+s[0],t[o+1]=c*r+s[1],t[o+2]=u*r+s[2]}return t}const vce=t=>{const e=V.useRef(),[n]=V.useState(()=>gce(new Float32Array(5e3),{radius:1.2}));return wf((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),xe("group",{rotation:[0,0,Math.PI/4],children:xe(ece,{ref:e,positions:n,stride:3,frustumCulled:!0,...t,children:xe(Yle,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},yce=()=>xe("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:ut(K2,{camera:{position:[0,0,1]},children:[xe(V.Suspense,{fallback:null,children:xe(vce,{})}),xe(y1,{all:!0})]})}),ZL=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),x1=V.createContext({});function xce(){return V.useContext(x1).visualElement}const G9=V.createContext(null),C1=typeof document<"u",q_=C1?V.useLayoutEffect:V.useEffect,$L=V.createContext({strict:!1});function Cce(t,e,n,i){const r=xce(),s=V.useContext($L),o=V.useContext(G9),a=V.useContext(ZL).reducedMotion,l=V.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return V.useInsertionEffect(()=>{c&&c.update(n,o)}),q_(()=>{c&&c.render()}),V.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?q_:V.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function wh(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ece(t,e,n){return V.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):wh(n)&&(n.current=i))},[e])}function i0(t){return typeof t=="string"||Array.isArray(t)}function E1(t){return typeof t=="object"&&typeof t.start=="function"}const Q9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H9=["initial",...Q9];function S1(t){return E1(t.animate)||H9.some(e=>i0(t[e]))}function eF(t){return!!(S1(t)||t.variants)}function Sce(t,e){if(S1(t)){const{initial:n,animate:i}=t;return{initial:n===!1||i0(n)?n:void 0,animate:i0(i)?i:void 0}}return t.inherit!==!1?e:{}}function wce(t){const{initial:e,animate:n}=Sce(t,V.useContext(x1));return V.useMemo(()=>({initial:e,animate:n}),[Z_(e),Z_(n)])}function Z_(t){return Array.isArray(t)?t.join(" "):t}const $_={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},r0={};for(const t in $_)r0[t]={isEnabled:e=>$_[t].some(n=>!!e[n])};function Ice(t){for(const e in t)r0[e]={...r0[e],...t[e]}}function tF(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let _ce=1;function Mce(){return tF(()=>{if(sp.hasEverUpdated)return _ce++})}const nF=V.createContext({}),iF=V.createContext({}),Tce=Symbol.for("motionComponentSymbol");function Bce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&Ice(t);function s(a,l){let c;const u={...V.useContext(ZL),...a,layoutId:bce(a)},{isStatic:d}=u,p=wce(a),A=d?void 0:Mce(),m=i(a,d);if(!d&&C1){p.visualElement=Cce(r,m,u,e);const g=V.useContext(iF),v=V.useContext($L).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,v,t,A,g))}return V.createElement(x1.Provider,{value:p},c&&p.visualElement?V.createElement(c,{visualElement:p.visualElement,...u}):null,n(r,a,A,Ece(m,p.visualElement,l),m,d,p.visualElement))}const o=V.forwardRef(s);return o[Tce]=r,o}function bce({layoutId:t}){const e=V.useContext(nF).id;return e&&t!==void 0?e+"-"+t:t}function Rce(t){function e(i,r={}){return Bce(t(i,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Pce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z9(t){return typeof t!="string"||t.includes("-")?!1:!!(Pce.indexOf(t)>-1||/[A-Z]/.test(t))}const qg={};function Dce(t){Object.assign(qg,t)}const w1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cu=new Set(w1);function rF(t,{layout:e,layoutId:n}){return Cu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qg[t]||t==="opacity")}const gr=t=>!!(t&&t.getVelocity),Lce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fce=w1.length;function kce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,r){let s="";for(let o=0;o<Fce;o++){const a=w1[o];if(t[a]!==void 0){const l=Lce[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(t,i?"":s):n&&i&&(s="none"),s}const sF=t=>e=>typeof e=="string"&&e.startsWith(t),oF=sF("--"),Y8=sF("var(--"),Nce=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hf=(t,e,n)=>Math.min(Math.max(n,t),e),Eu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},op={...Eu,transform:t=>hf(0,1,t)},Em={...Eu,default:1},ap=t=>Math.round(t*1e5)/1e5,s0=/(-)?([\d]*\.?[\d])+/g,X8=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Oce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function n3(t){return typeof t=="string"}const i3=t=>({test:e=>n3(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),el=i3("deg"),Ro=i3("%"),ft=i3("px"),Uce=i3("vh"),Gce=i3("vw"),eM={...Ro,parse:t=>Ro.parse(t)/100,transform:t=>Ro.transform(t*100)},tM={...Eu,transform:Math.round},aF={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,size:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,rotate:el,rotateX:el,rotateY:el,rotateZ:el,scale:Em,scaleX:Em,scaleY:Em,scaleZ:Em,skew:el,skewX:el,skewY:el,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:op,originX:eM,originY:eM,originZ:ft,zIndex:tM,fillOpacity:op,strokeOpacity:op,numOctaves:tM};function V9(t,e,n,i){const{style:r,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(oF(d)){s[d]=p;continue}const A=aF[d],m=Nce(p,A);if(Cu.has(d)){if(l=!0,o[d]=m,!u)continue;p!==(A.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}if(e.transform||(l||i?r.transform=kce(t.transform,n,u,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:A=0}=a;r.transformOrigin=`${d} ${p} ${A}`}}const W9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lF(t,e,n){for(const i in e)!gr(e[i])&&!rF(i,n)&&(t[i]=e[i])}function Qce({transformTemplate:t},e,n){return V.useMemo(()=>{const i=W9();return V9(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function Hce(t,e,n){const i=t.style||{},r={};return lF(r,i,t),Object.assign(r,Qce(t,e,n)),t.transformValues?t.transformValues(r):r}function zce(t,e,n){const i={},r=Hce(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const Vce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Zg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Vce.has(t)}let cF=t=>!Zg(t);function Wce(t){t&&(cF=e=>e.startsWith("on")?!Zg(e):t(e))}try{Wce(require("@emotion/is-prop-valid").default)}catch{}function Jce(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(cF(r)||n===!0&&Zg(r)||!e&&!Zg(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function nM(t,e,n){return typeof t=="string"?t:ft.transform(e+n*t)}function jce(t,e,n){const i=nM(e,t.x,t.width),r=nM(n,t.y,t.height);return`${i} ${r}`}const Kce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yce={offset:"strokeDashoffset",array:"strokeDasharray"};function Xce(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?Kce:Yce;t[s.offset]=ft.transform(-i);const o=ft.transform(e),a=ft.transform(n);t[s.array]=`${o} ${a}`}function J9(t,{attrX:e,attrY:n,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(V9(t,l,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:A,dimensions:m}=t;p.transform&&(m&&(A.transform=p.transform),delete p.transform),m&&(i!==void 0||r!==void 0||A.transform)&&(A.transformOrigin=jce(m,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&Xce(p,s,o,a,!1)}const uF=()=>({...W9(),attrs:{}}),j9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qce(t,e,n,i){const r=V.useMemo(()=>{const s=uF();return J9(s,e,{enableHardwareAcceleration:!1},j9(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};lF(s,t.style,t),r.style={...s,...r.style}}return r}function Zce(t=!1){return(n,i,r,s,{latestValues:o},a)=>{const c=(z9(n)?qce:zce)(i,o,a,n),d={...Jce(i,typeof n=="string",t),...c,ref:s},{children:p}=i,A=V.useMemo(()=>gr(p)?p.get():p,[p]);return r&&(d["data-projection-id"]=r),V.createElement(n,{...d,children:A})}}const K9=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function hF(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const fF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dF(t,e,n,i){hF(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(fF.has(r)?r:K9(r),e.attrs[r])}function Y9(t,e){const{style:n}=t,i={};for(const r in n)(gr(n[r])||e.style&&gr(e.style[r])||rF(r,t))&&(i[r]=n[r]);return i}function pF(t,e){const n=Y9(t,e);for(const i in t)if(gr(t[i])||gr(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;n[r]=t[i]}return n}function X9(t,e,n,i={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,r)),e}const $g=t=>Array.isArray(t),$ce=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),eue=t=>$g(t)?t[t.length-1]||0:t;function eg(t){const e=gr(t)?t.get():t;return $ce(e)?e.toValue():e}function tue({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,r,s){const o={latestValues:nue(i,r,s,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const AF=t=>(e,n)=>{const i=V.useContext(x1),r=V.useContext(G9),s=()=>tue(t,e,i,r);return n?s():tF(s)};function nue(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=eg(s[p]);let{initial:o,animate:a}=t;const l=S1(t),c=eF(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!E1(d)&&(Array.isArray(d)?d:[d]).forEach(A=>{const m=X9(t,A);if(!m)return;const{transitionEnd:g,transition:v,...C}=m;for(const y in C){let x=C[y];if(Array.isArray(x)){const S=u?x.length-1:0;x=x[S]}x!==null&&(r[y]=x)}for(const y in g)r[y]=g[y]}),r}const iue={useVisualState:AF({scrapeMotionValuesFromProps:pF,createRenderState:uF,onMount:(t,e,{renderState:n,latestValues:i})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}J9(n,i,{enableHardwareAcceleration:!1},j9(e.tagName),t.transformTemplate),dF(e,n)}})},rue={useVisualState:AF({scrapeMotionValuesFromProps:Y9,createRenderState:W9})};function sue(t,{forwardMotionProps:e=!1},n,i){return{...z9(t)?iue:rue,preloadedFeatures:n,useRender:Zce(e),createVisualElement:i,Component:t}}function da(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const mF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function I1(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oue=t=>e=>mF(e)&&t(e,I1(e));function ma(t,e,n,i){return da(t,e,oue(n),i)}const aue=(t,e)=>n=>e(t(n)),El=(...t)=>t.reduce(aue);function gF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const iM=gF("dragHorizontal"),rM=gF("dragVertical");function vF(t){let e=!1;if(t==="y")e=rM();else if(t==="x")e=iM();else{const n=iM(),i=rM();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function yF(){const t=vF(!0);return t?(t(),!1):!0}class Yl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sM(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||yF())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return ma(t.current,n,r,{passive:!t.getProps()[i]})}class lue extends Yl{mount(){this.unmount=El(sM(this.node,!0),sM(this.node,!1))}unmount(){}}class cue extends Yl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=El(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xF=(t,e)=>e?t===e?!0:xF(t,e.parentElement):!1,As=t=>t;function T6(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,I1(n))}class uue extends Yl{constructor(){super(...arguments),this.removeStartListeners=As,this.removeEndListeners=As,this.removeAccessibleListeners=As,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=ma(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();xF(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=ma(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=El(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||T6("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=da(this.node.current,"keyup",o),T6("down",(a,l)=>{this.startPress(a,l)})},n=da(this.node.current,"keydown",e),i=()=>{this.isPressing&&T6("cancel",(s,o)=>this.cancelPress(s,o))},r=da(this.node.current,"blur",i);this.removeAccessibleListeners=El(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,n)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,n)}mount(){const e=this.node.getProps(),n=ma(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=da(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=El(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const q8=new WeakMap,B6=new WeakMap,hue=t=>{const e=q8.get(t.target);e&&e(t)},fue=t=>{t.forEach(hue)};function due({root:t,...e}){const n=t||document;B6.has(n)||B6.set(n,{});const i=B6.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(fue,{root:t,...e})),i[r]}function pue(t,e,n){const i=due(e);return q8.set(t,n),i.observe(t),()=>{q8.delete(t),i.unobserve(t)}}const Aue={some:0,all:1};class mue extends Yl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Aue[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),A=u?d:p;A&&A(c)};return pue(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gue(e,n))&&this.startObserver()}unmount(){}}function gue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vue={inView:{Feature:mue},tap:{Feature:uue},focus:{Feature:cue},hover:{Feature:lue}};function CF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const yue=t=>/^\-?\d*\.?\d+$/.test(t),xue=t=>/^0[^.\s]+$/.test(t),ga={delta:0,timestamp:0},EF=1/60*1e3,Cue=typeof performance<"u"?()=>performance.now():()=>Date.now(),SF=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Cue()),EF);function Eue(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&r,p=d?e:n;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const Sue=40;let Z8=!0,o0=!1,$8=!1;const r3=["read","update","preRender","render","postRender"],_1=r3.reduce((t,e)=>(t[e]=Eue(()=>o0=!0),t),{}),Zi=r3.reduce((t,e)=>{const n=_1[e];return t[e]=(i,r=!1,s=!1)=>(o0||Iue(),n.schedule(i,r,s)),t},{}),Fl=r3.reduce((t,e)=>(t[e]=_1[e].cancel,t),{}),b6=r3.reduce((t,e)=>(t[e]=()=>_1[e].process(ga),t),{}),wue=t=>_1[t].process(ga),wF=t=>{o0=!1,ga.delta=Z8?EF:Math.max(Math.min(t-ga.timestamp,Sue),1),ga.timestamp=t,$8=!0,r3.forEach(wue),$8=!1,o0&&(Z8=!1,SF(wF))},Iue=()=>{o0=!0,Z8=!0,$8||SF(wF)};function q9(t,e){t.indexOf(e)===-1&&t.push(e)}function Z9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $9{constructor(){this.subscriptions=[]}add(e){return q9(this.subscriptions,e),()=>Z9(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function e7(t,e){return e?t*(1e3/e):0}const _ue=t=>!isNaN(parseFloat(t));class Mue{constructor(e,n={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=ga;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Zi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Zi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_ue(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $9);const i=this.events[e].add(n);return e==="change"?()=>{i(),Zi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?e7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ff(t,e){return new Mue(t,e)}const t7=(t,e)=>n=>!!(n3(n)&&Oce.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),IF=(t,e,n)=>i=>{if(!n3(i))return i;const[r,s,o,a]=i.match(s0);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Tue=t=>hf(0,255,t),R6={...Eu,transform:t=>Math.round(Tue(t))},zc={test:t7("rgb","red"),parse:IF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+R6.transform(t)+", "+R6.transform(e)+", "+R6.transform(n)+", "+ap(op.transform(i))+")"};function Bue(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const e4={test:t7("#"),parse:Bue,transform:zc.transform},Ih={test:t7("hsl","hue"),parse:IF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ro.transform(ap(e))+", "+Ro.transform(ap(n))+", "+ap(op.transform(i))+")"},ji={test:t=>zc.test(t)||e4.test(t)||Ih.test(t),parse:t=>zc.test(t)?zc.parse(t):Ih.test(t)?Ih.parse(t):e4.parse(t),transform:t=>n3(t)?t:t.hasOwnProperty("red")?zc.transform(t):Ih.transform(t)},_F="${c}",MF="${n}";function bue(t){var e,n;return isNaN(t)&&n3(t)&&(((e=t.match(s0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(X8))===null||n===void 0?void 0:n.length)||0)>0}function e2(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,i=0;const r=t.match(X8);r&&(n=r.length,t=t.replace(X8,_F),e.push(...r.map(ji.parse)));const s=t.match(s0);return s&&(i=s.length,t=t.replace(s0,MF),e.push(...s.map(Eu.parse))),{values:e,numColors:n,numNumbers:i,tokenised:t}}function TF(t){return e2(t).values}function BF(t){const{values:e,numColors:n,tokenised:i}=e2(t),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?_F:MF,a<n?ji.transform(s[a]):ap(s[a]));return o}}const Rue=t=>typeof t=="number"?0:t;function Pue(t){const e=TF(t);return BF(t)(e.map(Rue))}const kl={test:bue,parse:TF,createTransformer:BF,getAnimatableNone:Pue},Due=new Set(["brightness","contrast","saturate","opacity"]);function Lue(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(s0)||[];if(!i)return t;const r=n.replace(i,"");let s=Due.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Fue=/([a-z-]*)\(.*?\)/g,t4={...kl,getAnimatableNone:t=>{const e=t.match(Fue);return e?e.map(Lue).join(" "):t}},kue={...aF,color:ji,backgroundColor:ji,outlineColor:ji,fill:ji,stroke:ji,borderColor:ji,borderTopColor:ji,borderRightColor:ji,borderBottomColor:ji,borderLeftColor:ji,filter:t4,WebkitFilter:t4},n7=t=>kue[t];function i7(t,e){let n=n7(t);return n!==t4&&(n=kl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bF=t=>e=>e.test(t),Nue={test:t=>t==="auto",parse:t=>t},RF=[Eu,ft,Ro,el,Gce,Uce,Nue],Md=t=>RF.find(bF(t)),Oue=[...RF,ji,kl],Uue=t=>Oue.find(bF(t));function Gue(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function Que(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function M1(t,e,n){const i=t.getProps();return X9(i,e,n!==void 0?n:i.custom,Gue(t),Que(t))}function Hue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ff(n))}function zue(t,e){const n=M1(t,e);let{transitionEnd:i={},transition:r={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...i};for(const o in s){const a=eue(s[o]);Hue(t,o,a)}}function Vue(t,e,n){var i,r;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(r=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&r!==void 0?r:e[l]),u!=null&&(typeof u=="string"&&(yue(u)||xue(u))?u=parseFloat(u):!Uue(u)&&kl.test(c)&&(u=i7(l,c)),t.addValue(l,ff(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Wue(t,e){return e?(e[t]||e.default||e).from:void 0}function Jue(t,e,n){const i={};for(const r in t){const s=Wue(r,e);if(s!==void 0)i[r]=s;else{const o=n.getValue(r);o&&(i[r]=o.get())}}return i}function t2(t){return!!(gr(t)&&t.add)}const jue="framerAppearId",Kue="data-"+K9(jue);let Yue=As,n2=As;const tg=t=>t*1e3,Xue={current:!1},r7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s7=t=>e=>1-t(1-e),o7=t=>t*t,que=s7(o7),a7=r7(o7),Mn=(t,e,n)=>-n*t+n*e+t;function P6(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zue({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=P6(l,a,t+1/3),s=P6(l,a,t),o=P6(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const D6=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},$ue=[e4,zc,Ih],ehe=t=>$ue.find(e=>e.test(t));function oM(t){const e=ehe(t);let n=e.parse(t);return e===Ih&&(n=Zue(n)),n}const PF=(t,e)=>{const n=oM(t),i=oM(e),r={...n};return s=>(r.red=D6(n.red,i.red,s),r.green=D6(n.green,i.green,s),r.blue=D6(n.blue,i.blue,s),r.alpha=Mn(n.alpha,i.alpha,s),zc.transform(r))};function DF(t,e){return typeof t=="number"?n=>Mn(t,e,n):ji.test(t)?PF(t,e):FF(t,e)}const LF=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>DF(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},the=(t,e)=>{const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=DF(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}},FF=(t,e)=>{const n=kl.createTransformer(e),i=e2(t),r=e2(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?El(LF(i.values,r.values),n):o=>`${o>0?e:t}`},a0=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},aM=(t,e)=>n=>Mn(t,e,n);function nhe(t){return typeof t=="number"?aM:typeof t=="string"?ji.test(t)?PF:FF:Array.isArray(t)?LF:typeof t=="object"?the:aM}function ihe(t,e,n){const i=[],r=n||nhe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=El(l,a)}i.push(a)}return i}function kF(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;n2(s===e.length),n2(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=ihe(e,i,r),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=a0(t[u],t[u+1],c);return o[u](d)};return n?c=>l(hf(t[0],t[s-1],c)):l}function rhe(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=a0(0,e,i);t.push(Mn(n,1,r))}}function she(t){const e=[0];return rhe(e,t.length-1),e}function ohe(t,e){return t.map(n=>n*e)}const NF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ahe=1e-7,lhe=12;function che(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=NF(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>ahe&&++a<lhe);return o}function OF(t,e,n,i){if(t===e&&n===i)return As;const r=s=>che(s,0,1,t,n);return s=>s===0||s===1?s:NF(r(s),e,i)}const UF=t=>1-Math.sin(Math.acos(t)),l7=s7(UF),uhe=r7(l7),GF=OF(.33,1.53,.69,.99),c7=s7(GF),hhe=r7(c7),fhe=t=>(t*=2)<1?.5*c7(t):.5*(2-Math.pow(2,-10*(t-1))),dhe={linear:As,easeIn:o7,easeInOut:a7,easeOut:que,circIn:UF,circInOut:uhe,circOut:l7,backIn:c7,backInOut:hhe,backOut:GF,anticipate:fhe},lM=t=>{if(Array.isArray(t)){n2(t.length===4);const[e,n,i,r]=t;return OF(e,n,i,r)}else if(typeof t=="string")return dhe[t];return t},phe=t=>Array.isArray(t)&&typeof t[0]!="number";function Ahe(t,e){return t.map(()=>e||a7).splice(0,t.length-1)}function n4({keyframes:t,ease:e=a7,times:n,duration:i=300}){t=[...t];const r=phe(e)?e.map(lM):lM(e),s={done:!1,value:t[0]},o=ohe(n&&n.length===t.length?n:she(t),i);function a(){return kF(o,t,{ease:Array.isArray(r)?r:Ahe(t,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{t.reverse(),l=a()}}}const L6=.001,mhe=.01,cM=10,ghe=.05,vhe=1;function yhe({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;Yue(t<=cM*1e3);let o=1-e;o=hf(ghe,vhe,o),t=hf(mhe,cM,t/1e3),o<1?(r=c=>{const u=c*o,d=u*t,p=u-n,A=i4(c,o),m=Math.exp(-d);return L6-p/A*m},s=c=>{const d=c*o*t,p=d*n+n,A=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=i4(Math.pow(c,2),o);return(-r(c)+L6>0?-1:1)*((p-A)*m)/g}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-L6+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Che(r,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const xhe=12;function Che(t,e,n){let i=n;for(let r=1;r<xhe;r++)i=i-t(i)/e(i);return i}function i4(t,e){return t*Math.sqrt(1-e*e)}const Ehe=["duration","bounce"],She=["stiffness","damping","mass"];function uM(t,e){return e.some(n=>t[n]!==void 0)}function whe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uM(t,She)&&uM(t,Ehe)){const n=yhe(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const Ihe=5;function QF({keyframes:t,restDelta:e,restSpeed:n,...i}){let r=t[0],s=t[t.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=whe(i);let A=_he,m=u?-(u/1e3):0;const g=l/(2*Math.sqrt(a*c));function v(){const C=s-r,y=Math.sqrt(a/c)/1e3,x=Math.abs(C)<5;if(n||(n=x?.01:2),e||(e=x?.005:.5),g<1){const S=i4(y,g);A=I=>{const T=Math.exp(-g*y*I);return s-T*((m+g*y*C)/S*Math.sin(S*I)+C*Math.cos(S*I))}}else if(g===1)A=S=>s-Math.exp(-y*S)*(C+(m+y*C)*S);else{const S=y*Math.sqrt(g*g-1);A=I=>{const T=Math.exp(-g*y*I),B=Math.min(S*I,300);return s-T*((m+g*y*C)*Math.sinh(B)+S*C*Math.cosh(B))/S}}}return v(),{next:C=>{const y=A(C);if(p)o.done=C>=d;else{let x=m;if(C!==0)if(g<1){const T=Math.max(0,C-Ihe);x=e7(y-A(T),C-T)}else x=0;const S=Math.abs(x)<=n,I=Math.abs(s-y)<=e;o.done=S&&I}return o.value=o.done?s:y,o},flipTarget:()=>{m=-m,[r,s]=[s,r],v()}}}QF.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const _he=t=>0;function Mhe({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=t[0],a={done:!1,value:o};let l=n*e;const c=o+l,u=s===void 0?c:s(c);return u!==c&&(l=u-o),{next:d=>{const p=-l*Math.exp(-d/i);return a.done=!(p>r||p<-r),a.value=a.done?u:u+p,a},flipTarget:()=>{}}}const The={decay:Mhe,keyframes:n4,tween:n4,spring:QF};function HF(t,e,n=0){return t-e-n}function Bhe(t,e=0,n=0,i=!0){return i?HF(e+-t,e,n):e-(t-e)+n}function bhe(t,e,n,i){return i?t>=e+n:t<=-n}const Rhe=t=>{const e=({delta:n})=>t(n);return{start:()=>Zi.update(e,!0),stop:()=>Fl.update(e)}};function i2({duration:t,driver:e=Rhe,elapsed:n=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:d,onUpdate:p,type:A="keyframes",...m}){const g=n;let v,C=0,y=t,x=!1,S=!0,I;const T=The[o.length>2?"keyframes":A]||n4,B=o[0],_=o[o.length-1];let R={done:!1,value:B};const{needsInterpolation:P}=T;P&&P(B,_)&&(I=kF([0,100],[B,_],{clamp:!1}),o=[0,100]);const L=T({...m,duration:t,keyframes:o});function H(){C++,r==="reverse"?(S=C%2===0,n=Bhe(n,y,s,S)):(n=HF(n,y,s),r==="mirror"&&L.flipTarget()),x=!1,d&&d()}function N(){v&&v.stop(),u&&u()}function U(Y){S||(Y=-Y),n+=Y,x||(R=L.next(Math.max(0,n)),I&&(R.value=I(R.value)),x=S?R.done:n<=0),p&&p(R.value),x&&(C===0&&(y=y!==void 0?y:n),C<i?bhe(n,y,s,S)&&H():N())}function J(){l&&l(),v=e(U),v.start()}return a&&J(),{stop:()=>{c&&c(),v&&v.stop()},set currentTime(Y){n=g,U(Y)},sample:Y=>{n=g;const ee=t&&typeof t=="number"?Math.max(t*.5,50):50;let k=0;for(U(0);k<=Y;){const j=Y-k;U(Math.min(j,ee)),k+=ee}return R}}}function Phe(t){return!t||Array.isArray(t)||typeof t=="string"&&zF[t]}const Gd=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,zF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gd([0,.65,.55,1]),circOut:Gd([.55,0,1,.45]),backIn:Gd([.31,.01,.66,-.59]),backOut:Gd([.33,1.53,.69,.99])};function Dhe(t){if(t)return Array.isArray(t)?Gd(t):zF[t]}function Lhe(t,e,n,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return t.animate({[e]:n,offset:l},{delay:i,duration:r,easing:Dhe(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const hM={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},F6={},VF={};for(const t in hM)VF[t]=()=>(F6[t]===void 0&&(F6[t]=hM[t]()),F6[t]);function Fhe(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const khe=new Set(["opacity","clipPath","filter","transform"]),Sm=10;function Nhe(t,e,{onUpdate:n,onComplete:i,...r}){if(!(VF.waapi()&&khe.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!Phe(r.ease)){if(r.repeat===1/0)return;const d=i2({...r,elapsed:0});let p={done:!1,value:o[0]};const A=[];let m=0;for(;!p.done&&m<2e4;)p=d.sample(m),A.push(p.value),m+=Sm;o=A,a=m-Sm,c="linear"}const u=Lhe(t.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return u.onfinish=()=>{t.set(Fhe(o,r)),Zi.update(()=>u.cancel()),i&&i()},{get currentTime(){return u.currentTime||0},set currentTime(d){u.currentTime=d},stop:()=>{const{currentTime:d}=u;if(d){const p=i2({...r,autoplay:!1});t.setWithVelocity(p.sample(d-Sm).value,p.sample(d).value,Sm)}Zi.update(()=>u.cancel())}}}function WF(t,e){const n=performance.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Fl.read(i),t(s-e))};return Zi.read(i,!0),()=>Fl.read(i)}function Ohe({keyframes:t,elapsed:e,onUpdate:n,onComplete:i}){const r=()=>{n&&n(t[t.length-1]),i&&i()};return e?{stop:WF(r,-e)}:r()}function Uhe({keyframes:t,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:p,onStop:A}){const m=t[0];let g;function v(S){return n!==void 0&&S<n||i!==void 0&&S>i}function C(S){return n===void 0?i:i===void 0||Math.abs(n-S)<Math.abs(i-S)?n:i}function y(S){g&&g.stop(),g=i2({keyframes:[0,1],velocity:0,...S,driver:u,onUpdate:I=>{d&&d(I),S.onUpdate&&S.onUpdate(I)},onComplete:p,onStop:A})}function x(S){y({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(v(m))x({velocity:e,keyframes:[m,C(m)]});else{let S=r*e+m;typeof c<"u"&&(S=c(S));const I=C(S),T=I===n?-1:1;let B,_;const R=P=>{B=_,_=P,e=e7(P-B,ga.delta),(T===1&&P>I||T===-1&&P<I)&&x({keyframes:[P,I],velocity:e})};y({type:"decay",keyframes:[m,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:v(S)?R:void 0})}return{stop:()=>g&&g.stop()}}const Ghe={type:"spring",stiffness:500,damping:25,restSpeed:10},Qhe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hhe={type:"keyframes",duration:.8},zhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vhe=(t,{keyframes:e})=>e.length>2?Hhe:Cu.has(t)?t.startsWith("scale")?Qhe(e[1]):Ghe:zhe,r4=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&kl.test(e)&&!e.startsWith("url("));function Whe({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function fM(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function dM(t){return typeof t=="number"?0:i7("",t)}function JF(t,e){return t[e]||t.default||t}function Jhe(t,e,n,i){const r=r4(e,n);let s=i.from!==void 0?i.from:t.get();return s==="none"&&r&&typeof n=="string"?s=i7(e,n):fM(s)&&typeof n=="string"?s=dM(n):!Array.isArray(n)&&fM(n)&&typeof s=="string"&&(n=dM(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const u7=(t,e,n,i={})=>r=>{const s=JF(i,t)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-tg(o);const l=Jhe(e,t,n,s),c=l[0],u=l[l.length-1],d=r4(t,c),p=r4(t,u);let A={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!d||!p||Xue.current||s.type===!1)return Ohe(A);if(s.type==="inertia")return Uhe(A);if(Whe(s)||(A={...A,...Vhe(t,A)}),A.duration&&(A.duration=tg(A.duration)),A.repeatDelay&&(A.repeatDelay=tg(A.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=Nhe(e,t,A);if(m)return m}return i2(A)};function jhe(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>s4(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=s4(t,e,n);else{const r=typeof e=="function"?M1(t,e,n.custom):e;i=jF(t,r,n)}return i.then(()=>t.notify("AnimationComplete",e))}function s4(t,e,n={}){const i=M1(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>jF(t,i,n):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=r;return Khe(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(n.delay)])}function jF(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(s=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in a){const p=t.getValue(d),A=a[d];if(!p||A===void 0||u&&Xhe(u,d))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const v=t.getProps()[Kue];v&&(m.elapsed=window.HandoffAppearAnimations(v,d,p,Zi))}let g=p.start(u7(d,p,A,t.shouldReduceMotion&&Cu.has(d)?{type:!1}:m));t2(l)&&(l.add(d),g=g.then(()=>l.remove(d))),c.push(g)}return Promise.all(c).then(()=>{o&&zue(t,o)})}function Khe(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(Yhe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(s4(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Yhe(t,e){return t.sortNodePosition(e)}function Xhe({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}const qhe=[...Q9].reverse(),Zhe=Q9.length;function $he(t){return e=>Promise.all(e.map(({animation:n,options:i})=>jhe(t,n,i)))}function efe(t){let e=$he(t);const n=nfe();let i=!0;const r=(l,c)=>{const u=M1(t,c);if(u){const{transition:d,transitionEnd:p,...A}=u;l={...l,...A,...p}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},p=[],A=new Set;let m={},g=1/0;for(let C=0;C<Zhe;C++){const y=qhe[C],x=n[y],S=u[y]!==void 0?u[y]:d[y],I=i0(S),T=y===c?x.isActive:null;T===!1&&(g=C);let B=S===d[y]&&S!==u[y]&&I;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),x.protectedKeys={...m},!x.isActive&&T===null||!S&&!x.prevProp||E1(S)||typeof S=="boolean")continue;const _=tfe(x.prevProp,S);let R=_||y===c&&x.isActive&&!B&&I||C>g&&I;const P=Array.isArray(S)?S:[S];let L=P.reduce(r,{});T===!1&&(L={});const{prevResolvedValues:H={}}=x,N={...H,...L},U=J=>{R=!0,A.delete(J),x.needsAnimating[J]=!0};for(const J in N){const Y=L[J],ee=H[J];m.hasOwnProperty(J)||(Y!==ee?$g(Y)&&$g(ee)?!CF(Y,ee)||_?U(J):x.protectedKeys[J]=!0:Y!==void 0?U(J):A.add(J):Y!==void 0&&A.has(J)?U(J):x.protectedKeys[J]=!0)}x.prevProp=S,x.prevResolvedValues=L,x.isActive&&(m={...m,...L}),i&&t.blockInitialAnimation&&(R=!1),R&&!B&&p.push(...P.map(J=>({animation:J,options:{type:y,...l}})))}if(A.size){const C={};A.forEach(y=>{const x=t.getBaseTarget(y);x!==void 0&&(C[y]=x)}),p.push({animation:C})}let v=!!p.length;return i&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(p):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(A=>{var m;return(m=A.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const p=o(u,l);for(const A in n)n[A].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function tfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CF(e,t):!1}function gc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nfe(){return{animate:gc(!0),whileInView:gc(),whileHover:gc(),whileTap:gc(),whileDrag:gc(),whileFocus:gc(),exit:gc()}}class ife extends Yl{constructor(e){super(e),e.animationState||(e.animationState=efe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),E1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let rfe=0;class sfe extends Yl{constructor(){super(...arguments),this.id=rfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ofe={animation:{Feature:ife},exit:{Feature:sfe}},pM=(t,e)=>Math.abs(t-e);function afe(t,e){const n=pM(t.x,e.x),i=pM(t.y,e.y);return Math.sqrt(n**2+i**2)}class KF{constructor(e,n,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=N6(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=afe(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:p}=c,{timestamp:A}=ga;this.history.push({...p,timestamp:A});const{onStart:m,onMove:g}=this.handlers;u||(m&&m(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=k6(u,this.transformPagePoint),Zi.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,A=N6(c.type==="pointercancel"?this.lastMoveEventInfo:k6(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,A),p&&p(c,A)},!mF(e))return;this.handlers=n,this.transformPagePoint=i;const r=I1(e),s=k6(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=ga;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,N6(s,this.history)),this.removeListeners=El(ma(window,"pointermove",this.handlePointerMove),ma(window,"pointerup",this.handlePointerUp),ma(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fl.update(this.updatePoint)}}function k6(t,e){return e?{point:e(t.point)}:t}function AM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function N6({point:t},e){return{point:t,delta:AM(t,YF(e)),offset:AM(t,lfe(e)),velocity:cfe(e,.1)}}function lfe(t){return t[0]}function YF(t){return t[t.length-1]}function cfe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=YF(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>tg(e)));)n--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Nr(t){return t.max-t.min}function o4(t,e=0,n=.01){return Math.abs(t-e)<=n}function mM(t,e,n,i=.5){t.origin=i,t.originPoint=Mn(e.min,e.max,t.origin),t.scale=Nr(n)/Nr(e),(o4(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Mn(n.min,n.max,t.origin)-t.originPoint,(o4(t.translate)||isNaN(t.translate))&&(t.translate=0)}function lp(t,e,n,i){mM(t.x,e.x,n.x,i?i.originX:void 0),mM(t.y,e.y,n.y,i?i.originY:void 0)}function gM(t,e,n){t.min=n.min+e.min,t.max=t.min+Nr(e)}function ufe(t,e,n){gM(t.x,e.x,n.x),gM(t.y,e.y,n.y)}function vM(t,e,n){t.min=e.min-n.min,t.max=t.min+Nr(e)}function cp(t,e,n){vM(t.x,e.x,n.x),vM(t.y,e.y,n.y)}function hfe(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Mn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Mn(n,t,i.max):Math.min(t,n)),t}function yM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ffe(t,{top:e,left:n,bottom:i,right:r}){return{x:yM(t.x,n,r),y:yM(t.y,e,i)}}function xM(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function dfe(t,e){return{x:xM(t.x,e.x),y:xM(t.y,e.y)}}function pfe(t,e){let n=.5;const i=Nr(t),r=Nr(e);return r>i?n=a0(e.min,e.max-i,t.min):i>r&&(n=a0(t.min,t.max-r,e.min)),hf(0,1,n)}function Afe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const a4=.35;function mfe(t=a4){return t===!1?t=0:t===!0&&(t=a4),{x:CM(t,"left","right"),y:CM(t,"top","bottom")}}function CM(t,e,n){return{min:EM(t,e),max:EM(t,n)}}function EM(t,e){return typeof t=="number"?t:t[e]||0}const SM=()=>({translate:0,scale:1,origin:0,originPoint:0}),up=()=>({x:SM(),y:SM()}),wM=()=>({min:0,max:0}),Yn=()=>({x:wM(),y:wM()});function mo(t){return[t("x"),t("y")]}function XF({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function gfe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vfe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function O6(t){return t===void 0||t===1}function l4({scale:t,scaleX:e,scaleY:n}){return!O6(t)||!O6(e)||!O6(n)}function Mc(t){return l4(t)||qF(t)||t.z||t.rotate||t.rotateX||t.rotateY}function qF(t){return IM(t.x)||IM(t.y)}function IM(t){return t&&t!=="0%"}function r2(t,e,n){const i=t-n,r=e*i;return n+r}function _M(t,e,n,i,r){return r!==void 0&&(t=r2(t,r,i)),r2(t,n,i)+e}function c4(t,e=0,n=1,i,r){t.min=_M(t.min,e,n,i,r),t.max=_M(t.max,e,n,i,r)}function ZF(t,{x:e,y:n}){c4(t.x,e.translate,e.scale,e.originPoint),c4(t.y,n.translate,n.scale,n.originPoint)}function yfe(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_h(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ZF(t,o)),i&&Mc(s.latestValues)&&_h(t,s.latestValues))}e.x=MM(e.x),e.y=MM(e.y)}function MM(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function TM(t,e,[n,i,r]){const s=e[r]!==void 0?e[r]:.5,o=Mn(t.min,t.max,s);c4(t,e[n],e[i],o,e.scale)}const xfe=["x","scaleX","originX"],Cfe=["y","scaleY","originY"];function _h(t,e){TM(t.x,e,xfe),TM(t.y,e,Cfe)}function $F(t,e){return XF(vfe(t.getBoundingClientRect(),e))}function Efe(t,e,n){const i=$F(t,n),{scroll:r}=e;return r&&(rl(i.x,r.offset.x),rl(i.y,r.offset.y)),i}const Sfe=new WeakMap;class wfe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),n&&this.snapToCursor(I1(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:p}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vF(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mo(m=>{let g=this.getAxisMotionValue(m).get()||0;if(Ro.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const C=v.layout.layoutBox[m];C&&(g=Nr(C)*(parseFloat(g)/100))}}this.originPoint[m]=g}),p&&p(l,c);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:p,onDrag:A}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=c;if(d&&this.currentDirection===null){this.currentDirection=Ife(m),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,m),this.updateAxis("y",c.point,m),this.visualElement.render(),A&&A(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new KF(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,n)}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!wm(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=hfe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&wh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=ffe(i.layoutBox,e):this.constraints=!1,this.elastic=mfe(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&mo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Afe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wh(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Efe(i,r.root,this.visualElement.getTransformPagePoint());let o=dfe(r.layout.layoutBox,s);if(n){const a=n(gfe(o));this.hasMutatedConstraints=!!a,a&&(o=XF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=mo(u=>{if(!wm(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=r?200:1e6,A=r?40:1e7,m={type:"inertia",velocity:i?e[u]:0,bounceStiffness:p,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(u7(e,i,0,n))}stopAnimation(){mo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){mo(n=>{const{drag:i}=this.getProps();if(!wm(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!wh(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};mo(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=pfe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),mo(o=>{if(!wm(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Mn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Sfe.set(this.visualElement,this);const e=this.visualElement.current,n=ma(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();wh(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=da(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(mo(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=a4,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function wm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ife(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _fe extends Yl{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new wfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}class Mfe extends Yl{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new KF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:n,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=ma(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Tfe(){const t=V.useContext(G9);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=V.useId();return V.useEffect(()=>i(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}function BM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Td={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ft.test(t))t=parseFloat(t);else return t;const n=BM(t,e.target.x),i=BM(t,e.target.y);return`${n}% ${i}%`}},ek=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bfe(t){const e=ek.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function u4(t,e,n=1){const[i,r]=Bfe(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():Y8(r)?u4(r,e,n+1):r}function bfe(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const s=r.get();if(!Y8(s))return;const o=u4(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!Y8(s))continue;const o=u4(s,i);o&&(e[r]=o,n&&n[r]===void 0&&(n[r]=s))}return{target:e,transitionEnd:n}}const bM="_$css",Rfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=t.includes("var("),s=[];r&&(t=t.replace(ek,A=>(s.push(A),bM)));const o=kl.parse(t);if(o.length>5)return i;const a=kl.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=Mn(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(r){let A=0;p=p.replace(bM,()=>{const m=s[A];return A++,m})}return p}};class Pfe extends a2.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Dce(Dfe),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Zi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tk(t){const[e,n]=Tfe(),i=V.useContext(nF);return a2.createElement(Pfe,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(iF),isPresent:e,safeToRemove:n})}const Dfe={borderRadius:{...Td,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Td,borderTopRightRadius:Td,borderBottomLeftRadius:Td,borderBottomRightRadius:Td,boxShadow:Rfe};function Lfe(t,e,n={}){const i=gr(t)?t:ff(t);return i.start(u7("",i,e,n)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const nk=["TopLeft","TopRight","BottomLeft","BottomRight"],Ffe=nk.length,RM=t=>typeof t=="string"?parseFloat(t):t,PM=t=>typeof t=="number"||ft.test(t);function kfe(t,e,n,i,r,s){r?(t.opacity=Mn(0,n.opacity!==void 0?n.opacity:1,Nfe(i)),t.opacityExit=Mn(e.opacity!==void 0?e.opacity:1,0,Ofe(i))):s&&(t.opacity=Mn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Ffe;o++){const a=`border${nk[o]}Radius`;let l=DM(e,a),c=DM(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PM(l)===PM(c)?(t[a]=Math.max(Mn(RM(l),RM(c),i),0),(Ro.test(c)||Ro.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Mn(e.rotate||0,n.rotate||0,i))}function DM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nfe=ik(0,.5,l7),Ofe=ik(.5,.95,As);function ik(t,e,n){return i=>i<t?0:i>e?1:n(a0(t,e,i))}function LM(t,e){t.min=e.min,t.max=e.max}function is(t,e){LM(t.x,e.x),LM(t.y,e.y)}function FM(t,e,n,i,r){return t-=e,t=r2(t,1/n,i),r!==void 0&&(t=r2(t,1/r,i)),t}function Ufe(t,e=0,n=1,i=.5,r,s=t,o=t){if(Ro.test(e)&&(e=parseFloat(e),e=Mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Mn(s.min,s.max,i);t===s&&(a-=e),t.min=FM(t.min,e,n,a,r),t.max=FM(t.max,e,n,a,r)}function kM(t,e,[n,i,r],s,o){Ufe(t,e[n],e[i],e[r],e.scale,s,o)}const Gfe=["x","scaleX","originX"],Qfe=["y","scaleY","originY"];function NM(t,e,n,i){kM(t.x,e,Gfe,n?n.x:void 0,i?i.x:void 0),kM(t.y,e,Qfe,n?n.y:void 0,i?i.y:void 0)}function OM(t){return t.translate===0&&t.scale===1}function rk(t){return OM(t.x)&&OM(t.y)}function h4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function UM(t){return Nr(t.x)/Nr(t.y)}class Hfe{constructor(){this.members=[]}add(e){q9(this.members,e),e.scheduleRender()}remove(e){if(Z9(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GM(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const zfe=(t,e)=>t.depth-e.depth;class Vfe{constructor(){this.children=[],this.isDirty=!1}add(e){q9(this.children,e),this.isDirty=!0}remove(e){Z9(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zfe),this.isDirty=!1,this.children.forEach(e)}}function Wfe(t){window.MotionDebug&&window.MotionDebug.record(t)}const QM=["","X","Y","Z"],HM=1e3;let Jfe=0;const Tc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Jfe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Tc.totalNodes=Tc.resolvedTargetDeltas=Tc.recalculatedProjection=0,this.nodes.forEach(Yfe),this.nodes.forEach($fe),this.nodes.forEach(ede),this.nodes.forEach(Xfe),Wfe(Tc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vfe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $9),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=WF(p,250),sp.hasAnimatedSinceResize&&(sp.hasAnimatedSinceResize=!1,this.nodes.forEach(VM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:A,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||sde,{onLayoutAnimationStart:v,onLayoutAnimationComplete:C}=u.getProps(),y=!this.targetLayout||!h4(this.targetLayout,m)||A,x=!p&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const S={...JF(g,"layout"),onPlay:v,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&VM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tde),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zM);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ode),this.potentialNodes.clear()),this.nodes.forEach(Zfe),this.nodes.forEach(jfe),this.nodes.forEach(Kfe),this.clearAllSnapshots(),b6.update(),b6.preRender(),b6.render())}clearAllSnapshots(){this.nodes.forEach(qfe),this.sharedNodes.forEach(nde)}scheduleUpdateProjection(){Zi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Zi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!rk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Mc(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ade(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Yn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(rl(a.x,l.offset.x),rl(a.y,l.offset.y)),a}removeElementScroll(o){const a=Yn();is(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){is(a,o);const{scroll:p}=this.root;p&&(rl(a.x,-p.offset.x),rl(a.y,-p.offset.y))}rl(a.x,u.offset.x),rl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Yn();is(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_h(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mc(u.latestValues)&&_h(l,u.latestValues)}return Mc(this.latestValues)&&_h(l,this.latestValues),l}removeTransform(o){const a=Yn();is(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Mc(c.latestValues))continue;l4(c.latestValues)&&c.updateSnapshot();const u=Yn(),d=c.measurePageBox();is(u,d),NM(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Mc(this.latestValues)&&NM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),cp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yn(),this.targetWithTransforms=Yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?ufe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),ZF(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),cp(this.relativeTargetOrigin,this.target,p.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||l4(this.parent.latestValues)||qF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;is(this.layoutCorrected,this.layout.layoutBox),yfe(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=up(),this.projectionDeltaWithTransform=up());const A=this.treeScale.x,m=this.treeScale.y,g=this.projectionTransform;lp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=GM(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==A||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Tc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=up();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Yn(),A=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=A!==m,v=this.getStack(),C=!v||v.members.length<=1,y=!!(g&&!C&&this.options.crossfade===!0&&!this.path.some(rde));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const I=S/1e3;WM(d.x,o.x,I),WM(d.y,o.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cp(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ide(this.relativeTarget,this.relativeTargetOrigin,p,I),x&&h4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Yn()),is(x,this.relativeTarget)),g&&(this.animationValues=u,kfe(u,c,this.latestValues,I,y,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zi.update(()=>{sp.hasAnimatedSinceResize=!0,this.currentAnimation=Lfe(0,HM,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ok(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yn();const d=Nr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Nr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}is(a,l),_h(a,u),lp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Hfe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<QM.length;u++){const d="rotate"+QM[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=eg(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=eg(o.pointerEvents)||""),this.hasProjected&&!Mc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=GM(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:A,y:m}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in qg){if(p[g]===void 0)continue;const{correct:v,applyTo:C}=qg[g],y=c.transform==="none"?p[g]:v(p[g],d);if(C){const x=C.length;for(let S=0;S<x;S++)c[C[S]]=y}else c[g]=y}return this.options.layoutId&&(c.pointerEvents=d===this?eg(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zM),this.root.sharedNodes.clear()}}}function jfe(t){t.updateLayout()}function Kfe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?mo(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],A=Nr(p);p.min=i[d].min,p.max=p.min+A}):ok(s,n.layoutBox,i)&&mo(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],A=Nr(i[d]);p.max=p.min+A});const a=up();lp(a,i,n.layoutBox);const l=up();o?lp(l,t.applyTransform(r,!0),n.measuredBox):lp(l,i,n.layoutBox);const c=!rk(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:A}=d;if(p&&A){const m=Yn();cp(m,n.layoutBox,p.layoutBox);const g=Yn();cp(g,i,A.layoutBox),h4(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Yfe(t){Tc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qfe(t){t.clearSnapshot()}function zM(t){t.clearMeasurements()}function Zfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function $fe(t){t.resolveTargetDelta()}function ede(t){t.calcProjection()}function tde(t){t.resetRotation()}function nde(t){t.removeLeadSnapshot()}function WM(t,e,n){t.translate=Mn(e.translate,0,n),t.scale=Mn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JM(t,e,n,i){t.min=Mn(e.min,n.min,i),t.max=Mn(e.max,n.max,i)}function ide(t,e,n,i){JM(t.x,e.x,n.x,i),JM(t.y,e.y,n.y,i)}function rde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sde={duration:.45,ease:[.4,0,.1,1]};function ode(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const r=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&t.mount(r,!0)}function jM(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function ade(t){jM(t.x),jM(t.y)}function ok(t,e,n){return t==="position"||t==="preserve-aspect"&&!o4(UM(e),UM(n),.2)}const lde=sk({attachResizeListener:(t,e)=>da(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U6={current:void 0},ak=sk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!U6.current){const t=new lde(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),U6.current=t}return U6.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cde={pan:{Feature:Mfe},drag:{Feature:_fe,ProjectionNode:ak,MeasureLayout:tk}},ude=new Set(["width","height","top","left","right","bottom","x","y"]),lk=t=>ude.has(t),hde=t=>Object.keys(t).some(lk),KM=t=>t===Eu||t===ft,YM=(t,e)=>parseFloat(t.split(", ")[e]),XM=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return YM(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?YM(s[1],t):0}},fde=new Set(["x","y","z"]),dde=w1.filter(t=>!fde.has(t));function pde(t){const e=[];return dde.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const qM={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:XM(4,13),y:XM(5,14)},Ade=(t,e,n)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=qM[c](i,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=qM[c](l,s)}),t},mde=(t,e,n={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(lk);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Md(u);const p=e[l];let A;if($g(p)){const m=p.length,g=p[0]===null?1:0;u=p[g],d=Md(u);for(let v=g;v<m;v++)A?n2(Md(p[v])===A):A=Md(p[v])}else A=Md(p);if(d!==A)if(KM(d)&&KM(A)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&A===ft&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(A!=null&&A.transform)&&(u===0||p===0)?u===0?c.set(A.transform(u)):e[l]=d.transform(p):(o||(s=pde(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Ade(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),C1&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function gde(t,e,n,i){return hde(e)?mde(t,e,n,i):{target:e,transitionEnd:i}}const vde=(t,e,n,i)=>{const r=bfe(t,e,i);return e=r.target,i=r.transitionEnd,gde(t,e,n,i)},f4={current:null},ck={current:!1};function yde(){if(ck.current=!0,!!C1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>f4.current=t.matches;t.addListener(e),e()}else f4.current=!1}function xde(t,e,n){const{willChange:i}=e;for(const r in e){const s=e[r],o=n[r];if(gr(s))t.addValue(r,s),t2(i)&&i.add(r);else if(gr(o))t.addValue(r,ff(s,{owner:t})),t2(i)&&i.remove(r);else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ff(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uk=Object.keys(r0),Cde=uk.length,ZM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ede=H9.length;class Sde{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=S1(n),this.isVariantNode=eF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const p=u[d];a[d]!==void 0&&gr(p)&&(p.set(a[d],!1),t2(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ck.current||yde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:f4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fl.update(this.notifyUpdate),Fl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=Cu.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Zi.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,r,s,o){let a,l;for(let c=0;c<Cde;c++){const u=uk[c],{isEnabled:d,Feature:p,ProjectionNode:A,MeasureLayout:m}=r0[u];A&&(a=A),d(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),m&&(l=m))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:A,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||p&&wh(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:A,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ZM.length;i++){const r=ZM[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=xde(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<Ede;i++){const r=H9[i],s=this.props[r];(i0(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ff(n,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(n=X9(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $9),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hk extends Sde{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:r},s){let o=Jue(i,e||{},this);if(r&&(n&&(n=r(n)),i&&(i=r(i)),o&&(o=r(o))),s){Vue(this,i,o);const a=vde(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function wde(t){return window.getComputedStyle(t)}class Ide extends hk{readValueFromInstance(e,n){if(Cu.has(n)){const i=n7(n);return i&&i.default||0}else{const i=wde(e),r=(oF(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $F(e,n)}build(e,n,i,r){V9(e,n,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Y9(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,r){hF(e,n,i,r)}}class _de extends hk{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cu.has(n)){const i=n7(n);return i&&i.default||0}return n=fF.has(n)?n:K9(n),e.getAttribute(n)}measureInstanceViewportBox(){return Yn()}scrapeMotionValuesFromProps(e,n){return pF(e,n)}build(e,n,i,r){J9(e,n,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,i,r){dF(e,n,i,r)}mount(e){this.isSVGTag=j9(e.tagName),super.mount(e)}}const Mde=(t,e)=>z9(t)?new _de(e,{enableHardwareAcceleration:!1}):new Ide(e,{enableHardwareAcceleration:!0}),Tde={layout:{ProjectionNode:ak,MeasureLayout:tk}},Bde={...ofe,...vue,...cde,...Tde},Or=Rce((t,e)=>sue(t,e,Bde,Mde)),wi={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},bde=()=>ut("section",{className:"relative w-full h-screen mx-auto",children:[ut("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${wi.paddingX} flex flex-row items-start gap-5`,children:[ut("div",{className:"flex flex-col justify-center items-center mt-5",children:[xe("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),xe("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),ut("div",{children:[ut("h1",{className:`${wi.heroHeadText} text-white`,children:["Hi, I'm ",xe("span",{className:"text-[#915EFF]",children:"Cristian Varela"})]}),ut("p",{className:`${wi.heroSubText} mt-2 text-white-100`,children:["I develop Web Applications, User",xe("br",{className:"sm:block hidden"}),"Interfaces & Mobile Applications"]})]})]}),xe(uce,{}),xe("div",{className:"absolute xs:bottom-2 bottom-2 w-full flex justify-center items-center",children:xe("a",{href:"#about",children:xe("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:xe(Or.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),Rde="/assets/logo-5d95862e.svg",Pde="/assets/backend-565fc01f.png",Dde="/assets/creator-dbbffaec.png",Lde="/assets/mobile-896ef2f5.png",Fde="/assets/web-0d05165f.png",kde="/assets/github-3b4e1609.png",Nde="/assets/menu-b5599218.svg",Ode="/assets/close-54702a70.svg",Ude="/assets/css-79a7f026.png",Gde="/assets/docker-602a695a.png",Qde="/assets/figma-184a11e6.png",Hde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",zde="/assets/html-92b76a73.png",Vde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",Wde="/assets/mongodb-54000b2b.png",Jde="/assets/nodejs-d83eb6dd.png",jde="/assets/reactjs-966214a8.png",Kde="/assets/redux-171787ca.png",Yde="/assets/tailwind-6ece120d.png",Xde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",qde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAADACAMAAADRLT0TAAAA+VBMVEX////ZACv8///aAC3UAAD+//3XACTYACDcR0/cZG/wrrXZASrVABH76er68/XWHi/ZMDzjaHP87+/XUmDWAAv30NTZS1fxurzQAADYAADgm6j//P/YAC/ZADDZACPWABvs3eLy297fcXjeACrSABnz8vHvzdXv09bx0NjlytHtxdDv2NjdWWbOKTb6/vj26u/dW27q09HRESfbO0vhra3loablwcTipaTckZ3WTFDjqKLwysjPS1TdbnjcenzRNj7chozZjYzVZ2jjfonTRELYX2HWcHTmm5ro5efxtr7ULSvgl5HQYmHdgX7PP0fefnvgqrPMU13elaPI9U3CAAAN5ElEQVR4nO1bDVvbOBKWJcuGykko9QZ7LdubOi3bBcI1QCjlK4WlbHu7XHv//8ec5MSW7MghJKG399y83X26G9vS6NXMaDQaIQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBKwPJfPPlbIaKIir9owzeY4toHJQaTRjFt/HquNKJhRKcfUoobOilfb/wfDUVzjSMaiE7fvH23G4nuaOUFmv/Q0DAu2qz/HlEaTVpsyzFE80ZghqBfEtjeffeuhyXVjXRPBInky7++e9urD6DEQLbXevtbT06NgddoQCO0t9/xfe/gcjvvXftYdtLb/fWnWez2eoeyMTorH0UR7v2j49uixRaOBk+jYNICRu3jbscL7f7W5i7G0RyVEixg9H7/wPP94dFxA11iLt53+7bXPzoREhtmRnR54juJReIsdUa1j2l0sjH0jEidzsb+1ahloCFCp56bEQHP+WLq8zEImU4PbMYIt7jjea9+mWNaOIow/WynTHTHEnvTyLrQkQ+By+Ub/lkLz6qMGMXHgGWcWJZFHPu8+rB9EbpSmDqI+MOY46bh8LI30yf+aGfiufjHYvb5I4ZtlvoqSCY9yd7T4d6clyMcbYa5UMzi3L4xUUbRaWgJEgRXzLuLDCLhVp9NB8et5Lp8I3eaZ2k2Q0EFnPn+uI3wQHMB9DAg08csTq7bT2YBo09+hXSnP8O1/vaVTwrOYmZ/MPgH2g6sYpSWvTPbCEX3oRI6C9+rR0K3Q4MmVAQUHVv+Q0ssGiUNWBiZIo+H57OdPoZdm5BKN+m+wQcVI9i1y/eElpLA1OFxOUiLpbeGRvDLlKhmghP1CGNPqv88FmKpiFba30W6871xCuYZZ979k1nAF27M9G4sYprB4u17X5srwrODN7MvjT1WjISkrwzrDu665QvESsfl78Ld25wzXR7hD5ilT5T0S4QT1m+plinqKGUQLRq4fwTnfk0HGU8uTAaddxf9nhFNHkbSzxMx9EFeutpLDwY7jTYcXejXRQtCy3+za9pApphRC/dMl9JV1BGeXj6NgwFGd2mVBmF5TrOrxf2qLMSSjr7mHu60QbLO9mwr7Y2kTkMOsWjVaDCNv3gU6saU6p+4m09iQYi/58pJrbAvNPl1U2SEPKuisZw4X5Hmq2ZpGLZMNFS0oRRa0PDF1lqX3odwznMrmOWhXxpk7lLUR+6rJ9EgnNWVl/HqyCQTQ0OEkncXVVYVizmc+OOaOkRnmp0+kQb0okIDcf0cInJKHVZnwi89Ia5Mz1NpEFH40CFWzSMJffA+NnwReRVBWCwmKniPazQ4pV6TrIEGbUi5CtMpDy9szQ7i9HbnhcTJh/HnLd8TeqssmFjO76jY1mBPNUieTsNOqH2u/it5aFgz2yGpqY7g4mttMegmsXraeToNqmVfX7Pap7ZbmTPmtYr9xUo0IHRWyiM7UE0Z4wEpij1LAwlry3Q30Qa5Cg2koEFux0WUcHiQZaU6CHHD4/XQ0PNK1yOCX7XaM/d1gzYEszRYPKgOdZ00yG2sxOTDPZ8rq+Dcuy3McTUaPnnlqISr0oyS9A3SowZtsNzr56HB8uuB3JU+XEHDGnwDpXiY8XJU6ScVSJE4PK3lAUoaZpSBkNg+1pMAz0jDXqDTINYYvCINMltzbit3QILW13KhI8zZMKY3jDQwwsJDbdF8NhooOhwyrVt3v5ir5WkQAfydS0oe2Bm698u2GPffL64NLHbvfgQNCL850GlIzooPV9GGlsfi0i36p3ivGCORW7grUyRpokE2EoeawM9oFO2Ock2cJS9XpkHM9anHJn3K+fTFhk0EaiUtbLg9WMwopEIx0t/O7ex5acCtUPkv4Zovi4hleW2g6MCZ7mCFaTgPQgZt4RAiHBtSekYaJGnE+4wj9Nw0iD28Rj4RK8WqNERI2sCUBsbFyjDAMgNT8pB0DQm2Jhp4xoMRnnqT56Oh11dPOSP+PV7VKMQanJb7eML6PSxms5NpQbtvSEo2awNxrt+gNdNAdBqES289pHr3cfhu5biBDgLlB6zsLBdE0zmhcp/m08DiYcJZSSTxPz0rDag9uk4rSQEyLHMZy2vDjopExJbyNP9NWEWhDYw4w7m+QWjQyzuXKbkye3fdviE9+eOXHG+/fLg9sh39mQh7b1ROe2kaLrQMEEtzYTHq6PtMezTzUYWG9OWebSkauDNNuK2PBpbaBTwvIZnoTFswpXyrbq22w1i5ARmHIOk270urELFDcjePBoukL9EnX6XTWTzdaq6PBi0JyeQmsEjWOsIGnUzbySxFg2TwXlscmX+a/0bFFk6ljBkJZoaga4Okof2VabJmXg+vlYYm8JhZsX7ctRQN8nC8k2j9FSc0A7TllI2JkOp+elxupMESNOCRzQsahMdNL2Ra4PlpkEcV4ZU+sUtpA8Vv9Qyw0y0f/dMrGxPDGtZYmKEB4c+eZRU0EBJIV/v8NDAWexv6yftyvoGim1Q7A7FPJk1GA9SrhGl2PQk1ow203WfFoilazLxWnoRTjmytNMiuhDMiwiK22vqeZzltwGI4xa5aJuR75XnJ4CgpfIZoOL2pRZKz2oBG5U/yeElsNVFXTyKvkwYSx2SSJrM3q/udJVeKb4H6yHJE7ISndSn56ZwKBYLamZOBBvSnq0JPwuxj1GVaLLpOGpg8yBMSe8FvaB00YC1osKzwFNNpOY3YaXhMCUL808dowOjQ1hLRwiwOuy5fm1GQOhzPdscU1U6IlqNB26/KM5dDvYrpLCHa5HYeoWEiumqLxOlfNzrHq9GQhhrswLaDh/Fo+urqNHxSWxRuOQ9fdr7sFDh/qYtI7N2K+hloEApx5rBpUpPwzNJ1YcVzCufy5GeFLzu9bcMB+tI00I6jjYYx39aQVMI4b4x05s00bNs81gZWyV2vtLUKqxttrWRvHTSMqprHdAuUUat2HEg8rKdmTTTIGNznWUONykpGoVdayMCMooYixKVokEGDJikn8g+bQJ9Msa/I/GM9NWukQbxw7Tb595W0wZspOGkqG30yDRhte/qRKMvtotSIapEFF4EApqpzIw0CPdt09L4qDbNJuMZBLaENJ2HszC+z0hEcamrYRAMeew3q8HelgUZnLpmpFWhEnvB7lIY8v/s/RQN6HyzMgUTWofNXilwMtOubP//hNJAFfcNVSsqcUYNW6NpC9CrDJhqEH7/yjJV8P54GxppowJjSiE62DduV2jk+E62SfIut7RHTy0cWzEkP7S3n70GDTBy0tw1otyNURuHH5a5KEBc7rgGpUwkdAlXM1uwbIjQKtb3Ff5MGkrHUhM5Bd/Mkmqz/9E5F/JwR9sqELd3fEVtV3tWTcEoO8efGXQ8N6tlyLlIzzkkkVEx65rj2wWROW56yCUa818ZWP+plBMzZKLdzjS5Scrw9rNfUiS4eo4HrlXC4Wgln2aMFa+Gx3xC21CDm7mEgI/J7jTc2s5GeoqUXnTIS7BUhbFuXUtcGJGPqY5uwamEdY1uHhiNARYOIulRNq7DbnQoN/u6iNHiLhQBC08L8bHZf01yeeeYdG75LtLy75ZeF8m2tMIT3qzRQjO9SXqtrzRYqFo4mRoEnxcIaDT8txoI8jJ+tyTKAxSy5k4p7rZ9+uX82NHusKj7EYqKOh7TyUKZp8+QZpS2PZ5VttuVsvJmd0Khb0kAqNdP1YuF0dzEWInywEAu5NzxqY9RyLLWfyJpcEFX3Pqw4iZ3u1L9KGkp1ttK/qjNC8zsEmd4tSe8MN4LwfqqMgsky22kLEf4pEDyWPLi9xYwCo3+5LL9i8AiENrAjIecvXjxNkBBZutU279gofp0ya/KiJPBsev+K4r6m8v3xzIfCLKzyFFToEfOMNf2vVaV3nPkvtCdvAi1kybYWvDuG8U7AGXs8t58Rnt5Io9jik+nKb2ddNV6yO7f5VG0EgbKUfNId3SjzCoT5hpLiN+qKkNytxiIENdz/2glVKzxUYYmQ5khLXAirW4wHYU1bSTyn3F4hDvMk3s304oD8xD4379/Fj9GDM92NE4fIL6d83fvlLRZivzV8q/L1eS3+74Z6ugi3j5RV2Or0SWZWzlX8xII9uuAdOmHtfY/zxx1E7G3mtyx7QVnv5F40XjbEYuUqysPi/N7YVB3U1S7inhlJHBc8CGN15aGm4XYN2uunsTx4YSS8qOXVxnYiFZGzJPgmKVuMB6Hn+4HnJm7CGuEkaT+8mThjvCPLBCRc73DexdOrMM5PBWL/WmktRadBlt92IqmpNl4MWl7NYxMaXM+44Mkrqq2LwHOcLA2u6ql2/K1vJ5aM90bTy68LAp/fvvz+vbvVhIf977e3I1yUAoyGYWK5SXAw54adFHZse5aVpPZ3tfJHMs4LQpezNHjVoibLjTD+EIhI1XG98PLQ3HQk5hiPPm88bNz26llW6b9O9o+ONo8bktCNLMjbxTiK2k2IJhW1U9YHqP1NdHPzM22+YDeRZ+9q46j7eVdXa1nzd/jvu+uN1yNqqibGshvcG58dHX0f7zVcc5bXsKVXa7dzzag+jKR2yEfY7Lfm8UAbLwVNm6YDrUPxdruNH73ZTvP3UEUeeec6woLxPFdu6DTKW8VoOo4mD9zwP88KWvkLl7u5p31u+ObxJn7cIAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4P8T/wHPZyPsoWq6fgAAAABJRU5ErkJggg==",Zde="/assets/bootcoop-5ebd1f29.png",$de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU8SURBVHgBrVdraBxVFP7uzOwju5tkN9s2BqvdWAvalrgipPjANKBFI74oIhS19YePP9rqj6K/qtQ//rERfEB/aIMIIohF8UEhakBqH4JJJYkxYHZD3snuTHaTfcxm5nru7G6SzWNnt82BuzN75875zv3OueecYahQRkZUf20tnmKy1MbAw5wjRNP+wmONMUS4yXo5N3uSSZxvbg5olehldgsmJ9WQ0ykdB+PHVgHaC2fndN18t6kpEMH1GCB27PdLp0zOT+BGhLPOYLD+DVRjgLVrF/uVbkPYGonoWd6+ERvS2omZGTW8xeBCrA0J3WsflDBQzc5TGYq6SQmzmoTtfhOhJhMeN7d7bR0TJQbE4tqIHbgA/uGiEz/94cJiutSDHfdlcbQjAzsjJMbvDgTyp0Qpzqrq/BkKuJDd2yc/9mFWzXuOSfktSDKnAXT/7cT8EsPrT6TLqQiZpnSKrlZgWlsoUD9ig43olIy3z/oImGNvyMAjrVnsajQxl2T4+pIL4/MMksLx5qMZ7NlhltVFrmgWrrAMiMXmPy+cc1v5vd+B2ALDkwf0kvl0juH0BReydN+6y8Cz+3Nl9XDOP9wWDJxgqqr6Tc5UbIGcvuxEluJw7zYTR25fsluuUSw0K4ZB6VXCdUvGYJimbQ+RG1gdnQQHx34b+gvizxG2wpjURoSgGunTGL6bUCCTvyUCFH6XKJw92wzUO4CWusr0yVRXFPJ9GFWK7MiDFYGtK52C6atJ7KMr7q2tTBHnYXEMQ6hS9ns5FEo6xDomJ5YweDWN0UsJJBd0/GuaSMRzeOaxhkpUhRgln6r4j/ZKiAwQeGoJO+8Awg/I1vzlK2l89Y2KOBmR5QZefX4HDlbARFUG9HW5MRllSBlLSJk0jByCIROHX3Zaz+NxA++9P03HVIfs4vjsg2ZbnSL+SxqHzCJD9Jq8buHsjxnkBtPwcIZ6jwIvOd9DIxaRMPFfPuobGmQcaq+Dl4LE1CUMDqft8DVhQGT537SEj17w4IuTNfjyrRr0/+JANpXP93r3HLxJDQH3Iu5/JYu2Fw0LSIzpkZWa0NbmtQwTY2zMNhdEFMpIfYwx6yS4fSveGOmVMTEoo+asC3tuSuCeUTLAl0Pa68PoFTe0qAxPgahg0KDfPAs1NYzmhUsYcnZ1iTGKKI7fiv/dFN0vfZLGg8/p8Ddy5Cib6jS0cRPehGoxEB8yEb3owMKUBCeTsT3owK3hlcSTUDkZoFjM1HmVsvjcMHsUWcZ5k+MMCv1ePRUXYYAYIhbG+mVoQy54f86HSkCdgVoXhLeBoyms45bW0pw/OgCKD4d133RzeQMEtiLq8lxM7SI3HF+7YFeLYQ0hzqgXGNAoaQzjtmNuOB/avk7h/BTDPz0SMeCAh9LA7t2OzdEZOxcI+DUreqgghagglS3H0ngSnsPfI83dWPTVw3y8GcrDjTCJbj2nID7mwvCfLutoirHvSAYtd7o210eFiDYfWQ5fYqFzIxZWizwYg/5aN5wJGSkyIlXrt4wp3qe8dYgT6zsPpRA+sHmFK5Zii4jiZKEs/wWb1CyYcHx6DcaFKQu4aECmsQGjLT60dLgQbCz7uREJNviXM1TJyoIrKmpKEwYd2eF5+KgvSQbdkHY4UeuwreuiH2wX1G9ogBDROssK+xZb25YXwZ8m8N7VkxtyVQ0TVYCX7LwoG3ImForWWQQLblCEjkIbHtnoue3HqWDDMPEOnZCjqFw0Au6SJXRuBlyxAasM8Yv+kd44SMbcBZR+ntOIcM56QZ/nIsMVPzzs5H9z/zHr991fsQAAAABJRU5ErkJggg==",epe="/assets/buspack-f56a5800.ico",tpe="/assets/grissia-14f3eb5a.png",npe="/assets/nutrisuple-876ebf4e.png",ipe="/assets/inmobilapp-88daa473.png",$M=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],rpe=[{title:"Web Developer",icon:Fde},{title:"React Native Developer",icon:Lde},{title:"Backend Developer",icon:Pde},{title:"Content Creator",icon:Dde}],spe=[{name:"HTML 5",icon:zde},{name:"CSS 3",icon:Ude},{name:"JavaScript",icon:Vde},{name:"TypeScript",icon:Xde},{name:"React JS",icon:jde},{name:"Redux Toolkit",icon:Kde},{name:"Tailwind CSS",icon:Yde},{name:"Node JS",icon:Jde},{name:"MongoDB",icon:Wde},{name:"git",icon:Hde},{name:"figma",icon:Qde},{name:"docker",icon:Gde}],ope=[{title:"SSr React.js Developer",company_name:"Buspack",icon:epe,iconBg:"#FFFFFF",date:"Nov 2022 - July 2023",points:["Serving as a Senior React.js Developer at Buspack, I'm entrusted with elevating the user interface to new heights of excellence.","Building and optimizing responsive web applications with a focus on user engagement and satisfaction.","Demonstrating expertise in React.js and staying abreast of industry trends and emerging technologies.","Collaborating with cross-functional teams to deliver high-impact solutions and meet project objectives."]},{title:"Front End Developer",company_name:"Etres",icon:$de,iconBg:"#FFFFFF",date:"Ago 2023 - Dec 2023",points:["Playing a pivotal role in the front-end development team at Etres, crafting visually appealing and responsive user interfaces with JavaScript, CSS.","Collaborating seamlessly with design and back-end teams using PHP to ensure a harmonious user experience.","Striving for pixel-perfect precision and implementing best practices for code quality and maintainability.","Contributing to the development of cutting-edge web applications that resonate with users."]},{title:"Full stack Developer",company_name:"IPLAN",icon:qde,iconBg:"#FFFFFF",date:"Sept 2020 - Present",points:["Developing and maintaining web applications using React.js, React Native and JavaScript.","Backend in Node.JS and .NET, with SQL and Firebase as Database.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Founder & Full Stack Developer",company_name:"Boot Coop",icon:Zde,iconBg:"#FFFFFF",date:"July 2022 - Present",points:["As the founder and full-stack developer at Boot Coop, I pioneered the conceptualization, development, and growth of our digital ventures.","Proficiently employing a blend of technologies such as React.js, React Native, Node.js, .NET, SQL, PHP and Firebase to create dynamic web applications.","Nurturing user-centric design principles to deliver captivating and intuitive user interfaces.","Leading a team of skilled developers and fostering innovation in the digital landscape."]}],ape=[{testimonial:"I thought it was impossible to make a web as beautiful as our product, but Cristian proved me wrong.",name:"Josefina Stanglino",designation:"CEO",company:"Grissia",image:"https://media.licdn.com/dms/image/C4D03AQHju_l27VfdYw/profile-displayphoto-shrink_800_800/0/1650638188809?e=2147483647&v=beta&t=ocC8S-ZrecbXTUPGcodI4Le11ng_kkWYBAEpUp4HXh4"},{testimonial:"I've never met a web developer who truly cares about their clients' success like Cristian does.",name:"Lautaro Riveiro",designation:"Sr Developer",company:"Boot Coop",image:"https://media.licdn.com/dms/image/C4D03AQEbZObEjzAZTw/profile-displayphoto-shrink_400_400/0/1661276288023?e=1699488000&v=beta&t=_-2jLR2RuZXcKOrl8RzLGMKBm4HV7i77bO1zv0grEYI"},{testimonial:"After Cristian optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Romina Dangelo",designation:"CTO",company:"IPLAN",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSek8tfQ7IZLE9Se6MGJzLSzA9F8Lm7kZcBaw&usqp=CAU"}],lpe=[{name:"Grissia",description:"A web site designed for community managers, simplifying social media management, content scheduling, and engagement, ensuring efficient and effective online community oversight.",tags:[{name:"JavaScript",color:"blue-text-gradient"},{name:"HTML",color:"green-text-gradient"},{name:"SCSS",color:"pink-text-gradient"}],image:tpe,source_code_link:"https://github.com/"},{name:"Nutrisuple",description:"An efficient ecommerce site offering a diverse range of medical supplies, including pills and healthcare essentials. User-friendly design ensures easy browsing and shopping for health needs.",tags:[{name:"JavaScript",color:"blue-text-gradient"},{name:".NET",color:"green-text-gradient"},{name:"scss",color:"pink-text-gradient"}],image:npe,source_code_link:"https://github.com/"},{name:"Inmobilapp",description:"A web platform, tailored for a real estate agency, facilitating seamless rentals of apartments. Simplifying property searches and bookings, it enhances the rental experience for tenants and property owners.",tags:[{name:"nextjs",color:"blue-text-gradient"},{name:"supabase",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:ipe,source_code_link:"https://github.com/"}],cpe=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(!1),[r,s]=V.useState(!1);return V.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),xe("nav",{className:`${wi.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:ut("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[ut(fG,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[xe("img",{src:Rde,alt:"logo",className:"w-9 h-9 object-contain"}),ut("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Cristian  ",xe("span",{className:"sm:block hidden",children:" | Portfolio"})]})]}),xe("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:$M.map(o=>xe("li",{className:`${t===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:xe("a",{href:`#${o.id}`,children:o.title})},o.id))}),ut("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[xe("img",{src:n?Ode:Nde,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!n)}),xe("div",{className:`${n?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:xe("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:$M.map(o=>xe("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${t===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!n),e(o.title)},children:xe("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})};var fk={};Object.defineProperty(fk,"__esModule",{value:!0});var Bd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},upe=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),dk=V,hpe=dpe(dk),fpe=gb;function dpe(t){return t&&t.__esModule?t:{default:t}}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ape(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gpe=function(t){mpe(e,t);function e(n){ppe(this,e);var i=Ape(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return upe(e,[{key:"componentDidMount",value:function(){this.element=(0,fpe.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Bd({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:Bd({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Bd({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:Bd({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),c=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),u=o*100,d=a*100;return{tiltX:l,tiltY:c,percentageX:u,percentageY:d}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:Bd({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return hpe.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(dk.Component),pk=fk.default=gpe;const T1=t=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:t}}}),s3=(t,e,n,i)=>({hidden:{x:t==="left"?100:t==="right"?-100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),eT=(t,e,n,i)=>({hidden:{x:t==="left"?"-100%":t==="right"?"100%":0,y:t==="up"||t==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:n,duration:i,ease:"easeOut"}}}),vpe=(t,e)=>({hidden:{},show:{transition:{staggerChildren:t,delayChildren:e||0}}}),Bf=(t,e)=>function(){return ut(Or.section,{variants:vpe(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${wi.padding} max-w-7xl mx-auto relative z-0`,children:[xe("span",{className:"hash-span",id:e,children:" "}),xe(t,{})]})},ype=({index:t,title:e,icon:n})=>xe(pk,{className:"xs:w-[250px] w-full",children:xe(Or.div,{variants:s3("right","spring",t*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:ut("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[xe("img",{src:n,alt:"web-development",className:"w-16 h-16 object-contain"}),xe("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),xpe=()=>ut(E4,{children:[ut(Or.div,{variants:T1(),children:[xe("p",{className:wi.sectionSubText,children:"Introduction"}),xe("h2",{className:wi.sectionHeadText,children:"Overview."})]}),xe(Or.p,{variants:s3("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I'm a skilled software developer with experience in JavaScript, and expertise in frameworks like React, Node.js, and Angular.js. I'm a quick learner and collaborate closely with clients to create efficient, scalable, and user-friendly solutions that solve real-world problems. Let's work together to bring your ideas to life!"}),xe("div",{className:"mt-20 flex flex-wrap gap-10",children:rpe.map((t,e)=>xe(ype,{index:e,...t},t.title))})]}),Cpe=Bf(xpe,"about"),Epe=()=>xe("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:spe.map(t=>xe("div",{className:"w-28 h-28",children:xe(lce,{icon:t.icon})},t.name))}),Spe=Bf(Epe,"");var B1={},Ak={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ak);var mk=Ak.exports;B1.__esModule=!0;B1.default=void 0;var wpe=h7(V),qa=h7(XL),Ipe=h7(mk);function h7(t){return t&&t.__esModule?t:{default:t}}const gk=({animate:t=!0,className:e="",layout:n="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),wpe.default.createElement("div",{className:(0,Ipe.default)(e,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":n==="2-columns","vertical-timeline--one-column-left":n==="1-column"||n==="1-column-left","vertical-timeline--one-column-right":n==="1-column-right"})},r));gk.propTypes={children:qa.default.oneOfType([qa.default.arrayOf(qa.default.node),qa.default.node]).isRequired,className:qa.default.string,animate:qa.default.bool,layout:qa.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:qa.default.string};var _pe=gk;B1.default=_pe;var b1={};function d4(){return d4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d4.apply(this,arguments)}function Mpe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p4(t,e)}function p4(t,e){return p4=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},p4(t,e)}function Tpe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var A4=new Map,Im=new WeakMap,tT=0,vk=void 0;function Bpe(t){vk=t}function bpe(t){return t?(Im.has(t)||(tT+=1,Im.set(t,tT.toString())),Im.get(t)):"0"}function Rpe(t){return Object.keys(t).sort().filter(function(e){return t[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?bpe(t.root):t[e])}).toString()}function Ppe(t){var e=Rpe(t),n=A4.get(e);if(!n){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(u){return a.intersectionRatio>=u});t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(u){u(c,a)})})},t);r=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:i},A4.set(e,n)}return n}function f7(t,e,n,i){if(n===void 0&&(n={}),i===void 0&&(i=vk),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=Ppe(n),o=s.id,a=s.observer,l=s.elements,c=l.get(t)||[];return l.has(t)||l.set(t,c),c.push(e),a.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(t),a.unobserve(t)),l.size===0&&(a.disconnect(),A4.delete(o))}}var Dpe=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function nT(t){return typeof t.children!="function"}var s2=function(t){Mpe(e,t);function e(i){var r;return r=t.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),nT(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var n=e.prototype;return n.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,u=r.fallbackInView;this._unobserveCb=f7(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!nT(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=Tpe(a,Dpe);return V.createElement(c||"div",d4({ref:this.handleNode},u),l)},e}(V.Component);s2.displayName="InView";s2.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function Lpe(t){var e=t===void 0?{}:t,n=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,d=V.useRef(),p=V.useState({inView:!!c}),A=p[0],m=p[1],g=V.useCallback(function(C){d.current!==void 0&&(d.current(),d.current=void 0),!l&&C&&(d.current=f7(C,function(y,x){m({inView:y,entry:x}),x.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:n,trackVisibility:r,delay:i},u))},[Array.isArray(n)?n.toString():n,o,s,a,l,r,u,i]);V.useEffect(function(){!d.current&&A.entry&&!a&&!l&&m({inView:!!c})});var v=[g,A.inView,A.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const Fpe=Object.freeze(Object.defineProperty({__proto__:null,InView:s2,default:s2,defaultFallbackInView:Bpe,observe:f7,useInView:Lpe},Symbol.toStringTag,{value:"Module"})),kpe=mN(Fpe);b1.__esModule=!0;b1.default=void 0;var Za=d7(V),xn=d7(XL),_m=d7(mk),Npe=kpe;function d7(t){return t&&t.__esModule?t:{default:t}}const yk=({children:t="",className:e="",contentArrowStyle:n=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:d="",position:p="",style:A=null,textClassName:m="",intersectionObserverProps:g={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:v=!1})=>Za.default.createElement(Npe.InView,g,({inView:C,ref:y})=>Za.default.createElement("div",{ref:y,id:d,className:(0,_m.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":t===""}),style:A},Za.default.createElement(Za.default.Fragment,null,Za.default.createElement("span",{style:u,onClick:l,className:(0,_m.default)(a,"vertical-timeline-element-icon",{"bounce-in":C||v,"is-hidden":!(C||v)})},o),Za.default.createElement("div",{style:i,onClick:c,className:(0,_m.default)(m,"vertical-timeline-element-content",{"bounce-in":C||v,"is-hidden":!(C||v)})},Za.default.createElement("div",{style:n,className:"vertical-timeline-element-content-arrow"}),t,Za.default.createElement("span",{className:(0,_m.default)(s,"vertical-timeline-element-date")},r)))));yk.propTypes={children:xn.default.oneOfType([xn.default.arrayOf(xn.default.node),xn.default.node]),className:xn.default.string,contentArrowStyle:xn.default.shape({}),contentStyle:xn.default.shape({}),date:xn.default.node,dateClassName:xn.default.string,icon:xn.default.element,iconClassName:xn.default.string,iconStyle:xn.default.shape({}),iconOnClick:xn.default.func,onTimelineElementClick:xn.default.func,id:xn.default.string,position:xn.default.string,style:xn.default.shape({}),textClassName:xn.default.string,visible:xn.default.bool,intersectionObserverProps:xn.default.shape({root:xn.default.object,rootMargin:xn.default.string,threshold:xn.default.number,triggerOnce:xn.default.bool})};var Ope=yk;b1.default=Ope;var xk={VerticalTimeline:B1.default,VerticalTimelineElement:b1.default};const Upe=({experience:t})=>ut(xk.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:t.date,iconStyle:{background:t.iconBg},icon:xe("div",{className:"flex justify-center items-center w-full h-full",children:xe("img",{src:t.icon,alt:t.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[ut("div",{children:[xe("h3",{className:"text-white text-[24px] font-bold",children:t.title}),xe("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:t.company_name})]}),xe("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:t.points.map((e,n)=>xe("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${n}`))})]}),Gpe=()=>ut(E4,{children:[ut(Or.div,{variants:T1(),children:[xe("p",{className:`${wi.sectionSubText} text-center`,children:"What I have done so far"}),xe("h2",{className:`${wi.sectionHeadText} text-center`,children:"Work Experience."})]}),xe("div",{className:"mt-20 flex flex-col",children:xe(xk.VerticalTimeline,{children:ope.map((t,e)=>xe(Upe,{experience:t},`experience-${e}`))})})]}),Qpe=Bf(Gpe,"work"),Hpe=({index:t,name:e,description:n,tags:i,image:r,source_code_link:s})=>xe(Or.div,{variants:s3("up","spring",t*.5,.75),children:ut(pk,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[ut("div",{className:"relative w-full h-[230px]",children:[xe("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),xe("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:xe("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:xe("img",{src:kde,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),ut("div",{className:"mt-5",children:[xe("h3",{className:"text-white font-bold text-[24px]",children:e}),xe("p",{className:"mt-2 text-secondary text-[14px]",children:n})]}),xe("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>ut("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),zpe=()=>ut(E4,{children:[ut(Or.div,{variants:T1(),children:[xe("p",{className:`${wi.sectionSubText} `,children:"My work"}),xe("h2",{className:`${wi.sectionHeadText}`,children:"Projects."})]}),xe("div",{className:"w-full flex",children:xe(Or.p,{variants:s3("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),xe("div",{className:"mt-20 flex flex-wrap gap-7",children:lpe.map((t,e)=>xe(Hpe,{index:e,...t},`project-${e}`))})]}),Vpe=Bf(zpe,""),Wpe=({index:t,testimonial:e,name:n,designation:i,company:r,image:s})=>ut(Or.div,{variants:s3("","spring",t*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[xe("p",{className:"text-white font-black text-[48px]",children:'"'}),ut("div",{className:"mt-1",children:[xe("p",{className:"text-white tracking-wider text-[18px]",children:e}),ut("div",{className:"mt-7 flex justify-between items-center gap-1",children:[ut("div",{className:"flex-1 flex flex-col",children:[ut("p",{className:"text-white font-medium text-[16px]",children:[xe("span",{className:"blue-text-gradient",children:"@"})," ",n]}),ut("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),xe("img",{src:s,alt:`feedback_by-${n}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),Jpe=()=>ut("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[xe("div",{className:`bg-tertiary rounded-2xl ${wi.padding} min-h-[300px]`,children:ut(Or.div,{variants:T1(),children:[xe("p",{className:wi.sectionSubText,children:"What others say"}),xe("h2",{className:wi.sectionHeadText,children:"Testimonials."})]})}),xe("div",{className:`-mt-20 pb-14 ${wi.paddingX} flex flex-wrap gap-7`,children:ape.map((t,e)=>xe(Wpe,{index:e,...t},t.name))})]}),jpe=Bf(Jpe,""),l0={_origin:"https://api.emailjs.com"},Kpe=(t,e="https://api.emailjs.com")=>{l0._userID=t,l0._origin=e},Ck=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class iT{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Ek=(t,e,n={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new iT(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new iT(o))}),s.open("POST",l0._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),Ype=(t,e,n,i)=>{const r=i||l0._userID;return Ck(r,t,e),Ek("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},Xpe=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},qpe=(t,e,n,i)=>{const r=i||l0._userID,s=Xpe(n);Ck(r,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",r),Ek("/api/v1.0/email/send-form",o)},Zpe={init:Kpe,send:Ype,sendForm:qpe},$pe=()=>{const t=V.useRef(),[e,n]=V.useState({name:"",email:"",message:""}),[i,r]=V.useState(!1),s=a=>{const{target:l}=a,{name:c,value:u}=l;n({...e,[c]:u})},o=a=>{a.preventDefault(),r(!0),Zpe.send({}.VITE_APP_EMAILJS_SERVICE_ID,{}.VITE_APP_EMAILJS_TEMPLATE_ID,{from_name:e.name,to_name:"JavaScript Mastery",from_email:e.email,to_email:"sujata@jsmastery.pro",message:e.message},{}.VITE_APP_EMAILJS_PUBLIC_KEY).then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),n({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return ut("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[ut(Or.div,{variants:eT("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[xe("p",{className:wi.sectionSubText,children:"Get in touch"}),xe("h3",{className:wi.sectionHeadText,children:"Contact."}),ut("form",{ref:t,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[ut("label",{className:"flex flex-col",children:[xe("span",{className:"text-white font-medium mb-4",children:"Your Name"}),xe("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your good name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ut("label",{className:"flex flex-col",children:[xe("span",{className:"text-white font-medium mb-4",children:"Your email"}),xe("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your web address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),ut("label",{className:"flex flex-col",children:[xe("span",{className:"text-white font-medium mb-4",children:"Your Message"}),xe("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),xe("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]})]}),xe(Or.div,{variants:eT("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:xe(oce,{})})]})},e0e=Bf($pe,"contact"),t0e=()=>xe(cG,{children:ut("div",{className:"relative z-0 bg-primary",children:[ut("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[xe(cpe,{}),xe(bde,{})]}),xe(Cpe,{}),xe(Qpe,{}),xe(Spe,{}),xe(Vpe,{}),xe(jpe,{}),ut("div",{className:"relative z-0",children:[xe(e0e,{}),xe(yce,{})]})]})});G6.createRoot(document.getElementById("root")).render(xe(a2.StrictMode,{children:xe(t0e,{})}))});export default n0e();
